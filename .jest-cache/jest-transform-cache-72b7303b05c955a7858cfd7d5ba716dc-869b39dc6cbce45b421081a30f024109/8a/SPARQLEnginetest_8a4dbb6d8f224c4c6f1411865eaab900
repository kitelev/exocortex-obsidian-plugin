06cdedecd6697983d4472a118dead255
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SPARQLEngine_1 = require("../../../src/application/SPARQLEngine");
const Graph_1 = require("../../../src/domain/semantic/core/Graph");
const Triple_1 = require("../../../src/domain/semantic/core/Triple");
describe('SPARQLEngine', () => {
    let engine;
    let graph;
    beforeEach(() => {
        graph = new Graph_1.Graph();
        engine = new SPARQLEngine_1.SPARQLEngine(graph);
    });
    afterEach(() => {
        engine.destroy();
    });
    describe('Basic Functionality', () => {
        it('should create SPARQLEngine with graph', () => {
            expect(engine).toBeDefined();
            expect(engine.getCacheStatistics).toBeDefined();
        });
        it('should create SPARQLEngine with custom cache config', () => {
            const customConfig = {
                maxSize: 100,
                defaultTTL: 1000,
                enabled: false
            };
            const customEngine = new SPARQLEngine_1.SPARQLEngine(graph, customConfig);
            expect(customEngine).toBeDefined();
            expect(customEngine.getCacheConfig().maxSize).toBe(100);
            expect(customEngine.getCacheConfig().defaultTTL).toBe(1000);
            expect(customEngine.getCacheConfig().enabled).toBe(false);
            customEngine.destroy();
        });
        it('should provide cache management methods', () => {
            expect(engine.getCacheStatistics).toBeDefined();
            expect(engine.invalidateCache).toBeDefined();
            expect(engine.updateCacheConfig).toBeDefined();
            expect(engine.getCacheConfig).toBeDefined();
            expect(engine.cleanupCache).toBeDefined();
            expect(engine.destroy).toBeDefined();
        });
    });
    describe('CONSTRUCT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic CONSTRUCT query', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(3);
            expect(result.provenance).toContain('CONSTRUCT query at');
            expect(result.cached).toBe(false);
        });
        it('should execute CONSTRUCT with specific pattern', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasName> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getPredicate().toString()).toBe('http://example.org/hasName');
        });
        it('should execute CONSTRUCT with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.cached).toBe(false);
        });
        it('should handle CONSTRUCT with multiple patterns', () => {
            const query = `CONSTRUCT { 
                ?s <http://example.org/hasInfo> ?name .
                ?s <http://example.org/hasAge> ?age 
            } WHERE { 
                ?s <http://example.org/name> ?name .
                ?s <http://example.org/age> ?age 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle CONSTRUCT with blank nodes', () => {
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Person')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should handle CONSTRUCT with literals of different types', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/boolean'), Triple_1.Literal.boolean(true)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/decimal'), Triple_1.Literal.double(3.14)));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should throw error for invalid CONSTRUCT query format', () => {
            const invalidQuery = 'INVALID CONSTRUCT QUERY';
            expect(() => engine.construct(invalidQuery)).toThrow('Invalid CONSTRUCT query format');
        });
        it('should return empty result for non-matching patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(0);
            expect(result.provenance).toContain('CONSTRUCT query at');
        });
        it('should handle CONSTRUCT with variable substitution', () => {
            const query = 'CONSTRUCT { <http://example.org/newPerson> <http://example.org/name> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getSubject().toString()).toBe('http://example.org/newPerson');
        });
        it('should handle CONSTRUCT with literal patterns', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasStringName> "test" } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getObject().toString()).toBe('"test"^^http://www.w3.org/2001/XMLSchema#string');
        });
    });
    describe('SELECT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic SELECT query', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result).toBeDefined();
            expect(result.results).toHaveLength(3);
            expect(result.cached).toBe(false);
        });
        it('should execute SELECT with specific variables', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
        });
        it('should execute SELECT with wildcard', () => {
            const query = 'SELECT * WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(3);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('p');
            expect(result.results[0]).toHaveProperty('o');
        });
        it('should execute SELECT with LIMIT', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
        });
        it('should handle SELECT with specific predicate', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results.every(r => r.name)).toBe(true);
        });
        it('should handle SELECT with literal object', () => {
            const query = 'SELECT ?s WHERE { ?s <http://example.org/name> "John Doe" }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].s).toBe('http://example.org/person1');
        });
        it('should throw error for invalid SELECT query format', () => {
            const invalidQuery = 'INVALID SELECT QUERY';
            expect(() => engine.select(invalidQuery)).toThrow('Invalid SPARQL query format');
        });
        it('should return empty result for non-matching SELECT', () => {
            const query = 'SELECT ?s ?o WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(0);
            expect(result.cached).toBe(false);
        });
        it('should handle SELECT with multiple variables bound', () => {
            const query = 'SELECT ?s ?name ?age WHERE { ?s <http://example.org/name> ?name . ?s <http://example.org/age> ?age }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).toHaveProperty('age');
        });
        it('should filter variables correctly in SELECT', () => {
            const query = 'SELECT ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).not.toHaveProperty('s');
        });
    });
    describe('Cache Management Tests', () => {
        it('should cache CONSTRUCT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.construct(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.construct(query);
            expect(result2.cached).toBe(true);
            expect(result2.triples).toHaveLength(result1.triples.length);
        });
        it('should cache SELECT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.select(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.select(query);
            expect(result2.cached).toBe(true);
            expect(result2.results).toEqual(result1.results);
        });
        it('should invalidate cache correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // Cache the result
            engine.select(query);
            // Invalidate cache
            engine.invalidateCache();
            // Next execution should not be cached
            const result = engine.select(query);
            expect(result.cached).toBe(false);
        });
        it('should update cache configuration', () => {
            const newConfig = {
                maxSize: 50,
                defaultTTL: 2000,
                enabled: false
            };
            engine.updateCacheConfig(newConfig);
            const config = engine.getCacheConfig();
            expect(config.maxSize).toBe(50);
            expect(config.defaultTTL).toBe(2000);
            expect(config.enabled).toBe(false);
        });
        it('should provide cache statistics', () => {
            const stats = engine.getCacheStatistics();
            expect(stats).toHaveProperty('hits');
            expect(stats).toHaveProperty('misses');
            expect(stats).toHaveProperty('hitRate');
            expect(stats).toHaveProperty('size');
            expect(stats).toHaveProperty('maxSize');
        });
        it('should cleanup expired cache entries', () => {
            // Set short TTL
            engine.updateCacheConfig({ defaultTTL: 1 });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            engine.select(query);
            // Wait for expiration and cleanup
            setTimeout(() => {
                const cleanedCount = engine.cleanupCache();
                expect(cleanedCount).toBeGreaterThanOrEqual(0);
            }, 10);
        });
        it('should respect cache disabled setting', () => {
            // Disable cache
            engine.updateCacheConfig({ enabled: false });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result1 = engine.select(query);
            const result2 = engine.select(query);
            expect(result1.cached).toBe(false);
            expect(result2.cached).toBe(false);
        });
    });
    describe('Error Handling Tests', () => {
        it('should handle malformed CONSTRUCT queries', () => {
            expect(() => engine.construct('CONSTRUCT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.construct('CONSTRUCT { ?s ?p ?o } MISSING WHERE')).toThrow();
            expect(() => engine.construct('')).toThrow();
        });
        it('should handle malformed SELECT queries', () => {
            expect(() => engine.select('SELECT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.select('SELECT ?s MISSING WHERE')).toThrow();
            expect(() => engine.select('')).toThrow();
        });
        it('should handle queries with invalid syntax gracefully', () => {
            expect(() => engine.construct('CONSTRUCT { } WHERE { }')).not.toThrow();
            expect(() => engine.select('SELECT ?s WHERE { }')).not.toThrow();
        });
        it('should handle null/undefined values in patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(0);
        });
    });
    describe('Query Optimization Tests', () => {
        beforeEach(() => {
            // Create larger dataset for optimization testing
            for (let i = 0; i < 100; i++) {
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string(`Person ${i}`)));
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(20 + i % 50)));
            }
        });
        it('should handle large result sets efficiently', () => {
            const startTime = Date.now();
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            const endTime = Date.now();
            expect(result.results).toHaveLength(100);
            expect(endTime - startTime).toBeLessThan(1000); // Should complete in under 1 second
        });
        it('should optimize CONSTRUCT queries with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 10';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(10);
        });
        it('should cache queries with different formats but same meaning', () => {
            const query1 = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const query2 = 'SELECT   ?s   ?name   WHERE   {   ?s   <http://example.org/name>   ?name   }';
            engine.select(query1);
            const result2 = engine.select(query2);
            expect(result2.cached).toBe(true);
        });
    });
    describe('Complex Query Pattern Tests', () => {
        beforeEach(() => {
            // Setup complex test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/worksAt'), new Triple_1.IRI('http://example.org/company1')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/company1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Tech Corp')));
        });
        it('should handle multi-pattern CONSTRUCT queries', () => {
            const query = `CONSTRUCT { 
                ?person <http://example.org/employee> ?company .
                ?company <http://example.org/hasEmployee> ?person 
            } WHERE { 
                ?person <http://example.org/worksAt> ?company .
                ?person <http://example.org/name> ?name 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle complex variable bindings', () => {
            const query = `SELECT ?personName ?companyName WHERE { 
                ?person <http://example.org/name> ?personName .
                ?person <http://example.org/worksAt> ?company .
                ?company <http://example.org/name> ?companyName 
            }`;
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].personName).toBe('"John Doe"');
            expect(result.results[0].companyName).toBe('"Tech Corp"');
        });
        it('should handle patterns with different node types', () => {
            // Add blank node
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Project')));
            const query = 'SELECT ?s ?type WHERE { ?s <http://example.org/type> ?type }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
    });
    describe('Integration with Graph Tests', () => {
        it('should reflect graph changes in query results', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            // Initially empty
            let result = engine.select(query);
            expect(result.results).toHaveLength(0);
            // Add data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John')));
            // Invalidate cache since graph changed
            engine.invalidateCache();
            // Should reflect new data
            result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should work with pre-populated graph', () => {
            const prePopulatedGraph = new Graph_1.Graph([
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s1'), new Triple_1.IRI('http://example.org/p1'), Triple_1.Literal.string('o1')),
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s2'), new Triple_1.IRI('http://example.org/p2'), Triple_1.Literal.string('o2'))
            ]);
            const engineWithData = new SPARQLEngine_1.SPARQLEngine(prePopulatedGraph);
            const result = engineWithData.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(result.results).toHaveLength(2);
            engineWithData.destroy();
        });
    });
    describe('Edge Cases and Boundary Tests', () => {
        it('should handle empty graph gracefully', () => {
            const emptyEngine = new SPARQLEngine_1.SPARQLEngine(new Graph_1.Graph());
            const constructResult = emptyEngine.construct('CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }');
            const selectResult = emptyEngine.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(constructResult.triples).toHaveLength(0);
            expect(selectResult.results).toHaveLength(0);
            emptyEngine.destroy();
        });
        it('should handle very long queries', () => {
            const longQuery = 'SELECT ?s ?p ?o WHERE { ' + '?s ?p ?o . '.repeat(100) + '}';
            expect(() => engine.select(longQuery)).not.toThrow();
        });
        it('should handle special characters in URIs', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person-with-dash'), new Triple_1.IRI('http://example.org/has_underscore'), Triple_1.Literal.string('Special chars: éñ中文')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should handle numeric literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/value'), Triple_1.Literal.integer(42)));
            const query = 'CONSTRUCT { ?s <http://example.org/newValue> 123 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle boolean literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/flag'), Triple_1.Literal.boolean(true)));
            const query = 'CONSTRUCT { ?s <http://example.org/newFlag> false } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle decimal literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/pi'), Triple_1.Literal.double(3.14159)));
            const query = 'CONSTRUCT { ?s <http://example.org/newPi> 2.71 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLHdFQUFvRztBQUNwRyxtRUFBZ0U7QUFDaEUscUVBQTJGO0FBRzNGLFFBQVEsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO0lBQzFCLElBQUksTUFBb0IsQ0FBQztJQUN6QixJQUFJLEtBQVksQ0FBQztJQUVqQixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ1osS0FBSyxHQUFHLElBQUksYUFBSyxFQUFFLENBQUM7UUFDcEIsTUFBTSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDM0QsTUFBTSxZQUFZLEdBQThCO2dCQUM1QyxPQUFPLEVBQUUsR0FBRztnQkFDWixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsT0FBTyxFQUFFLEtBQUs7YUFDakIsQ0FBQztZQUNGLE1BQU0sWUFBWSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFM0QsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzVELE1BQU0sQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRTFELFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDL0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDNUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMxQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1FBQ25DLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDWixrQkFBa0I7WUFDbEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsNEJBQTRCLENBQUMsRUFDckMsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQzdCLENBQUMsQ0FBQztZQUNILEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLDRCQUE0QixDQUFDLEVBQ3JDLElBQUksWUFBRyxDQUFDLHdCQUF3QixDQUFDLEVBQ2pDLGdCQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUN0QixDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxFQUNyQyxJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxnQkFBTyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FDL0IsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO1lBQzVDLE1BQU0sS0FBSyxHQUFHLDJDQUEyQyxDQUFDO1lBQzFELE1BQU0sTUFBTSxHQUFvQixNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXhELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQzFELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtZQUN0RCxNQUFNLEtBQUssR0FBRyxrR0FBa0csQ0FBQztZQUNqSCxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO1FBQzNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxNQUFNLEtBQUssR0FBRyxtREFBbUQsQ0FBQztZQUNsRSxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxnREFBZ0QsRUFBRSxHQUFHLEVBQUU7WUFDdEQsTUFBTSxLQUFLLEdBQUc7Ozs7OztjQU1aLENBQUM7WUFDSCxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDaEQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxFQUNyQixJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxJQUFJLFlBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUN2QyxDQUFDLENBQUM7WUFFSCxNQUFNLEtBQUssR0FBRywyQ0FBMkMsQ0FBQztZQUMxRCxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsMERBQTBELEVBQUUsR0FBRyxFQUFFO1lBQ2hFLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLHlCQUF5QixDQUFDLEVBQ2xDLElBQUksWUFBRyxDQUFDLDRCQUE0QixDQUFDLEVBQ3JDLGdCQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUN4QixDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxFQUNyQyxnQkFBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FDdkIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxLQUFLLEdBQUcsMkNBQTJDLENBQUM7WUFDMUQsTUFBTSxNQUFNLEdBQW9CLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFeEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHVEQUF1RCxFQUFFLEdBQUcsRUFBRTtZQUM3RCxNQUFNLFlBQVksR0FBRyx5QkFBeUIsQ0FBQztZQUUvQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQzNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHNEQUFzRCxFQUFFLEdBQUcsRUFBRTtZQUM1RCxNQUFNLEtBQUssR0FBRyxrRUFBa0UsQ0FBQztZQUNqRixNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsRUFBRTtZQUMxRCxNQUFNLEtBQUssR0FBRywySEFBMkgsQ0FBQztZQUMxSSxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1FBQzNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLCtDQUErQyxFQUFFLEdBQUcsRUFBRTtZQUNyRCxNQUFNLEtBQUssR0FBRyx5R0FBeUcsQ0FBQztZQUN4SCxNQUFNLE1BQU0sR0FBb0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV4RCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1FBQzdHLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2hDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDWixrQkFBa0I7WUFDbEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsNEJBQTRCLENBQUMsRUFDckMsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQzdCLENBQUMsQ0FBQztZQUNILEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLDRCQUE0QixDQUFDLEVBQ3JDLElBQUksWUFBRyxDQUFDLHdCQUF3QixDQUFDLEVBQ2pDLGdCQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUN0QixDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxFQUNyQyxJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxnQkFBTyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FDL0IsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLE1BQU0sS0FBSyxHQUFHLG9DQUFvQyxDQUFDO1lBQ25ELE1BQU0sTUFBTSxHQUFpQixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7WUFDckQsTUFBTSxLQUFLLEdBQUcsOERBQThELENBQUM7WUFDN0UsTUFBTSxNQUFNLEdBQWlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1lBQzNDLE1BQU0sS0FBSyxHQUFHLDZCQUE2QixDQUFDO1lBQzVDLE1BQU0sTUFBTSxHQUFpQixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtDQUFrQyxFQUFFLEdBQUcsRUFBRTtZQUN4QyxNQUFNLEtBQUssR0FBRyw0Q0FBNEMsQ0FBQztZQUMzRCxNQUFNLE1BQU0sR0FBaUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsTUFBTSxLQUFLLEdBQUcsOERBQThELENBQUM7WUFDN0UsTUFBTSxNQUFNLEdBQWlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtZQUNoRCxNQUFNLEtBQUssR0FBRyw2REFBNkQsQ0FBQztZQUM1RSxNQUFNLE1BQU0sR0FBaUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUNuRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxHQUFHLEVBQUU7WUFDMUQsTUFBTSxZQUFZLEdBQUcsc0JBQXNCLENBQUM7WUFFNUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUNyRixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxHQUFHLEVBQUU7WUFDMUQsTUFBTSxLQUFLLEdBQUcsd0RBQXdELENBQUM7WUFDdkUsTUFBTSxNQUFNLEdBQWlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsb0RBQW9ELEVBQUUsR0FBRyxFQUFFO1lBQzFELE1BQU0sS0FBSyxHQUFHLHNHQUFzRyxDQUFDO1lBQ3JILE1BQU0sTUFBTSxHQUFpQixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRWxELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtZQUNuRCxNQUFNLEtBQUssR0FBRywyREFBMkQsQ0FBQztZQUMxRSxNQUFNLE1BQU0sR0FBaUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7UUFDcEMsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtZQUN0QyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxFQUMvQixJQUFJLFlBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxFQUMvQixnQkFBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDdEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxLQUFLLEdBQUcsMkNBQTJDLENBQUM7WUFFMUQsa0JBQWtCO1lBQ2xCLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFbkMsb0NBQW9DO1lBQ3BDLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7WUFDbkMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQ3RCLENBQUMsQ0FBQztZQUVILE1BQU0sS0FBSyxHQUFHLG9DQUFvQyxDQUFDO1lBRW5ELGtCQUFrQjtZQUNsQixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRW5DLG9DQUFvQztZQUNwQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7WUFDekMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQ3RCLENBQUMsQ0FBQztZQUVILE1BQU0sS0FBSyxHQUFHLG9DQUFvQyxDQUFDO1lBRW5ELG1CQUFtQjtZQUNuQixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXJCLG1CQUFtQjtZQUNuQixNQUFNLENBQUMsZUFBZSxFQUFFLENBQUM7WUFFekIsc0NBQXNDO1lBQ3RDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLE1BQU0sU0FBUyxHQUFHO2dCQUNkLE9BQU8sRUFBRSxFQUFFO2dCQUNYLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixPQUFPLEVBQUUsS0FBSzthQUNqQixDQUFDO1lBRUYsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUV2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7WUFDdkMsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFFMUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3ZDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtZQUM1QyxnQkFBZ0I7WUFDaEIsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFNUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsSUFBSSxZQUFHLENBQUMsc0JBQXNCLENBQUMsRUFDL0IsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQ3RCLENBQUMsQ0FBQztZQUVILE1BQU0sS0FBSyxHQUFHLG9DQUFvQyxDQUFDO1lBQ25ELE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFckIsa0NBQWtDO1lBQ2xDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBQ1osTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO2dCQUMzQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ1gsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO1lBQzdDLGdCQUFnQjtZQUNoQixNQUFNLENBQUMsaUJBQWlCLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztZQUU3QyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxFQUMvQixJQUFJLFlBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxFQUMvQixnQkFBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDdEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxLQUFLLEdBQUcsb0NBQW9DLENBQUM7WUFFbkQsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyQyxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLEVBQUUsQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDakQsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3pFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLHNDQUFzQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqRixNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2pELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHdDQUF3QyxFQUFFLEdBQUcsRUFBRTtZQUM5QyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDOUMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0RBQXNELEVBQUUsR0FBRyxFQUFFO1lBQzVELE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNyRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxpREFBaUQsRUFBRSxHQUFHLEVBQUU7WUFDdkQsTUFBTSxLQUFLLEdBQUcsMkNBQTJDLENBQUM7WUFDMUQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV2QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7UUFDdEMsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNaLGlEQUFpRDtZQUNqRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUMxQixLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxFQUFFLENBQUMsRUFDeEMsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUNoQyxDQUFDLENBQUM7Z0JBQ0gsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMsNEJBQTRCLENBQUMsRUFBRSxDQUFDLEVBQ3hDLElBQUksWUFBRyxDQUFDLHdCQUF3QixDQUFDLEVBQ2pDLGdCQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQy9CLENBQUMsQ0FBQzthQUNOO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsNkNBQTZDLEVBQUUsR0FBRyxFQUFFO1lBQ25ELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM3QixNQUFNLEtBQUssR0FBRyw4REFBOEQsQ0FBQztZQUM3RSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUUzQixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLG9DQUFvQztRQUN4RixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsTUFBTSxLQUFLLEdBQUcsb0RBQW9ELENBQUM7WUFDbkUsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM1QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw4REFBOEQsRUFBRSxHQUFHLEVBQUU7WUFDcEUsTUFBTSxNQUFNLEdBQUcsOERBQThELENBQUM7WUFDOUUsTUFBTSxNQUFNLEdBQUcsOEVBQThFLENBQUM7WUFFOUYsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0QixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXRDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDWiwwQkFBMEI7WUFDMUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQzdCLENBQUMsQ0FBQztZQUNILEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLHlCQUF5QixDQUFDLEVBQ2xDLElBQUksWUFBRyxDQUFDLHdCQUF3QixDQUFDLEVBQ2pDLGdCQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUN0QixDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxFQUNyQyxJQUFJLFlBQUcsQ0FBQyw2QkFBNkIsQ0FBQyxDQUN6QyxDQUFDLENBQUM7WUFDSCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyw2QkFBNkIsQ0FBQyxFQUN0QyxJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxnQkFBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FDOUIsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsK0NBQStDLEVBQUUsR0FBRyxFQUFFO1lBQ3JELE1BQU0sS0FBSyxHQUFHOzs7Ozs7Y0FNWixDQUFDO1lBRUgsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7WUFDL0MsTUFBTSxLQUFLLEdBQUc7Ozs7Y0FJWixDQUFDO1lBRUgsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDeEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEdBQUcsRUFBRTtZQUN4RCxpQkFBaUI7WUFDakIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxrQkFBUyxDQUFDLE1BQU0sQ0FBQyxFQUNyQixJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxJQUFJLFlBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxDQUN4QyxDQUFDLENBQUM7WUFFSCxNQUFNLEtBQUssR0FBRyw4REFBOEQsQ0FBQztZQUM3RSxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsOEJBQThCLEVBQUUsR0FBRyxFQUFFO1FBQzFDLEVBQUUsQ0FBQywrQ0FBK0MsRUFBRSxHQUFHLEVBQUU7WUFDckQsTUFBTSxLQUFLLEdBQUcsOERBQThELENBQUM7WUFFN0Usa0JBQWtCO1lBQ2xCLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFdkMsV0FBVztZQUNYLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLDRCQUE0QixDQUFDLEVBQ3JDLElBQUksWUFBRyxDQUFDLHlCQUF5QixDQUFDLEVBQ2xDLGdCQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUN6QixDQUFDLENBQUM7WUFFSCx1Q0FBdUM7WUFDdkMsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBRXpCLDBCQUEwQjtZQUMxQixNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLGFBQUssQ0FBQztnQkFDaEMsSUFBSSxlQUFNLENBQ04sSUFBSSxZQUFHLENBQUMsdUJBQXVCLENBQUMsRUFDaEMsSUFBSSxZQUFHLENBQUMsdUJBQXVCLENBQUMsRUFDaEMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQ3ZCO2dCQUNELElBQUksZUFBTSxDQUNOLElBQUksWUFBRyxDQUFDLHVCQUF1QixDQUFDLEVBQ2hDLElBQUksWUFBRyxDQUFDLHVCQUF1QixDQUFDLEVBQ2hDLGdCQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUN2QjthQUNKLENBQUMsQ0FBQztZQUVILE1BQU0sY0FBYyxHQUFHLElBQUksMkJBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQzNELE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsb0NBQW9DLENBQUMsQ0FBQztZQUUzRSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7UUFDM0MsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtZQUM1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLDJCQUFZLENBQUMsSUFBSSxhQUFLLEVBQUUsQ0FBQyxDQUFDO1lBRWxELE1BQU0sZUFBZSxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUMsMkNBQTJDLENBQUMsQ0FBQztZQUMzRixNQUFNLFlBQVksR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLG9DQUFvQyxDQUFDLENBQUM7WUFFOUUsTUFBTSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFN0MsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGlDQUFpQyxFQUFFLEdBQUcsRUFBRTtZQUN2QyxNQUFNLFNBQVMsR0FBRywwQkFBMEIsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUUvRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDaEQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMscUNBQXFDLENBQUMsRUFDOUMsSUFBSSxZQUFHLENBQUMsbUNBQW1DLENBQUMsRUFDNUMsZ0JBQU8sQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FDeEMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxLQUFLLEdBQUcsb0NBQW9DLENBQUM7WUFDbkQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVwQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDaEQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQU0sQ0FDaEIsSUFBSSxZQUFHLENBQUMseUJBQXlCLENBQUMsRUFDbEMsSUFBSSxZQUFHLENBQUMsMEJBQTBCLENBQUMsRUFDbkMsZ0JBQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQ3RCLENBQUMsQ0FBQztZQUVILE1BQU0sS0FBSyxHQUFHLHVFQUF1RSxDQUFDO1lBQ3RGLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFFdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsMENBQTBDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxlQUFNLENBQ2hCLElBQUksWUFBRyxDQUFDLHlCQUF5QixDQUFDLEVBQ2xDLElBQUksWUFBRyxDQUFDLHlCQUF5QixDQUFDLEVBQ2xDLGdCQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUN4QixDQUFDLENBQUM7WUFFSCxNQUFNLEtBQUssR0FBRyx3RUFBd0UsQ0FBQztZQUN2RixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtZQUNoRCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksZUFBTSxDQUNoQixJQUFJLFlBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUNsQyxJQUFJLFlBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxFQUNoQyxnQkFBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FDMUIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxLQUFLLEdBQUcscUVBQXFFLENBQUM7WUFDcEYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV2QyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTUEFSUUxFbmdpbmUsIENvbnN0cnVjdFJlc3VsdCwgU2VsZWN0UmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vc3JjL2FwcGxpY2F0aW9uL1NQQVJRTEVuZ2luZSc7XG5pbXBvcnQgeyBHcmFwaCB9IGZyb20gJy4uLy4uLy4uL3NyYy9kb21haW4vc2VtYW50aWMvY29yZS9HcmFwaCc7XG5pbXBvcnQgeyBUcmlwbGUsIElSSSwgTGl0ZXJhbCwgQmxhbmtOb2RlIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbWFpbi9zZW1hbnRpYy9jb3JlL1RyaXBsZSc7XG5pbXBvcnQgeyBRdWVyeUNhY2hlLCBRdWVyeUNhY2hlQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2FwcGxpY2F0aW9uL3NlcnZpY2VzL1F1ZXJ5Q2FjaGUnO1xuXG5kZXNjcmliZSgnU1BBUlFMRW5naW5lJywgKCkgPT4ge1xuICAgIGxldCBlbmdpbmU6IFNQQVJRTEVuZ2luZTtcbiAgICBsZXQgZ3JhcGg6IEdyYXBoO1xuICAgIFxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBncmFwaCA9IG5ldyBHcmFwaCgpO1xuICAgICAgICBlbmdpbmUgPSBuZXcgU1BBUlFMRW5naW5lKGdyYXBoKTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICAgIGVuZ2luZS5kZXN0cm95KCk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnQmFzaWMgRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgU1BBUlFMRW5naW5lIHdpdGggZ3JhcGgnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRDYWNoZVN0YXRpc3RpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIFNQQVJRTEVuZ2luZSB3aXRoIGN1c3RvbSBjYWNoZSBjb25maWcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21Db25maWc6IFBhcnRpYWw8UXVlcnlDYWNoZUNvbmZpZz4gPSB7XG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogMTAwLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRUVEw6IDEwMDAsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjdXN0b21FbmdpbmUgPSBuZXcgU1BBUlFMRW5naW5lKGdyYXBoLCBjdXN0b21Db25maWcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QoY3VzdG9tRW5naW5lKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbUVuZ2luZS5nZXRDYWNoZUNvbmZpZygpLm1heFNpemUpLnRvQmUoMTAwKTtcbiAgICAgICAgICAgIGV4cGVjdChjdXN0b21FbmdpbmUuZ2V0Q2FjaGVDb25maWcoKS5kZWZhdWx0VFRMKS50b0JlKDEwMDApO1xuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbUVuZ2luZS5nZXRDYWNoZUNvbmZpZygpLmVuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjdXN0b21FbmdpbmUuZGVzdHJveSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHByb3ZpZGUgY2FjaGUgbWFuYWdlbWVudCBtZXRob2RzJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRDYWNoZVN0YXRpc3RpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lLmludmFsaWRhdGVDYWNoZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUudXBkYXRlQ2FjaGVDb25maWcpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lLmdldENhY2hlQ29uZmlnKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5jbGVhbnVwQ2FjaGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lLmRlc3Ryb3kpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0NPTlNUUlVDVCBRdWVyeSBUZXN0cycsICgpID0+IHtcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXR1cCB0ZXN0IGRhdGFcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24xJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnSm9obiBEb2UnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9hZ2UnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoMzApXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24yJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnSmFuZSBTbWl0aCcpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIGJhc2ljIENPTlNUUlVDVCBxdWVyeScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucHJvdmVuYW5jZSkudG9Db250YWluKCdDT05TVFJVQ1QgcXVlcnkgYXQnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIENPTlNUUlVDVCB3aXRoIHNwZWNpZmljIHBhdHRlcm4nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL2hhc05hbWU+ID9uYW1lIH0gV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXNbMF0uZ2V0UHJlZGljYXRlKCkudG9TdHJpbmcoKSkudG9CZSgnaHR0cDovL2V4YW1wbGUub3JnL2hhc05hbWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIENPTlNUUlVDVCB3aXRoIExJTUlUJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0gTElNSVQgMic7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggbXVsdGlwbGUgcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBDT05TVFJVQ1QgeyBcbiAgICAgICAgICAgICAgICA/cyA8aHR0cDovL2V4YW1wbGUub3JnL2hhc0luZm8+ID9uYW1lIC5cbiAgICAgICAgICAgICAgICA/cyA8aHR0cDovL2V4YW1wbGUub3JnL2hhc0FnZT4gP2FnZSBcbiAgICAgICAgICAgIH0gV0hFUkUgeyBcbiAgICAgICAgICAgICAgICA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIC5cbiAgICAgICAgICAgICAgICA/cyA8aHR0cDovL2V4YW1wbGUub3JnL2FnZT4gP2FnZSBcbiAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIENPTlNUUlVDVCB3aXRoIGJsYW5rIG5vZGVzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IEJsYW5rTm9kZSgnXzpiMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy90eXBlJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL1BlcnNvbicpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBDT05TVFJVQ1Qgd2l0aCBsaXRlcmFscyBvZiBkaWZmZXJlbnQgdHlwZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZGF0YScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9ib29sZWFuJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5ib29sZWFuKHRydWUpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9kYXRhJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RlY2ltYWwnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmRvdWJsZSgzLjE0KVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgaW52YWxpZCBDT05TVFJVQ1QgcXVlcnkgZm9ybWF0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW52YWxpZFF1ZXJ5ID0gJ0lOVkFMSUQgQ09OU1RSVUNUIFFVRVJZJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5jb25zdHJ1Y3QoaW52YWxpZFF1ZXJ5KSkudG9UaHJvdygnSW52YWxpZCBDT05TVFJVQ1QgcXVlcnkgZm9ybWF0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IHJlc3VsdCBmb3Igbm9uLW1hdGNoaW5nIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zIDxodHRwOi8vbm9uZXhpc3RlbnQvcHJvcD4gP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucHJvdmVuYW5jZSkudG9Db250YWluKCdDT05TVFJVQ1QgcXVlcnkgYXQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggdmFyaWFibGUgc3Vic3RpdHV0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgPGh0dHA6Ly9leGFtcGxlLm9yZy9uZXdQZXJzb24+IDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlc1swXS5nZXRTdWJqZWN0KCkudG9TdHJpbmcoKSkudG9CZSgnaHR0cDovL2V4YW1wbGUub3JnL25ld1BlcnNvbicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBDT05TVFJVQ1Qgd2l0aCBsaXRlcmFsIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNTdHJpbmdOYW1lPiBcInRlc3RcIiB9IFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzWzBdLmdldE9iamVjdCgpLnRvU3RyaW5nKCkpLnRvQmUoJ1widGVzdFwiXl5odHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmcnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnU0VMRUNUIFF1ZXJ5IFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFNldHVwIHRlc3QgZGF0YVxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdKb2huIERvZScpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24xJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2FnZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuaW50ZWdlcigzMClcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjInKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdKYW5lIFNtaXRoJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgYmFzaWMgU0VMRUNUIHF1ZXJ5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBTRUxFQ1Qgd2l0aCBzcGVjaWZpYyB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdzJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBTRUxFQ1Qgd2l0aCB3aWxkY2FyZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCAqIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ3MnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ3AnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ28nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIFNFTEVDVCB3aXRoIExJTUlUJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSBMSU1JVCAyJztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBTRUxFQ1Qgd2l0aCBzcGVjaWZpYyBwcmVkaWNhdGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMuZXZlcnkociA9PiByLm5hbWUpKS50b0JlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBTRUxFQ1Qgd2l0aCBsaXRlcmFsIG9iamVjdCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gXCJKb2huIERvZVwiIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0ucykudG9CZSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgaW52YWxpZCBTRUxFQ1QgcXVlcnkgZm9ybWF0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW52YWxpZFF1ZXJ5ID0gJ0lOVkFMSUQgU0VMRUNUIFFVRVJZJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5zZWxlY3QoaW52YWxpZFF1ZXJ5KSkudG9UaHJvdygnSW52YWxpZCBTUEFSUUwgcXVlcnkgZm9ybWF0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IHJlc3VsdCBmb3Igbm9uLW1hdGNoaW5nIFNFTEVDVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/byBXSEVSRSB7ID9zIDxodHRwOi8vbm9uZXhpc3RlbnQvcHJvcD4gP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgU0VMRUNUIHdpdGggbXVsdGlwbGUgdmFyaWFibGVzIGJvdW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9uYW1lID9hZ2UgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIC4gP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9hZ2U+ID9hZ2UgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ3MnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ25hbWUnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ2FnZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGZpbHRlciB2YXJpYWJsZXMgY29ycmVjdGx5IGluIFNFTEVDVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ25hbWUnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkubm90LnRvSGF2ZVByb3BlcnR5KCdzJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0NhY2hlIE1hbmFnZW1lbnQgVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgY2FjaGUgQ09OU1RSVUNUIHJlc3VsdHMnLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcycpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ28nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlyc3QgZXhlY3V0aW9uXG4gICAgICAgICAgICBjb25zdCByZXN1bHQxID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0MS5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZWNvbmQgZXhlY3V0aW9uIHNob3VsZCBiZSBjYWNoZWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmNhY2hlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLnRyaXBsZXMpLnRvSGF2ZUxlbmd0aChyZXN1bHQxLnRyaXBsZXMubGVuZ3RoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBjYWNoZSBTRUxFQ1QgcmVzdWx0cycsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9zJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZpcnN0IGV4ZWN1dGlvblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDEuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Vjb25kIGV4ZWN1dGlvbiBzaG91bGQgYmUgY2FjaGVkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQyID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5jYWNoZWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5yZXN1bHRzKS50b0VxdWFsKHJlc3VsdDEucmVzdWx0cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaW52YWxpZGF0ZSBjYWNoZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcycpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ28nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XG4gICAgICAgICAgICBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSW52YWxpZGF0ZSBjYWNoZVxuICAgICAgICAgICAgZW5naW5lLmludmFsaWRhdGVDYWNoZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBOZXh0IGV4ZWN1dGlvbiBzaG91bGQgbm90IGJlIGNhY2hlZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdXBkYXRlIGNhY2hlIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbWF4U2l6ZTogNTAsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFRUTDogMjAwMCxcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZW5naW5lLnVwZGF0ZUNhY2hlQ29uZmlnKG5ld0NvbmZpZyk7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBlbmdpbmUuZ2V0Q2FjaGVDb25maWcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KGNvbmZpZy5tYXhTaXplKS50b0JlKDUwKTtcbiAgICAgICAgICAgIGV4cGVjdChjb25maWcuZGVmYXVsdFRUTCkudG9CZSgyMDAwKTtcbiAgICAgICAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcHJvdmlkZSBjYWNoZSBzdGF0aXN0aWNzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBlbmdpbmUuZ2V0Q2FjaGVTdGF0aXN0aWNzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ2hpdHMnKTtcbiAgICAgICAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ21pc3NlcycpO1xuICAgICAgICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnaGl0UmF0ZScpO1xuICAgICAgICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnc2l6ZScpO1xuICAgICAgICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnbWF4U2l6ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNsZWFudXAgZXhwaXJlZCBjYWNoZSBlbnRyaWVzJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0IHNob3J0IFRUTFxuICAgICAgICAgICAgZW5naW5lLnVwZGF0ZUNhY2hlQ29uZmlnKHsgZGVmYXVsdFRUTDogMSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcCcpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBXYWl0IGZvciBleHBpcmF0aW9uIGFuZCBjbGVhbnVwXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkQ291bnQgPSBlbmdpbmUuY2xlYW51cENhY2hlKCk7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGNsZWFuZWRDb3VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXNwZWN0IGNhY2hlIGRpc2FibGVkIHNldHRpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBEaXNhYmxlIGNhY2hlXG4gICAgICAgICAgICBlbmdpbmUudXBkYXRlQ2FjaGVDb25maWcoeyBlbmFibGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcCcpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0MS5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBDT05TVFJVQ1QgcXVlcmllcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KCdDT05TVFJVQ1QgV0hFUkUgeyA/cyA/cCA/byB9JykpLnRvVGhyb3coKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KCdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IE1JU1NJTkcgV0hFUkUnKSkudG9UaHJvdygpO1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5jb25zdHJ1Y3QoJycpKS50b1Rocm93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBTRUxFQ1QgcXVlcmllcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KCdTRUxFQ1QgV0hFUkUgeyA/cyA/cCA/byB9JykpLnRvVGhyb3coKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KCdTRUxFQ1QgP3MgTUlTU0lORyBXSEVSRScpKS50b1Rocm93KCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdCgnJykpLnRvVGhyb3coKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgcXVlcmllcyB3aXRoIGludmFsaWQgc3ludGF4IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLmNvbnN0cnVjdCgnQ09OU1RSVUNUIHsgfSBXSEVSRSB7IH0nKSkubm90LnRvVGhyb3coKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KCdTRUxFQ1QgP3MgV0hFUkUgeyB9JykpLm5vdC50b1Rocm93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bGwvdW5kZWZpbmVkIHZhbHVlcyBpbiBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1F1ZXJ5IE9wdGltaXphdGlvbiBUZXN0cycsICgpID0+IHtcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgbGFyZ2VyIGRhdGFzZXQgZm9yIG9wdGltaXphdGlvbiB0ZXN0aW5nXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoYGh0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24ke2l9YCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKGBQZXJzb24gJHtpfWApXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoYGh0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24ke2l9YCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9hZ2UnKSxcbiAgICAgICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDIwICsgaSAlIDUwKVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSByZXN1bHQgc2V0cyBlZmZpY2llbnRseScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMTAwKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSBpbiB1bmRlciAxIHNlY29uZFxuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIG9wdGltaXplIENPTlNUUlVDVCBxdWVyaWVzIHdpdGggTElNSVQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSBMSU1JVCAxMCc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNhY2hlIHF1ZXJpZXMgd2l0aCBkaWZmZXJlbnQgZm9ybWF0cyBidXQgc2FtZSBtZWFuaW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkxID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCBxdWVyeTIgPSAnU0VMRUNUICAgP3MgICA/bmFtZSAgIFdIRVJFICAgeyAgID9zICAgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiAgID9uYW1lICAgfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVuZ2luZS5zZWxlY3QocXVlcnkxKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5Mik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmNhY2hlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnQ29tcGxleCBRdWVyeSBQYXR0ZXJuIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFNldHVwIGNvbXBsZXggdGVzdCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvam9obicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4gRG9lJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2pvaG4nKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYWdlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDMwKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvam9obicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy93b3Jrc0F0JyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2NvbXBhbnkxJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2NvbXBhbnkxJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnVGVjaCBDb3JwJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aS1wYXR0ZXJuIENPTlNUUlVDVCBxdWVyaWVzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgQ09OU1RSVUNUIHsgXG4gICAgICAgICAgICAgICAgP3BlcnNvbiA8aHR0cDovL2V4YW1wbGUub3JnL2VtcGxveWVlPiA/Y29tcGFueSAuXG4gICAgICAgICAgICAgICAgP2NvbXBhbnkgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNFbXBsb3llZT4gP3BlcnNvbiBcbiAgICAgICAgICAgIH0gV0hFUkUgeyBcbiAgICAgICAgICAgICAgICA/cGVyc29uIDxodHRwOi8vZXhhbXBsZS5vcmcvd29ya3NBdD4gP2NvbXBhbnkgLlxuICAgICAgICAgICAgICAgID9wZXJzb24gPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSBcbiAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IHZhcmlhYmxlIGJpbmRpbmdzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgU0VMRUNUID9wZXJzb25OYW1lID9jb21wYW55TmFtZSBXSEVSRSB7IFxuICAgICAgICAgICAgICAgID9wZXJzb24gPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/cGVyc29uTmFtZSAuXG4gICAgICAgICAgICAgICAgP3BlcnNvbiA8aHR0cDovL2V4YW1wbGUub3JnL3dvcmtzQXQ+ID9jb21wYW55IC5cbiAgICAgICAgICAgICAgICA/Y29tcGFueSA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9jb21wYW55TmFtZSBcbiAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdLnBlcnNvbk5hbWUpLnRvQmUoJ1wiSm9obiBEb2VcIicpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdLmNvbXBhbnlOYW1lKS50b0JlKCdcIlRlY2ggQ29ycFwiJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHBhdHRlcm5zIHdpdGggZGlmZmVyZW50IG5vZGUgdHlwZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBBZGQgYmxhbmsgbm9kZVxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IEJsYW5rTm9kZSgnXzpiMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy90eXBlJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL1Byb2plY3QnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/dHlwZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvdHlwZT4gP3R5cGUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0ludGVncmF0aW9uIHdpdGggR3JhcGggVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgcmVmbGVjdCBncmFwaCBjaGFuZ2VzIGluIHF1ZXJ5IHJlc3VsdHMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbml0aWFsbHkgZW1wdHlcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgZGF0YVxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdKb2huJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIGNhY2hlIHNpbmNlIGdyYXBoIGNoYW5nZWRcbiAgICAgICAgICAgIGVuZ2luZS5pbnZhbGlkYXRlQ2FjaGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2hvdWxkIHJlZmxlY3QgbmV3IGRhdGFcbiAgICAgICAgICAgIHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHByZS1wb3B1bGF0ZWQgZ3JhcGgnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmVQb3B1bGF0ZWRHcmFwaCA9IG5ldyBHcmFwaChbXG4gICAgICAgICAgICAgICAgbmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MxJyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wMScpLFxuICAgICAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbzEnKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MyJyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wMicpLFxuICAgICAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbzInKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlbmdpbmVXaXRoRGF0YSA9IG5ldyBTUEFSUUxFbmdpbmUocHJlUG9wdWxhdGVkR3JhcGgpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lV2l0aERhdGEuc2VsZWN0KCdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZW5naW5lV2l0aERhdGEuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdFZGdlIENhc2VzIGFuZCBCb3VuZGFyeSBUZXN0cycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgZ3JhcGggZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVtcHR5RW5naW5lID0gbmV3IFNQQVJRTEVuZ2luZShuZXcgR3JhcGgoKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdFJlc3VsdCA9IGVtcHR5RW5naW5lLmNvbnN0cnVjdCgnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0nKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdFJlc3VsdCA9IGVtcHR5RW5naW5lLnNlbGVjdCgnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QoY29uc3RydWN0UmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgICAgIGV4cGVjdChzZWxlY3RSZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBlbXB0eUVuZ2luZS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHZlcnkgbG9uZyBxdWVyaWVzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9uZ1F1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ICcgKyAnP3MgP3AgP28gLiAnLnJlcGVhdCgxMDApICsgJ30nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdChsb25nUXVlcnkpKS5ub3QudG9UaHJvdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gVVJJcycsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24td2l0aC1kYXNoJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2hhc191bmRlcnNjb3JlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ1NwZWNpYWwgY2hhcnM6IMOpw7HkuK3mlocnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBudW1lcmljIGxpdGVyYWxzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9kYXRhJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3ZhbHVlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDQyKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3VmFsdWU+IDEyMyB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGJvb2xlYW4gbGl0ZXJhbHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZmxhZycpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuYm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3RmxhZz4gZmFsc2UgfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBkZWNpbWFsIGxpdGVyYWxzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9kYXRhJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BpJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5kb3VibGUoMy4xNDE1OSlcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25ld1BpPiAyLjcxIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=