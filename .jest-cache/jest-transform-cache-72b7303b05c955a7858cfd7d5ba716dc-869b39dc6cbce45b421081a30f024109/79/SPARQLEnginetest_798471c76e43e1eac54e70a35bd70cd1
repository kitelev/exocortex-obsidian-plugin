62668b50b8e751e6bb3be38a16b74c79
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SPARQLEngine_1 = require("../../../src/application/SPARQLEngine");
const Graph_1 = require("../../../src/domain/semantic/core/Graph");
const Triple_1 = require("../../../src/domain/semantic/core/Triple");
describe('SPARQLEngine', () => {
    let engine;
    let graph;
    beforeEach(() => {
        graph = new Graph_1.Graph();
        engine = new SPARQLEngine_1.SPARQLEngine(graph);
    });
    afterEach(() => {
        engine.destroy();
    });
    describe('Basic Functionality', () => {
        it('should create SPARQLEngine with graph', () => {
            expect(engine).toBeDefined();
            expect(engine.getCacheStatistics).toBeDefined();
        });
        it('should create SPARQLEngine with custom cache config', () => {
            const customConfig = {
                maxSize: 100,
                defaultTTL: 1000,
                enabled: false
            };
            const customEngine = new SPARQLEngine_1.SPARQLEngine(graph, customConfig);
            expect(customEngine).toBeDefined();
            expect(customEngine.getCacheConfig().maxSize).toBe(100);
            expect(customEngine.getCacheConfig().defaultTTL).toBe(1000);
            expect(customEngine.getCacheConfig().enabled).toBe(false);
            customEngine.destroy();
        });
        it('should provide cache management methods', () => {
            expect(engine.getCacheStatistics).toBeDefined();
            expect(engine.invalidateCache).toBeDefined();
            expect(engine.updateCacheConfig).toBeDefined();
            expect(engine.getCacheConfig).toBeDefined();
            expect(engine.cleanupCache).toBeDefined();
            expect(engine.destroy).toBeDefined();
        });
    });
    describe('CONSTRUCT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic CONSTRUCT query', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(3);
            expect(result.provenance).toContain('CONSTRUCT query at');
            expect(result.cached).toBe(false);
        });
        it('should execute CONSTRUCT with specific pattern', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasName> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getPredicate().toString()).toBe('http://example.org/hasName');
        });
        it('should execute CONSTRUCT with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.cached).toBe(false);
        });
        it('should handle CONSTRUCT with multiple patterns', () => {
            const query = `CONSTRUCT { 
                ?s <http://example.org/hasInfo> ?name .
                ?s <http://example.org/hasAge> ?age 
            } WHERE { 
                ?s <http://example.org/name> ?name .
                ?s <http://example.org/age> ?age 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle CONSTRUCT with blank nodes', () => {
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Person')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should handle CONSTRUCT with literals of different types', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/boolean'), Triple_1.Literal.boolean(true)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/decimal'), Triple_1.Literal.double(3.14)));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should throw error for invalid CONSTRUCT query format', () => {
            const invalidQuery = 'INVALID CONSTRUCT QUERY';
            expect(() => engine.construct(invalidQuery)).toThrow('Invalid CONSTRUCT query format');
        });
        it('should return empty result for non-matching patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(0);
            expect(result.provenance).toContain('CONSTRUCT query at');
        });
        it('should handle CONSTRUCT with variable substitution', () => {
            const query = 'CONSTRUCT { <http://example.org/newPerson> <http://example.org/name> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getSubject().toString()).toBe('http://example.org/newPerson');
        });
        it('should handle CONSTRUCT with literal patterns', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasStringName> "test" } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getObject().toString()).toBe('"test"');
        });
    });
    describe('SELECT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic SELECT query', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result).toBeDefined();
            expect(result.results).toHaveLength(3);
            expect(result.cached).toBe(false);
        });
        it('should execute SELECT with specific variables', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
        });
        it('should execute SELECT with wildcard', () => {
            const query = 'SELECT * WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(3);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('p');
            expect(result.results[0]).toHaveProperty('o');
        });
        it('should execute SELECT with LIMIT', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
        });
        it('should handle SELECT with specific predicate', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results.every(r => r.name)).toBe(true);
        });
        it('should handle SELECT with literal object', () => {
            const query = 'SELECT ?s WHERE { ?s <http://example.org/name> "John Doe" }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].s).toBe('http://example.org/person1');
        });
        it('should throw error for invalid SELECT query format', () => {
            const invalidQuery = 'INVALID SELECT QUERY';
            expect(() => engine.select(invalidQuery)).toThrow('Invalid SPARQL query format');
        });
        it('should return empty result for non-matching SELECT', () => {
            const query = 'SELECT ?s ?o WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(0);
            expect(result.cached).toBe(false);
        });
        it('should handle SELECT with multiple variables bound', () => {
            const query = 'SELECT ?s ?name ?age WHERE { ?s <http://example.org/name> ?name . ?s <http://example.org/age> ?age }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).toHaveProperty('age');
        });
        it('should filter variables correctly in SELECT', () => {
            const query = 'SELECT ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).not.toHaveProperty('s');
        });
    });
    describe('Cache Management Tests', () => {
        it('should cache CONSTRUCT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.construct(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.construct(query);
            expect(result2.cached).toBe(true);
            expect(result2.triples).toHaveLength(result1.triples.length);
        });
        it('should cache SELECT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.select(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.select(query);
            expect(result2.cached).toBe(true);
            expect(result2.results).toEqual(result1.results);
        });
        it('should invalidate cache correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // Cache the result
            engine.select(query);
            // Invalidate cache
            engine.invalidateCache();
            // Next execution should not be cached
            const result = engine.select(query);
            expect(result.cached).toBe(false);
        });
        it('should update cache configuration', () => {
            const newConfig = {
                maxSize: 50,
                defaultTTL: 2000,
                enabled: false
            };
            engine.updateCacheConfig(newConfig);
            const config = engine.getCacheConfig();
            expect(config.maxSize).toBe(50);
            expect(config.defaultTTL).toBe(2000);
            expect(config.enabled).toBe(false);
        });
        it('should provide cache statistics', () => {
            const stats = engine.getCacheStatistics();
            expect(stats).toHaveProperty('hits');
            expect(stats).toHaveProperty('misses');
            expect(stats).toHaveProperty('hitRate');
            expect(stats).toHaveProperty('size');
            expect(stats).toHaveProperty('maxSize');
        });
        it('should cleanup expired cache entries', () => {
            // Set short TTL
            engine.updateCacheConfig({ defaultTTL: 1 });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            engine.select(query);
            // Wait for expiration and cleanup
            setTimeout(() => {
                const cleanedCount = engine.cleanupCache();
                expect(cleanedCount).toBeGreaterThanOrEqual(0);
            }, 10);
        });
        it('should respect cache disabled setting', () => {
            // Disable cache
            engine.updateCacheConfig({ enabled: false });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result1 = engine.select(query);
            const result2 = engine.select(query);
            expect(result1.cached).toBe(false);
            expect(result2.cached).toBe(false);
        });
    });
    describe('Error Handling Tests', () => {
        it('should handle malformed CONSTRUCT queries', () => {
            expect(() => engine.construct('CONSTRUCT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.construct('CONSTRUCT { ?s ?p ?o } MISSING WHERE')).toThrow();
            expect(() => engine.construct('')).toThrow();
        });
        it('should handle malformed SELECT queries', () => {
            expect(() => engine.select('SELECT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.select('SELECT ?s MISSING WHERE')).toThrow();
            expect(() => engine.select('')).toThrow();
        });
        it('should handle queries with invalid syntax gracefully', () => {
            expect(() => engine.construct('CONSTRUCT { } WHERE { }')).not.toThrow();
            expect(() => engine.select('SELECT ?s WHERE { }')).not.toThrow();
        });
        it('should handle null/undefined values in patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(0);
        });
    });
    describe('Query Optimization Tests', () => {
        beforeEach(() => {
            // Create larger dataset for optimization testing
            for (let i = 0; i < 100; i++) {
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string(`Person ${i}`)));
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(20 + i % 50)));
            }
        });
        it('should handle large result sets efficiently', () => {
            const startTime = Date.now();
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            const endTime = Date.now();
            expect(result.results).toHaveLength(100);
            expect(endTime - startTime).toBeLessThan(1000); // Should complete in under 1 second
        });
        it('should optimize CONSTRUCT queries with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 10';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(10);
        });
        it('should cache queries with different formats but same meaning', () => {
            const query1 = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const query2 = 'SELECT   ?s   ?name   WHERE   {   ?s   <http://example.org/name>   ?name   }';
            engine.select(query1);
            const result2 = engine.select(query2);
            expect(result2.cached).toBe(true);
        });
    });
    describe('Complex Query Pattern Tests', () => {
        beforeEach(() => {
            // Setup complex test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/worksAt'), new Triple_1.IRI('http://example.org/company1')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/company1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Tech Corp')));
        });
        it('should handle multi-pattern CONSTRUCT queries', () => {
            const query = `CONSTRUCT { 
                ?person <http://example.org/employee> ?company .
                ?company <http://example.org/hasEmployee> ?person 
            } WHERE { 
                ?person <http://example.org/worksAt> ?company .
                ?person <http://example.org/name> ?name 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle complex variable bindings', () => {
            const query = `SELECT ?personName ?companyName WHERE { 
                ?person <http://example.org/name> ?personName .
                ?person <http://example.org/worksAt> ?company .
                ?company <http://example.org/name> ?companyName 
            }`;
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].personName).toBe('"John Doe"');
            expect(result.results[0].companyName).toBe('"Tech Corp"');
        });
        it('should handle patterns with different node types', () => {
            // Add blank node
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Project')));
            const query = 'SELECT ?s ?type WHERE { ?s <http://example.org/type> ?type }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
    });
    describe('Integration with Graph Tests', () => {
        it('should reflect graph changes in query results', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            // Initially empty
            let result = engine.select(query);
            expect(result.results).toHaveLength(0);
            // Add data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John')));
            // Invalidate cache since graph changed
            engine.invalidateCache();
            // Should reflect new data
            result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should work with pre-populated graph', () => {
            const prePopulatedGraph = new Graph_1.Graph([
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s1'), new Triple_1.IRI('http://example.org/p1'), Triple_1.Literal.string('o1')),
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s2'), new Triple_1.IRI('http://example.org/p2'), Triple_1.Literal.string('o2'))
            ]);
            const engineWithData = new SPARQLEngine_1.SPARQLEngine(prePopulatedGraph);
            const result = engineWithData.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(result.results).toHaveLength(2);
            engineWithData.destroy();
        });
    });
    describe('Edge Cases and Boundary Tests', () => {
        it('should handle empty graph gracefully', () => {
            const emptyEngine = new SPARQLEngine_1.SPARQLEngine(new Graph_1.Graph());
            const constructResult = emptyEngine.construct('CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }');
            const selectResult = emptyEngine.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(constructResult.triples).toHaveLength(0);
            expect(selectResult.results).toHaveLength(0);
            emptyEngine.destroy();
        });
        it('should handle very long queries', () => {
            const longQuery = 'SELECT ?s ?p ?o WHERE { ' + '?s ?p ?o . '.repeat(100) + '}';
            expect(() => engine.select(longQuery)).not.toThrow();
        });
        it('should handle special characters in URIs', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person-with-dash'), new Triple_1.IRI('http://example.org/has_underscore'), Triple_1.Literal.string('Special chars: éñ中文')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should handle numeric literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/value'), Triple_1.Literal.integer(42)));
            const query = 'CONSTRUCT { ?s <http://example.org/newValue> 123 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle boolean literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/flag'), Triple_1.Literal.boolean(true)));
            const query = 'CONSTRUCT { ?s <http://example.org/newFlag> false } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle decimal literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/pi'), Triple_1.Literal.double(3.14159)));
            const query = 'CONSTRUCT { ?s <http://example.org/newPi> 2.71 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLHdFQUFvRztBQUNwRyxtRUFBZ0U7QUFDaEUscUVBQTJGO0FBRzNGLFFBQVEsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO0lBQzFCLElBQUksTUFBb0IsQ0FBQztJQUN6QixJQUFJLEtBQVksQ0FBQztJQUVqQixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ1osS0FBSyxHQUFHLElBQUksYUFBSyxFQUFFLENBQUM7UUFDcEIsTUFBTSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDM0QsTUFBTSxZQUFZLEdBQThCO2dCQUM1QyxPQUFPLEVBQUUsR0FBRztnQkFDWixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsT0FBTyxFQUFFLEtBQUs7YUFDakIsQ0FBQztZQUNGLE1BQU0sWUFBWSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFM0QsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxZ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QyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9raXRlbGV2L0RvY3VtZW50cy9leG9jb3J0ZXgtb2JzaWRpYW4tcGx1Z2luL3Rlc3RzL3VuaXQvYXBwbGljYXRpb24vU1BBUlFMRW5naW5lLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU1BBUlFMRW5naW5lLCBDb25zdHJ1Y3RSZXN1bHQsIFNlbGVjdFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL3NyYy9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUnO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tYWluL3NlbWFudGljL2NvcmUvR3JhcGgnO1xuaW1wb3J0IHsgVHJpcGxlLCBJUkksIExpdGVyYWwsIEJsYW5rTm9kZSB9IGZyb20gJy4uLy4uLy4uL3NyYy9kb21haW4vc2VtYW50aWMvY29yZS9UcmlwbGUnO1xuaW1wb3J0IHsgUXVlcnlDYWNoZSwgUXVlcnlDYWNoZUNvbmZpZyB9IGZyb20gJy4uLy4uLy4uL3NyYy9hcHBsaWNhdGlvbi9zZXJ2aWNlcy9RdWVyeUNhY2hlJztcblxuZGVzY3JpYmUoJ1NQQVJRTEVuZ2luZScsICgpID0+IHtcbiAgICBsZXQgZW5naW5lOiBTUEFSUUxFbmdpbmU7XG4gICAgbGV0IGdyYXBoOiBHcmFwaDtcbiAgICBcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgZ3JhcGggPSBuZXcgR3JhcGgoKTtcbiAgICAgICAgZW5naW5lID0gbmV3IFNQQVJRTEVuZ2luZShncmFwaCk7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgICBlbmdpbmUuZGVzdHJveSgpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Jhc2ljIEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIFNQQVJRTEVuZ2luZSB3aXRoIGdyYXBoJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0Q2FjaGVTdGF0aXN0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBTUEFSUUxFbmdpbmUgd2l0aCBjdXN0b20gY2FjaGUgY29uZmlnJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQ29uZmlnOiBQYXJ0aWFsPFF1ZXJ5Q2FjaGVDb25maWc+ID0ge1xuICAgICAgICAgICAgICAgIG1heFNpemU6IDEwMCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VFRMOiAxMDAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tRW5naW5lID0gbmV3IFNQQVJRTEVuZ2luZShncmFwaCwgY3VzdG9tQ29uZmlnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbUVuZ2luZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChjdXN0b21FbmdpbmUuZ2V0Q2FjaGVDb25maWcoKS5tYXhTaXplKS50b0JlKDEwMCk7XG4gICAgICAgICAgICBleHBlY3QoY3VzdG9tRW5naW5lLmdldENhY2hlQ29uZmlnKCkuZGVmYXVsdFRUTCkudG9CZSgxMDAwKTtcbiAgICAgICAgICAgIGV4cGVjdChjdXN0b21FbmdpbmUuZ2V0Q2FjaGVDb25maWcoKS5lbmFibGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3VzdG9tRW5naW5lLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBwcm92aWRlIGNhY2hlIG1hbmFnZW1lbnQgbWV0aG9kcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0Q2FjaGVTdGF0aXN0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5pbnZhbGlkYXRlQ2FjaGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lLnVwZGF0ZUNhY2hlQ29uZmlnKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRDYWNoZUNvbmZpZykudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuY2xlYW51cENhY2hlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5kZXN0cm95KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDT05TVFJVQ1QgUXVlcnkgVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0dXAgdGVzdCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4gRG9lJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYWdlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDMwKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0phbmUgU21pdGgnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBiYXNpYyBDT05TVFJVQ1QgcXVlcnknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnByb3ZlbmFuY2UpLnRvQ29udGFpbignQ09OU1RSVUNUIHF1ZXJ5IGF0Jyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBDT05TVFJVQ1Qgd2l0aCBzcGVjaWZpYyBwYXR0ZXJuJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNOYW1lPiA/bmFtZSB9IFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzWzBdLmdldFByZWRpY2F0ZSgpLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHA6Ly9leGFtcGxlLm9yZy9oYXNOYW1lJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBDT05TVFJVQ1Qgd2l0aCBMSU1JVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9IExJTUlUIDInO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIENPTlNUUlVDVCB3aXRoIG11bHRpcGxlIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgQ09OU1RSVUNUIHsgXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNJbmZvPiA/bmFtZSAuXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNBZ2U+ID9hZ2UgXG4gICAgICAgICAgICB9IFdIRVJFIHsgXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSAuXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9hZ2U+ID9hZ2UgXG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBDT05TVFJVQ1Qgd2l0aCBibGFuayBub2RlcycsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBCbGFua05vZGUoJ186YjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvdHlwZScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9QZXJzb24nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggbGl0ZXJhbHMgb2YgZGlmZmVyZW50IHR5cGVzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYm9vbGVhbicpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuYm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZGF0YScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9kZWNpbWFsJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5kb3VibGUoMy4xNClcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgQ09OU1RSVUNUIHF1ZXJ5IGZvcm1hdCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRRdWVyeSA9ICdJTlZBTElEIENPTlNUUlVDVCBRVUVSWSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KGludmFsaWRRdWVyeSkpLnRvVGhyb3coJ0ludmFsaWQgQ09OU1RSVUNUIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSByZXN1bHQgZm9yIG5vbi1tYXRjaGluZyBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA8aHR0cDovL25vbmV4aXN0ZW50L3Byb3A+ID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnByb3ZlbmFuY2UpLnRvQ29udGFpbignQ09OU1RSVUNUIHF1ZXJ5IGF0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIENPTlNUUlVDVCB3aXRoIHZhcmlhYmxlIHN1YnN0aXR1dGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7IDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3UGVyc29uPiA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0gV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXNbMF0uZ2V0U3ViamVjdCgpLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uZXdQZXJzb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggbGl0ZXJhbCBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvaGFzU3RyaW5nTmFtZT4gXCJ0ZXN0XCIgfSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlc1swXS5nZXRPYmplY3QoKS50b1N0cmluZygpKS50b0JlKCdcInRlc3RcIicpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdTRUxFQ1QgUXVlcnkgVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0dXAgdGVzdCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4gRG9lJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYWdlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDMwKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0phbmUgU21pdGgnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBiYXNpYyBTRUxFQ1QgcXVlcnknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIFNFTEVDVCB3aXRoIHNwZWNpZmljIHZhcmlhYmxlcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ3MnKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXSkudG9IYXZlUHJvcGVydHkoJ25hbWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIFNFTEVDVCB3aXRoIHdpbGRjYXJkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUICogV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgncycpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgncCcpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnbycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgU0VMRUNUIHdpdGggTElNSVQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9IExJTUlUIDInO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIFNFTEVDVCB3aXRoIHNwZWNpZmljIHByZWRpY2F0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cy5ldmVyeShyID0+IHIubmFtZSkpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIFNFTEVDVCB3aXRoIGxpdGVyYWwgb2JqZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiBcIkpvaG4gRG9lXCIgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXS5zKS50b0JlKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGZvciBpbnZhbGlkIFNFTEVDVCBxdWVyeSBmb3JtYXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkUXVlcnkgPSAnSU5WQUxJRCBTRUxFQ1QgUVVFUlknO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdChpbnZhbGlkUXVlcnkpKS50b1Rocm93KCdJbnZhbGlkIFNQQVJRTCBxdWVyeSBmb3JtYXQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gZW1wdHkgcmVzdWx0IGZvciBub24tbWF0Y2hpbmcgU0VMRUNUJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9vIFdIRVJFIHsgP3MgPGh0dHA6Ly9ub25leGlzdGVudC9wcm9wPiA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBTRUxFQ1Qgd2l0aCBtdWx0aXBsZSB2YXJpYWJsZXMgYm91bmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP25hbWUgP2FnZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgLiA/cyA8aHR0cDovL2V4YW1wbGUub3JnL2FnZT4gP2FnZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgncycpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnYWdlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZmlsdGVyIHZhcmlhYmxlcyBjb3JyZWN0bHkgaW4gU0VMRUNUJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9uYW1lIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS5ub3QudG9IYXZlUHJvcGVydHkoJ3MnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnQ2FjaGUgTWFuYWdlbWVudCBUZXN0cycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBjYWNoZSBDT05TVFJVQ1QgcmVzdWx0cycsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9zJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaXJzdCBleGVjdXRpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDEgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQxLmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlY29uZCBleGVjdXRpb24gc2hvdWxkIGJlIGNhY2hlZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIuY2FjaGVkKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIudHJpcGxlcykudG9IYXZlTGVuZ3RoKHJlc3VsdDEudHJpcGxlcy5sZW5ndGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNhY2hlIFNFTEVDVCByZXN1bHRzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcCcpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRmlyc3QgZXhlY3V0aW9uXG4gICAgICAgICAgICBjb25zdCByZXN1bHQxID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0MS5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZWNvbmQgZXhlY3V0aW9uIHNob3VsZCBiZSBjYWNoZWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmNhY2hlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLnJlc3VsdHMpLnRvRXF1YWwocmVzdWx0MS5yZXN1bHRzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbnZhbGlkYXRlIGNhY2hlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9zJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIGNhY2hlXG4gICAgICAgICAgICBlbmdpbmUuaW52YWxpZGF0ZUNhY2hlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE5leHQgZXhlY3V0aW9uIHNob3VsZCBub3QgYmUgY2FjaGVkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgY2FjaGUgY29uZmlndXJhdGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBtYXhTaXplOiA1MCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VFRMOiAyMDAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBlbmdpbmUudXBkYXRlQ2FjaGVDb25maWcobmV3Q29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGVuZ2luZS5nZXRDYWNoZUNvbmZpZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QoY29uZmlnLm1heFNpemUpLnRvQmUoNTApO1xuICAgICAgICAgICAgZXhwZWN0KGNvbmZpZy5kZWZhdWx0VFRMKS50b0JlKDIwMDApO1xuICAgICAgICAgICAgZXhwZWN0KGNvbmZpZy5lbmFibGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBwcm92aWRlIGNhY2hlIHN0YXRpc3RpY3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0cyA9IGVuZ2luZS5nZXRDYWNoZVN0YXRpc3RpY3MoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnaGl0cycpO1xuICAgICAgICAgICAgZXhwZWN0KHN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnbWlzc2VzJyk7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdoaXRSYXRlJyk7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdzaXplJyk7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdtYXhTaXplJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgY2xlYW51cCBleHBpcmVkIGNhY2hlIGVudHJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXQgc2hvcnQgVFRMXG4gICAgICAgICAgICBlbmdpbmUudXBkYXRlQ2FjaGVDb25maWcoeyBkZWZhdWx0VFRMOiAxIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcycpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ28nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIGV4cGlyYXRpb24gYW5kIGNsZWFudXBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWRDb3VudCA9IGVuZ2luZS5jbGVhbnVwQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICBleHBlY3QoY2xlYW5lZENvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHJlc3BlY3QgY2FjaGUgZGlzYWJsZWQgc2V0dGluZycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIERpc2FibGUgY2FjaGVcbiAgICAgICAgICAgIGVuZ2luZS51cGRhdGVDYWNoZUNvbmZpZyh7IGVuYWJsZWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcycpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ28nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQxID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQyID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQxLmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBUZXN0cycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIENPTlNUUlVDVCBxdWVyaWVzJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5jb25zdHJ1Y3QoJ0NPTlNUUlVDVCBXSEVSRSB7ID9zID9wID9vIH0nKSkudG9UaHJvdygpO1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5jb25zdHJ1Y3QoJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gTUlTU0lORyBXSEVSRScpKS50b1Rocm93KCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLmNvbnN0cnVjdCgnJykpLnRvVGhyb3coKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIFNFTEVDVCBxdWVyaWVzJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5zZWxlY3QoJ1NFTEVDVCBXSEVSRSB7ID9zID9wID9vIH0nKSkudG9UaHJvdygpO1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5zZWxlY3QoJ1NFTEVDVCA/cyBNSVNTSU5HIFdIRVJFJykpLnRvVGhyb3coKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KCcnKSkudG9UaHJvdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBxdWVyaWVzIHdpdGggaW52YWxpZCBzeW50YXggZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KCdDT05TVFJVQ1QgeyB9IFdIRVJFIHsgfScpKS5ub3QudG9UaHJvdygpO1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5zZWxlY3QoJ1NFTEVDVCA/cyBXSEVSRSB7IH0nKSkubm90LnRvVGhyb3coKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbC91bmRlZmluZWQgdmFsdWVzIGluIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnUXVlcnkgT3B0aW1pemF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBsYXJnZXIgZGF0YXNldCBmb3Igb3B0aW1pemF0aW9uIHRlc3RpbmdcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSShgaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbiR7aX1gKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoYFBlcnNvbiAke2l9YClcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSShgaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbiR7aX1gKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2FnZScpLFxuICAgICAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoMjAgKyBpICUgNTApXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIHJlc3VsdCBzZXRzIGVmZmljaWVudGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxMDApO1xuICAgICAgICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIGluIHVuZGVyIDEgc2Vjb25kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgb3B0aW1pemUgQ09OU1RSVUNUIHF1ZXJpZXMgd2l0aCBMSU1JVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9IExJTUlUIDEwJztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgY2FjaGUgcXVlcmllcyB3aXRoIGRpZmZlcmVudCBmb3JtYXRzIGJ1dCBzYW1lIG1lYW5pbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeTEgPSAnU0VMRUNUID9zID9uYW1lIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5MiA9ICdTRUxFQ1QgICA/cyAgID9uYW1lICAgV0hFUkUgICB7ICAgP3MgICA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ICAgP25hbWUgICB9JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZW5naW5lLnNlbGVjdChxdWVyeTEpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGVuZ2luZS5zZWxlY3QocXVlcnkyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIuY2FjaGVkKS50b0JlKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDb21wbGV4IFF1ZXJ5IFBhdHRlcm4gVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0dXAgY29tcGxleCB0ZXN0IGRhdGFcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9qb2huJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnSm9obiBEb2UnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvam9obicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9hZ2UnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoMzApXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9qb2huJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3dvcmtzQXQnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvY29tcGFueTEnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvY29tcGFueTEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdUZWNoIENvcnAnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG11bHRpLXBhdHRlcm4gQ09OU1RSVUNUIHF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBDT05TVFJVQ1QgeyBcbiAgICAgICAgICAgICAgICA/cGVyc29uIDxodHRwOi8vZXhhbXBsZS5vcmcvZW1wbG95ZWU+ID9jb21wYW55IC5cbiAgICAgICAgICAgICAgICA/Y29tcGFueSA8aHR0cDovL2V4YW1wbGUub3JnL2hhc0VtcGxveWVlPiA/cGVyc29uIFxuICAgICAgICAgICAgfSBXSEVSRSB7IFxuICAgICAgICAgICAgICAgID9wZXJzb24gPGh0dHA6Ly9leGFtcGxlLm9yZy93b3Jrc0F0PiA/Y29tcGFueSAuXG4gICAgICAgICAgICAgICAgP3BlcnNvbiA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIFxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXggdmFyaWFibGUgYmluZGluZ3MnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IGBTRUxFQ1QgP3BlcnNvbk5hbWUgP2NvbXBhbnlOYW1lIFdIRVJFIHsgXG4gICAgICAgICAgICAgICAgP3BlcnNvbiA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9wZXJzb25OYW1lIC5cbiAgICAgICAgICAgICAgICA/cGVyc29uIDxodHRwOi8vZXhhbXBsZS5vcmcvd29ya3NBdD4gP2NvbXBhbnkgLlxuICAgICAgICAgICAgICAgID9jb21wYW55IDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP2NvbXBhbnlOYW1lIFxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0ucGVyc29uTmFtZSkudG9CZSgnXCJKb2huIERvZVwiJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0uY29tcGFueU5hbWUpLnRvQmUoJ1wiVGVjaCBDb3JwXCInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGF0dGVybnMgd2l0aCBkaWZmZXJlbnQgbm9kZSB0eXBlcycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIEFkZCBibGFuayBub2RlXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgQmxhbmtOb2RlKCdfOmIxJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3R5cGUnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvUHJvamVjdCcpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID90eXBlIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy90eXBlPiA/dHlwZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBHcmFwaCBUZXN0cycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCByZWZsZWN0IGdyYXBoIGNoYW5nZXMgaW4gcXVlcnkgcmVzdWx0cycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEluaXRpYWxseSBlbXB0eVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgY2FjaGUgc2luY2UgZ3JhcGggY2hhbmdlZFxuICAgICAgICAgICAgZW5naW5lLmludmFsaWRhdGVDYWNoZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTaG91bGQgcmVmbGVjdCBuZXcgZGF0YVxuICAgICAgICAgICAgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggcHJlLXBvcHVsYXRlZCBncmFwaCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZVBvcHVsYXRlZEdyYXBoID0gbmV3IEdyYXBoKFtcbiAgICAgICAgICAgICAgICBuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvczEnKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AxJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvMScpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvczInKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AyJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvMicpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZVdpdGhEYXRhID0gbmV3IFNQQVJRTEVuZ2luZShwcmVQb3B1bGF0ZWRHcmFwaCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmVXaXRoRGF0YS5zZWxlY3QoJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBlbmdpbmVXaXRoRGF0YS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMgYW5kIEJvdW5kYXJ5IFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBncmFwaCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW1wdHlFbmdpbmUgPSBuZXcgU1BBUlFMRW5naW5lKG5ldyBHcmFwaCgpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0UmVzdWx0ID0gZW1wdHlFbmdpbmUuY29uc3RydWN0KCdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfScpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0UmVzdWx0ID0gZW1wdHlFbmdpbmUuc2VsZWN0KCdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChjb25zdHJ1Y3RSZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICAgICAgZXhwZWN0KHNlbGVjdFJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVtcHR5RW5naW5lLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb25nUXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgJyArICc/cyA/cCA/byAuICcucmVwZWF0KDEwMCkgKyAnfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KGxvbmdRdWVyeSkpLm5vdC50b1Rocm93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBVUklzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbi13aXRoLWRhc2gnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvaGFzX3VuZGVyc2NvcmUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnU3BlY2lhbCBjaGFyczogw6nDseS4reaWhycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bWVyaWMgbGl0ZXJhbHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvdmFsdWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoNDIpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uZXdWYWx1ZT4gMTIzIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgYm9vbGVhbiBsaXRlcmFscyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZGF0YScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9mbGFnJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5ib29sZWFuKHRydWUpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uZXdGbGFnPiBmYWxzZSB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGRlY2ltYWwgbGl0ZXJhbHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGknKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmRvdWJsZSgzLjE0MTU5KVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3UGk+IDIuNzEgfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==