14b0de4816056f49898c7ac3259d5831
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Priority_1 = require("../../../../src/domain/value-objects/Priority");
describe('Priority', () => {
    describe('create', () => {
        it('should create priority with valid string', () => {
            const result = Priority_1.Priority.create('high');
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().toString()).toBe('high');
        });
        it('should create priority with enum value', () => {
            const result = Priority_1.Priority.create(Priority_1.PriorityLevel.URGENT);
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().getLevel()).toBe(Priority_1.PriorityLevel.URGENT);
        });
        it('should handle case insensitive input', () => {
            const result = Priority_1.Priority.create('HIGH');
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().toString()).toBe('high');
        });
        it('should reject invalid priority', () => {
            const result = Priority_1.Priority.create('invalid');
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Priority must be one of: low, medium, high, urgent');
        });
        it('should reject empty priority', () => {
            const result = Priority_1.Priority.create('');
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Priority cannot be empty');
        });
    });
    describe('static factory methods', () => {
        it('should create low priority', () => {
            const priority = Priority_1.Priority.low();
            expect(priority.getLevel()).toBe(Priority_1.PriorityLevel.LOW);
        });
        it('should create medium priority', () => {
            const priority = Priority_1.Priority.medium();
            expect(priority.getLevel()).toBe(Priority_1.PriorityLevel.MEDIUM);
        });
        it('should create high priority', () => {
            const priority = Priority_1.Priority.high();
            expect(priority.getLevel()).toBe(Priority_1.PriorityLevel.HIGH);
        });
        it('should create urgent priority', () => {
            const priority = Priority_1.Priority.urgent();
            expect(priority.getLevel()).toBe(Priority_1.PriorityLevel.URGENT);
        });
    });
    describe('comparison methods', () => {
        it('should compare priorities correctly', () => {
            const low = Priority_1.Priority.low();
            const medium = Priority_1.Priority.medium();
            const high = Priority_1.Priority.high();
            const urgent = Priority_1.Priority.urgent();
            expect(low.compare(medium)).toBeLessThan(0);
            expect(medium.compare(high)).toBeLessThan(0);
            expect(high.compare(urgent)).toBeLessThan(0);
            expect(urgent.compare(low)).toBeGreaterThan(0);
            expect(medium.compare(medium)).toBe(0);
        });
        it('should check if priority is higher', () => {
            const low = Priority_1.Priority.low();
            const high = Priority_1.Priority.high();
            expect(high.isHigherThan(low)).toBe(true);
            expect(low.isHigherThan(high)).toBe(false);
        });
        it('should check if priority is lower', () => {
            const low = Priority_1.Priority.low();
            const high = Priority_1.Priority.high();
            expect(low.isLowerThan(high)).toBe(true);
            expect(high.isLowerThan(low)).toBe(false);
        });
    });
    describe('numeric value', () => {
        it('should return correct numeric values', () => {
            expect(Priority_1.Priority.low().getNumericValue()).toBe(1);
            expect(Priority_1.Priority.medium().getNumericValue()).toBe(2);
            expect(Priority_1.Priority.high().getNumericValue()).toBe(3);
            expect(Priority_1.Priority.urgent().getNumericValue()).toBe(4);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9kb21haW4vdmFsdWUtb2JqZWN0cy9Qcmlvcml0eS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsNEVBQXdGO0FBRXhGLFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO0lBQ3hCLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO1FBQ3RCLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxHQUFHLEVBQUU7WUFDbEQsTUFBTSxNQUFNLEdBQUcsbUJBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxHQUFHLEVBQUU7WUFDaEQsTUFBTSxNQUFNLEdBQUcsbUJBQVEsQ0FBQyxNQUFNLENBQUMsd0JBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVyRCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO1lBQzlDLE1BQU0sTUFBTSxHQUFHLG1CQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMs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VyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUM3QixFQUFFLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO1lBQzlDLE1BQU0sQ0FBQyxtQkFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxtQkFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxtQkFBUSxDQUFDLElBQUksRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxtQkFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2l0ZWxldi9Eb2N1bWVudHMvZXhvY29ydGV4LW9ic2lkaWFuLXBsdWdpbi90ZXN0cy91bml0L2RvbWFpbi92YWx1ZS1vYmplY3RzL1ByaW9yaXR5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpb3JpdHksIFByaW9yaXR5TGV2ZWwgfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZG9tYWluL3ZhbHVlLW9iamVjdHMvUHJpb3JpdHknO1xuXG5kZXNjcmliZSgnUHJpb3JpdHknLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdjcmVhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgcHJpb3JpdHkgd2l0aCB2YWxpZCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBQcmlvcml0eS5jcmVhdGUoJ2hpZ2gnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmdldFZhbHVlKCkudG9TdHJpbmcoKSkudG9CZSgnaGlnaCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgcHJpb3JpdHkgd2l0aCBlbnVtIHZhbHVlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gUHJpb3JpdHkuY3JlYXRlKFByaW9yaXR5TGV2ZWwuVVJHRU5UKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmdldFZhbHVlKCkuZ2V0TGV2ZWwoKSkudG9CZShQcmlvcml0eUxldmVsLlVSR0VOVCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYXNlIGluc2Vuc2l0aXZlIGlucHV0JywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gUHJpb3JpdHkuY3JlYXRlKCdISUdIJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nZXRWYWx1ZSgpLnRvU3RyaW5nKCkpLnRvQmUoJ2hpZ2gnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGludmFsaWQgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBQcmlvcml0eS5jcmVhdGUoJ2ludmFsaWQnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdC5pc0ZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdQcmlvcml0eSBtdXN0IGJlIG9uZSBvZjogbG93LCBtZWRpdW0sIGhpZ2gsIHVyZ2VudCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZW1wdHkgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBQcmlvcml0eS5jcmVhdGUoJycpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0LmlzRmFpbHVyZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ1ByaW9yaXR5IGNhbm5vdCBiZSBlbXB0eScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc3RhdGljIGZhY3RvcnkgbWV0aG9kcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBsb3cgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmlvcml0eSA9IFByaW9yaXR5LmxvdygpO1xuICAgICAgZXhwZWN0KHByaW9yaXR5LmdldExldmVsKCkpLnRvQmUoUHJpb3JpdHlMZXZlbC5MT1cpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgbWVkaXVtIHByaW9yaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJpb3JpdHkgPSBQcmlvcml0eS5tZWRpdW0oKTtcbiAgICAgIGV4cGVjdChwcmlvcml0eS5nZXRMZXZlbCgpKS50b0JlKFByaW9yaXR5TGV2ZWwuTUVESVVNKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGhpZ2ggcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmlvcml0eSA9IFByaW9yaXR5LmhpZ2goKTtcbiAgICAgIGV4cGVjdChwcmlvcml0eS5nZXRMZXZlbCgpKS50b0JlKFByaW9yaXR5TGV2ZWwuSElHSCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSB1cmdlbnQgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcmlvcml0eSA9IFByaW9yaXR5LnVyZ2VudCgpO1xuICAgICAgZXhwZWN0KHByaW9yaXR5LmdldExldmVsKCkpLnRvQmUoUHJpb3JpdHlMZXZlbC5VUkdFTlQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY29tcGFyaXNvbiBtZXRob2RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGFyZSBwcmlvcml0aWVzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvdyA9IFByaW9yaXR5LmxvdygpO1xuICAgICAgY29uc3QgbWVkaXVtID0gUHJpb3JpdHkubWVkaXVtKCk7XG4gICAgICBjb25zdCBoaWdoID0gUHJpb3JpdHkuaGlnaCgpO1xuICAgICAgY29uc3QgdXJnZW50ID0gUHJpb3JpdHkudXJnZW50KCk7XG5cbiAgICAgIGV4cGVjdChsb3cuY29tcGFyZShtZWRpdW0pKS50b0JlTGVzc1RoYW4oMCk7XG4gICAgICBleHBlY3QobWVkaXVtLmNvbXBhcmUoaGlnaCkpLnRvQmVMZXNzVGhhbigwKTtcbiAgICAgIGV4cGVjdChoaWdoLmNvbXBhcmUodXJnZW50KSkudG9CZUxlc3NUaGFuKDApO1xuICAgICAgZXhwZWN0KHVyZ2VudC5jb21wYXJlKGxvdykpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChtZWRpdW0uY29tcGFyZShtZWRpdW0pKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjaGVjayBpZiBwcmlvcml0eSBpcyBoaWdoZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBsb3cgPSBQcmlvcml0eS5sb3coKTtcbiAgICAgIGNvbnN0IGhpZ2ggPSBQcmlvcml0eS5oaWdoKCk7XG5cbiAgICAgIGV4cGVjdChoaWdoLmlzSGlnaGVyVGhhbihsb3cpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGxvdy5pc0hpZ2hlclRoYW4oaGlnaCkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjaGVjayBpZiBwcmlvcml0eSBpcyBsb3dlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvdyA9IFByaW9yaXR5LmxvdygpO1xuICAgICAgY29uc3QgaGlnaCA9IFByaW9yaXR5LmhpZ2goKTtcblxuICAgICAgZXhwZWN0KGxvdy5pc0xvd2VyVGhhbihoaWdoKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChoaWdoLmlzTG93ZXJUaGFuKGxvdykpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnbnVtZXJpYyB2YWx1ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IG51bWVyaWMgdmFsdWVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFByaW9yaXR5LmxvdygpLmdldE51bWVyaWNWYWx1ZSgpKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KFByaW9yaXR5Lm1lZGl1bSgpLmdldE51bWVyaWNWYWx1ZSgpKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KFByaW9yaXR5LmhpZ2goKS5nZXROdW1lcmljVmFsdWUoKSkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChQcmlvcml0eS51cmdlbnQoKS5nZXROdW1lcmljVmFsdWUoKSkudG9CZSg0KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=