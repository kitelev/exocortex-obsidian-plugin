{"file":"/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__builders__/LayoutMother.ts","mappings":"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","names":[],"sources":["/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__builders__/LayoutMother.ts"],"sourcesContent":["import {\n  ClassLayout,\n  LayoutBlockConfig,\n} from \"../../src/domain/entities/ClassLayout\";\nimport { LayoutBlock, BlockType } from \"../../src/domain/entities/LayoutBlock\";\nimport { AssetId } from \"../../src/domain/value-objects/AssetId\";\nimport { ClassName } from \"../../src/domain/value-objects/ClassName\";\nimport { Result } from \"../../src/domain/core/Result\";\n\n/**\n * Mother Object pattern for creating test ClassLayout instances\n * Follows Test Data Builder pattern for flexible test setup\n */\nexport class LayoutMother {\n  private id: string = \"00000000-0000-4000-8000-000000000001\";\n  private targetClass: string = \"TestClass\";\n  private blocks: LayoutBlockConfig[] = [];\n  private isEnabled: boolean = true;\n  private priority: number = 0;\n\n  static create(): LayoutMother {\n    return new LayoutMother();\n  }\n\n  static simple(): ClassLayout {\n    return LayoutMother.create()\n      .withId(\"00000000-0000-4000-8000-000000000002\")\n      .withTargetClass(\"SimpleClass\")\n      .withPropertiesBlock()\n      .build();\n  }\n\n  static complex(): ClassLayout {\n    return LayoutMother.create()\n      .withId(\"00000000-0000-4000-8000-000000000003\")\n      .withTargetClass(\"ComplexClass\")\n      .withPropertiesBlock()\n      .withBacklinksBlock()\n      .withChildrenEffortsBlock()\n      .withCustomBlock()\n      .withPriority(10)\n      .build();\n  }\n\n  static empty(): ClassLayout {\n    return LayoutMother.create()\n      .withId(\"00000000-0000-4000-8000-000000000004\")\n      .withTargetClass(\"EmptyClass\")\n      .build();\n  }\n\n  static disabled(): ClassLayout {\n    return LayoutMother.create()\n      .withId(\"00000000-0000-4000-8000-000000000005\")\n      .withTargetClass(\"DisabledClass\")\n      .disabled()\n      .build();\n  }\n\n  static withCollapsibleBlocks(): ClassLayout {\n    return LayoutMother.create()\n      .withId(\"00000000-0000-4000-8000-000000000006\")\n      .withTargetClass(\"CollapsibleClass\")\n      .withCollapsibleBlock(\n        \"collapsible-1\",\n        \"properties\",\n        \"Collapsible Properties\",\n      )\n      .withCollapsibleBlock(\n        \"collapsible-2\",\n        \"backlinks\",\n        \"Collapsible Backlinks\",\n        true,\n      )\n      .build();\n  }\n\n  // Builder methods\n  withId(id: string): this {\n    this.id = id;\n    return this;\n  }\n\n  withTargetClass(targetClass: string): this {\n    this.targetClass = targetClass;\n    return this;\n  }\n\n  withPriority(priority: number): this {\n    this.priority = priority;\n    return this;\n  }\n\n  enabled(): this {\n    this.isEnabled = true;\n    return this;\n  }\n\n  disabled(): this {\n    this.isEnabled = false;\n    return this;\n  }\n\n  withBlock(block: LayoutBlockConfig): this {\n    this.blocks.push(block);\n    return this;\n  }\n\n  withPropertiesBlock(\n    id: string = \"properties-block\",\n    title: string = \"Properties\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"properties\",\n      title,\n      order: this.blocks.length,\n      config: { type: \"properties\" },\n      isVisible: true,\n    });\n  }\n\n  withBacklinksBlock(\n    id: string = \"backlinks-block\",\n    title: string = \"Backlinks\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"backlinks\",\n      title,\n      order: this.blocks.length,\n      config: { type: \"backlinks\" },\n      isVisible: true,\n    });\n  }\n\n  withChildrenEffortsBlock(\n    id: string = \"children-efforts-block\",\n    title: string = \"Children Efforts\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"children-efforts\",\n      title,\n      order: this.blocks.length,\n      config: { type: \"children-efforts\" },\n      isVisible: true,\n    });\n  }\n\n  withQueryBlock(\n    id: string = \"query-block\",\n    title: string = \"Query Results\",\n    query: string = \"SELECT * WHERE { ?s ?p ?o }\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"query\",\n      title,\n      order: this.blocks.length,\n      config: { type: \"query\", query },\n      isVisible: true,\n    });\n  }\n\n  withCustomBlock(\n    id: string = \"custom-block\",\n    title: string = \"Custom Block\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"custom\",\n      title,\n      order: this.blocks.length,\n      config: { type: \"custom\", templatePath: \"templates/custom.md\" },\n      isVisible: true,\n    });\n  }\n\n  withButtonsBlock(\n    id: string = \"buttons-block\",\n    title: string = \"Actions\",\n  ): this {\n    return this.withBlock({\n      id,\n      type: \"buttons\",\n      title,\n      order: this.blocks.length,\n      config: {\n        type: \"buttons\",\n        buttons: [\n          { id: \"btn-1\", label: \"Action 1\", commandType: \"test-command\" },\n        ],\n      },\n      isVisible: true,\n    });\n  }\n\n  withHiddenBlock(\n    id: string = \"hidden-block\",\n    type: BlockType = \"properties\",\n  ): this {\n    return this.withBlock({\n      id,\n      type,\n      title: \"Hidden Block\",\n      order: this.blocks.length,\n      config: { type },\n      isVisible: false,\n    });\n  }\n\n  withCollapsibleBlock(\n    id: string,\n    type: BlockType,\n    title: string,\n    isCollapsed: boolean = false,\n  ): this {\n    return this.withBlock({\n      id,\n      type,\n      title,\n      order: this.blocks.length,\n      config: { type },\n      isVisible: true,\n      isCollapsible: true,\n      isCollapsed,\n    });\n  }\n\n  build(): ClassLayout {\n    const assetIdResult = AssetId.create(this.id);\n    const classNameResult = ClassName.create(this.targetClass);\n\n    if (assetIdResult.isFailure) {\n      throw new Error(`Invalid asset ID: ${assetIdResult.error}`);\n    }\n\n    if (classNameResult.isFailure) {\n      throw new Error(`Invalid class name: ${classNameResult.error}`);\n    }\n\n    const layoutResult = ClassLayout.create({\n      id: assetIdResult.getValue(),\n      targetClass: classNameResult.getValue(),\n      blocks: this.blocks,\n      isEnabled: this.isEnabled,\n      priority: this.priority,\n    });\n\n    if (layoutResult.isFailure) {\n      throw new Error(`Failed to create layout: ${layoutResult.error}`);\n    }\n\n    return layoutResult.getValue();\n  }\n}\n\n/**\n * Mother Object for creating test RenderContext instances\n */\nexport class RenderContextMother {\n  private containerId: string = \"test-container\";\n  private assetPath: string = \"/test/path.md\";\n  private metadata: Record<string, any> = {};\n  private frontmatter: Record<string, any> = {};\n\n  static create(): RenderContextMother {\n    return new RenderContextMother();\n  }\n\n  static simple(): any {\n    return RenderContextMother.create().build();\n  }\n\n  static withFrontmatter(frontmatter: Record<string, any>): any {\n    return RenderContextMother.create().withFrontmatter(frontmatter).build();\n  }\n\n  static forAsset(assetPath: string): any {\n    return RenderContextMother.create().withAssetPath(assetPath).build();\n  }\n\n  withContainerId(containerId: string): this {\n    this.containerId = containerId;\n    return this;\n  }\n\n  withAssetPath(assetPath: string): this {\n    this.assetPath = assetPath;\n    return this;\n  }\n\n  withMetadata(metadata: Record<string, any>): this {\n    this.metadata = metadata;\n    return this;\n  }\n\n  withFrontmatter(frontmatter: Record<string, any>): this {\n    this.frontmatter = frontmatter;\n    return this;\n  }\n\n  build() {\n    return {\n      containerId: this.containerId,\n      assetPath: this.assetPath,\n      metadata: { ...this.metadata, frontmatter: this.frontmatter },\n      frontmatter: this.frontmatter,\n    };\n  }\n}\n"],"version":3}