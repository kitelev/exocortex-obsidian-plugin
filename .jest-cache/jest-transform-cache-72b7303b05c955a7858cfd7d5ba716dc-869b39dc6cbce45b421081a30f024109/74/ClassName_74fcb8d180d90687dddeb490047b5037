57c7cab44a8a3d04e32b1edd852a55ea
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ClassName = void 0;
const Result_1 = require("../core/Result");
/**
 * Value object representing an asset class name
 * Ensures valid class naming conventions
 */
class ClassName {
    constructor(value) {
        this.value = value;
    }
    static create(value) {
        if (!value || value.trim().length === 0) {
            return Result_1.Result.fail("ClassName cannot be empty");
        }
        // Remove wiki link brackets if present
        const cleaned = value.replace(/\[\[|\]\]/g, "");
        if (!/^[a-zA-Z_][a-zA-Z0-9_]*(?:__[a-zA-Z][a-zA-Z0-9_]*)?$/.test(cleaned)) {
            return Result_1.Result.fail(`Invalid class name format: ${value}`);
        }
        return Result_1.Result.ok(new ClassName(cleaned));
    }
    toString() {
        return this.value;
    }
    toWikiLink() {
        return `[[${this.value}]]`;
    }
    getPrefix() {
        const parts = this.value.split("__");
        return parts.length > 1 ? parts[0] : "";
    }
    getName() {
        const parts = this.value.split("__");
        return parts.length > 1 ? parts[1] : parts[0];
    }
    equals(other) {
        return this.value === other.value;
    }
}
exports.ClassName = ClassName;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vc3JjL2RvbWFpbi92YWx1ZS1vYmplY3RzL0NsYXNzTmFtZS50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBd0M7QUFFeEM7OztHQUdHO0FBQ0gsTUFBYSxTQUFTO0lBR3BCLFlBQW9CLEtBQWE7UUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBYTtRQUN6QixJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZDLE9BQU8sZUFBTSxDQUFDLElBQUksQ0FBWSwyQkFBMkIsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsdUNBQXVDO1FBQ3ZDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRWhELElBQUksQ0FBQyxzREFBc0QsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDekUsT0FBTyxlQUFNLENBQUMsSUFBSSxDQUFZLDhCQUE4QixLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ3RFO1FBRUQsT0FBTyxlQUFNLENBQUMsRUFBRSxDQUFZLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELFVBQVU7UUFDUixPQUFPLEtBQUssSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFRCxTQUFTO1FBQ1AsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsT0FBTyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELE9BQU87UUFDTCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWdCO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBQ3BDLENBQUM7Q0FDRjtBQTNDRCw4QkEyQ0MiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vc3JjL2RvbWFpbi92YWx1ZS1vYmplY3RzL0NsYXNzTmFtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiLi4vY29yZS9SZXN1bHRcIjtcblxuLyoqXG4gKiBWYWx1ZSBvYmplY3QgcmVwcmVzZW50aW5nIGFuIGFzc2V0IGNsYXNzIG5hbWVcbiAqIEVuc3VyZXMgdmFsaWQgY2xhc3MgbmFtaW5nIGNvbnZlbnRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGFzc05hbWUge1xuICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHZhbHVlOiBzdHJpbmcpOiBSZXN1bHQ8Q2xhc3NOYW1lPiB7XG4gICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmZhaWw8Q2xhc3NOYW1lPihcIkNsYXNzTmFtZSBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHdpa2kgbGluayBicmFja2V0cyBpZiBwcmVzZW50XG4gICAgY29uc3QgY2xlYW5lZCA9IHZhbHVlLnJlcGxhY2UoL1xcW1xcW3xcXF1cXF0vZywgXCJcIik7XG5cbiAgICBpZiAoIS9eW2EtekEtWl9dW2EtekEtWjAtOV9dKig/Ol9fW2EtekEtWl1bYS16QS1aMC05X10qKT8kLy50ZXN0KGNsZWFuZWQpKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmZhaWw8Q2xhc3NOYW1lPihgSW52YWxpZCBjbGFzcyBuYW1lIGZvcm1hdDogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVzdWx0Lm9rPENsYXNzTmFtZT4obmV3IENsYXNzTmFtZShjbGVhbmVkKSk7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG5cbiAgdG9XaWtpTGluaygpOiBzdHJpbmcge1xuICAgIHJldHVybiBgW1ske3RoaXMudmFsdWV9XV1gO1xuICB9XG5cbiAgZ2V0UHJlZml4KCk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnZhbHVlLnNwbGl0KFwiX19cIik7XG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1swXSA6IFwiXCI7XG4gIH1cblxuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnZhbHVlLnNwbGl0KFwiX19cIik7XG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1sxXSA6IHBhcnRzWzBdO1xuICB9XG5cbiAgZXF1YWxzKG90aGVyOiBDbGFzc05hbWUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gb3RoZXIudmFsdWU7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==