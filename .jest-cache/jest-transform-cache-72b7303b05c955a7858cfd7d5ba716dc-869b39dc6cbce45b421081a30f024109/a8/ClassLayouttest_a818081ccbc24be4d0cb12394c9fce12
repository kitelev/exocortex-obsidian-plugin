a731dd42d3c228e33b8afa6aa45b9ec8
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ClassLayout_1 = require("../../../../src/domain/entities/ClassLayout");
const AssetId_1 = require("../../../../src/domain/value-objects/AssetId");
const ClassName_1 = require("../../../../src/domain/value-objects/ClassName");
describe('ClassLayout', () => {
    let assetId;
    let className;
    let validBlockConfig;
    beforeEach(() => {
        assetId = AssetId_1.AssetId.generate();
        className = ClassName_1.ClassName.create('TestClass').getValue();
        validBlockConfig = {
            id: 'test-block-1',
            type: 'query',
            title: 'Test Block',
            order: 1,
            config: { query: 'SELECT * WHERE { ?s ?p ?o }' },
            isVisible: true,
            isCollapsible: true,
            isCollapsed: false
        };
    });
    describe('create', () => {
        it('should create ClassLayout with valid properties', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: true,
                priority: 50
            });
            expect(result.isSuccess).toBe(true);
            const layout = result.getValue();
            expect(layout.id).toBe(assetId);
            expect(layout.targetClass).toBe(className);
            expect(layout.blocks).toHaveLength(1);
            expect(layout.isEnabled).toBe(true);
            expect(layout.priority).toBe(50);
        });
        it('should fail when target class is null', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: null,
                blocks: [],
                isEnabled: true,
                priority: 50
            });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Target class is required');
        });
        it('should fail when target class is undefined', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: undefined,
                blocks: [],
                isEnabled: true,
                priority: 50
            });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Target class is required');
        });
        it('should fail when exceeding maximum block limit', () => {
            const blocks = Array.from({ length: 21 }, (_, i) => (Object.assign(Object.assign({}, validBlockConfig), { id: `block-${i}`, order: i })));
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Cannot have more than 20 blocks');
        });
        it('should accept maximum allowed blocks', () => {
            const blocks = Array.from({ length: 20 }, (_, i) => (Object.assign(Object.assign({}, validBlockConfig), { id: `block-${i}`, order: i })));
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            });
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().blocks).toHaveLength(20);
        });
        it('should fail when blocks have duplicate order values', () => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-1', order: 1 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-2', order: 1 })
            ];
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Blocks cannot have duplicate order values');
        });
        it('should create with empty blocks array', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [],
                isEnabled: true,
                priority: 50
            });
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().blocks).toHaveLength(0);
        });
        it('should create with disabled layout', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: false,
                priority: 0
            });
            expect(result.isSuccess).toBe(true);
            const layout = result.getValue();
            expect(layout.isEnabled).toBe(false);
            expect(layout.priority).toBe(0);
        });
    });
    describe('addBlock', () => {
        let layout;
        beforeEach(() => {
            layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: true,
                priority: 50
            }).getValue();
        });
        it('should add valid block successfully', () => {
            const newBlock = {
                id: 'new-block',
                type: 'properties',
                title: 'Properties Block',
                order: 2,
                config: {},
                isVisible: true
            };
            const result = layout.addBlock(newBlock);
            expect(result.isSuccess).toBe(true);
            expect(layout.blocks).toHaveLength(2);
            expect(layout.blocks.find(b => b.id === 'new-block')).toBeDefined();
        });
        it('should fail when adding block with duplicate ID', () => {
            const duplicateBlock = Object.assign(Object.assign({}, validBlockConfig), { order: 2 });
            const result = layout.addBlock(duplicateBlock);
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block with this ID already exists');
        });
        it('should fail when adding block with duplicate order', () => {
            const duplicateOrderBlock = {
                id: 'new-block',
                type: 'relations',
                title: 'Relations Block',
                order: 1,
                config: {},
                isVisible: true
            };
            const result = layout.addBlock(duplicateOrderBlock);
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block with order 1 already exists');
        });
        it('should fail when at maximum block capacity', () => {
            // Add 19 more blocks to reach the limit
            for (let i = 2; i <= 20; i++) {
                const block = {
                    id: `block-${i}`,
                    type: 'custom',
                    title: `Block ${i}`,
                    order: i,
                    config: {},
                    isVisible: true
                };
                layout.addBlock(block);
            }
            const newBlock = {
                id: 'overflow-block',
                type: 'backlinks',
                title: 'Overflow Block',
                order: 21,
                config: {},
                isVisible: true
            };
            const result = layout.addBlock(newBlock);
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Cannot add more blocks. Maximum of 20 reached');
        });
        it('should add blocks of all supported types', () => {
            const blockTypes = ['query', 'properties', 'relations', 'backlinks', 'custom'];
            for (let i = 0; i < blockTypes.length; i++) {
                const block = {
                    id: `block-${blockTypes[i]}`,
                    type: blockTypes[i],
                    title: `${blockTypes[i]} Block`,
                    order: i + 10,
                    config: {},
                    isVisible: true
                };
                const result = layout.addBlock(block);
                expect(result.isSuccess).toBe(true);
            }
            expect(layout.blocks).toHaveLength(6); // original + 5 new
        });
    });
    describe('removeBlock', () => {
        let layout;
        beforeEach(() => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-1', order: 1 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-2', order: 2 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-3', order: 3 })
            ];
            layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
        });
        it('should remove existing block successfully', () => {
            const result = layout.removeBlock('block-2');
            expect(result.isSuccess).toBe(true);
            expect(layout.blocks).toHaveLength(2);
            expect(layout.blocks.find(b => b.id === 'block-2')).toBeUndefined();
        });
        it('should fail when removing non-existent block', () => {
            const result = layout.removeBlock('non-existent');
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block not found');
        });
        it('should remove first block', () => {
            const result = layout.removeBlock('block-1');
            expect(result.isSuccess).toBe(true);
            expect(layout.blocks).toHaveLength(2);
            expect(layout.blocks[0].id).toBe('block-2');
        });
        it('should remove last block', () => {
            const result = layout.removeBlock('block-3');
            expect(result.isSuccess).toBe(true);
            expect(layout.blocks).toHaveLength(2);
            expect(layout.blocks.find(b => b.id === 'block-3')).toBeUndefined();
        });
        it('should handle empty string block ID', () => {
            const result = layout.removeBlock('');
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block not found');
        });
    });
    describe('updateBlock', () => {
        let layout;
        beforeEach(() => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-1', order: 1 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-2', order: 2 })
            ];
            layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
        });
        it('should update block properties successfully', () => {
            const updates = {
                title: 'Updated Title',
                isVisible: false,
                config: { newProperty: 'newValue' }
            };
            const result = layout.updateBlock('block-1', updates);
            expect(result.isSuccess).toBe(true);
            const updatedBlock = layout.blocks.find(b => b.id === 'block-1');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.title).toBe('Updated Title');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.isVisible).toBe(false);
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.config.newProperty).toBe('newValue');
        });
        it('should fail when updating non-existent block', () => {
            const result = layout.updateBlock('non-existent', { title: 'New Title' });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block not found');
        });
        it('should update block order when valid', () => {
            const result = layout.updateBlock('block-1', { order: 5 });
            expect(result.isSuccess).toBe(true);
            const updatedBlock = layout.blocks.find(b => b.id === 'block-1');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.order).toBe(5);
        });
        it('should fail when updating to duplicate order', () => {
            const result = layout.updateBlock('block-1', { order: 2 });
            expect(result.isFailure).toBe(true);
            expect(result.error).toBe('Block with order 2 already exists');
        });
        it('should allow updating order to same value', () => {
            const result = layout.updateBlock('block-1', { order: 1 });
            expect(result.isSuccess).toBe(true);
            const updatedBlock = layout.blocks.find(b => b.id === 'block-1');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.order).toBe(1);
        });
        it('should update multiple properties at once', () => {
            const updates = {
                title: 'Multi Update',
                type: 'relations',
                isVisible: false,
                isCollapsible: false,
                order: 10
            };
            const result = layout.updateBlock('block-2', updates);
            expect(result.isSuccess).toBe(true);
            const updatedBlock = layout.blocks.find(b => b.id === 'block-2');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.title).toBe('Multi Update');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.type).toBe('relations');
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.isVisible).toBe(false);
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.isCollapsible).toBe(false);
            expect(updatedBlock === null || updatedBlock === void 0 ? void 0 : updatedBlock.order).toBe(10);
        });
    });
    describe('getVisibleBlocks', () => {
        it('should return only visible blocks', () => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'visible-1', order: 1, isVisible: true }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'hidden-1', order: 2, isVisible: false }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'visible-2', order: 3, isVisible: true })
            ];
            const layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
            const visibleBlocks = layout.getVisibleBlocks();
            expect(visibleBlocks).toHaveLength(2);
            expect(visibleBlocks.map(b => b.id)).toEqual(['visible-1', 'visible-2']);
        });
        it('should return empty array when no visible blocks', () => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'hidden-1', order: 1, isVisible: false }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'hidden-2', order: 2, isVisible: false })
            ];
            const layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
            const visibleBlocks = layout.getVisibleBlocks();
            expect(visibleBlocks).toHaveLength(0);
        });
        it('should return blocks in correct order', () => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-3', order: 3, isVisible: true }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-1', order: 1, isVisible: true }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-2', order: 2, isVisible: true })
            ];
            const layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
            const visibleBlocks = layout.getVisibleBlocks();
            expect(visibleBlocks.map(b => b.id)).toEqual(['block-1', 'block-2', 'block-3']);
        });
    });
    describe('blocks getter', () => {
        it('should return blocks sorted by order', () => {
            const blocks = [
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-5', order: 5 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-1', order: 1 }),
                Object.assign(Object.assign({}, validBlockConfig), { id: 'block-3', order: 3 })
            ];
            const layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks,
                isEnabled: true,
                priority: 50
            }).getValue();
            const sortedBlocks = layout.blocks;
            expect(sortedBlocks.map(b => b.id)).toEqual(['block-1', 'block-3', 'block-5']);
        });
        it('should return a copy of blocks array', () => {
            const layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: true,
                priority: 50
            }).getValue();
            const blocks1 = layout.blocks;
            const blocks2 = layout.blocks;
            expect(blocks1).not.toBe(blocks2);
            expect(blocks1).toEqual(blocks2);
        });
    });
    describe('enable and disable', () => {
        let layout;
        beforeEach(() => {
            layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: false,
                priority: 50
            }).getValue();
        });
        it('should enable disabled layout', () => {
            expect(layout.isEnabled).toBe(false);
            layout.enable();
            expect(layout.isEnabled).toBe(true);
        });
        it('should disable enabled layout', () => {
            layout.enable();
            expect(layout.isEnabled).toBe(true);
            layout.disable();
            expect(layout.isEnabled).toBe(false);
        });
        it('should handle multiple enable calls', () => {
            layout.enable();
            layout.enable();
            expect(layout.isEnabled).toBe(true);
        });
        it('should handle multiple disable calls', () => {
            layout.enable();
            layout.disable();
            layout.disable();
            expect(layout.isEnabled).toBe(false);
        });
    });
    describe('property getters', () => {
        let layout;
        beforeEach(() => {
            layout = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [validBlockConfig],
                isEnabled: true,
                priority: 75
            }).getValue();
        });
        it('should return correct id', () => {
            expect(layout.id).toBe(assetId);
        });
        it('should return correct targetClass', () => {
            expect(layout.targetClass).toBe(className);
        });
        it('should return correct priority', () => {
            expect(layout.priority).toBe(75);
        });
        it('should return correct enabled state', () => {
            expect(layout.isEnabled).toBe(true);
        });
    });
    describe('edge cases and boundary conditions', () => {
        it('should handle zero priority', () => {
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [],
                isEnabled: true,
                priority: 0
            });
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().priority).toBe(0);
        });
        it('should handle negative order values', () => {
            const blockWithNegativeOrder = {
                id: 'negative-order',
                type: 'query',
                title: 'Negative Order Block',
                order: -1,
                config: {},
                isVisible: true
            };
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [blockWithNegativeOrder],
                isEnabled: true,
                priority: 50
            });
            expect(result.isSuccess).toBe(true);
            expect(result.getValue().blocks[0].order).toBe(-1);
        });
        it('should handle blocks with complex config objects', () => {
            const complexBlock = {
                id: 'complex-block',
                type: 'custom',
                title: 'Complex Block',
                order: 1,
                config: {
                    nested: {
                        property: 'value',
                        array: [1, 2, 3],
                        boolean: true
                    },
                    query: 'SELECT ?s WHERE { ?s ?p ?o }',
                    filters: ['filter1', 'filter2']
                },
                isVisible: true,
                isCollapsible: true,
                isCollapsed: false
            };
            const result = ClassLayout_1.ClassLayout.create({
                id: assetId,
                targetClass: className,
                blocks: [complexBlock],
                isEnabled: true,
                priority: 50
            });
            expect(result.isSuccess).toBe(true);
            const layout = result.getValue();
            expect(layout.blocks[0].config).toEqual(complexBlock.config);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9kb21haW4vZW50aXRpZXMvQ2xhc3NMYXlvdXQudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDZFQUE2RjtBQUM3RiwwRUFBdUU7QUFDdkUsOEVBQTJFO0FBRzNFLFFBQVEsQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO0lBQzNCLElBQUksT0FBZ0IsQ0FBQztJQUNyQixJQUFJLFNBQW9CLENBQUM7SUFDekIsSUFBSSxnQkFBbUMsQ0FBQztJQUV4QyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsT0FBTyxHQUFHLGlCQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDN0IsU0FBUyxHQUFHLHFCQUFTLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JELGdCQUFnQixHQUFHO1lBQ2pCLEVBQUUsRUFBRSxjQUFjO1lBQ2xCLElBQUksRUFBRSxPQUFPO1lBQ2IsS0FBSyxFQUFFLFlBQVk7WUFDbkIsS0FBSyxFQUFFLENBQUM7WUFDUixNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsNkJBQTZCLEVBQUU7WUFDaEQsU0FBUyxFQUFFLElBQUk7WUFDZixhQUFhLEVBQUUsSUFBSTtZQUNuQixXQUFXLEVBQUUsS0FBSztTQUNuQixDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtRQUN0QixFQUFFLENBQUMsaURBQWlELEVBQUUsR0FBRyxFQUFFO1lBQ3pELE1BQU0sTUFBTSxHQUFHLHlCQUFXLENBQUMsTUFBTSxDQUFDO2dCQUNoQyxFQUFFLEVBQUUsT0FBTztnQkFDWCxXQUFXLEVBQUUsU0FBUztnQkFDdEIsTUFBTSxFQUFFLENBQUMsZ0JBQWdCLENBQUM7Z0JBQzFCLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHVDQUF1QyxFQUFFLEdBQUcsRUFBRTtZQUMvQyxNQUFNLE1BQU0sR0FBRyx5QkFBVyxDQUFDLE1BQU0sQ0FBQztnQkFDaEMsRUFBRSxFQUFFLE9BQU87Z0JBQ1gsV0FBVyxFQUFFLElBQVc7Z0JBQ3hCLE1BQU0sRUFBRSxFQUFFO2dCQUNWLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFnQjtnQkFDN0IsTUFBTSxFQUFFLEVBQUU7Z0JBQ1YsU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3hELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLEdBQUcsRUFBRTtZQUN4RCxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsaUNBQy9DLGdCQUFnQixLQUNuQixFQUFFLEVBQUUsU0FBUyxDQUFDLEVBQUUsRUFDaEIsS0FBSyxFQUFFLENBQUMsSUFDUixDQUFDLENBQUM7WUFFSixNQUFNLE1BQU0sR0FBRyx5QkFBVyxDQUFDLE1BQU0sQ0FBQztnQkFDaEMsRUFBRSxFQUFFLE9BQU87Z0JBQ1gsV0FBVyxFQUFFLFNBQVM7Z0JBQ3RCLE1BQU07Z0JBQ04sU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtZQUM5QyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsaUNBQy9DLGdCQUFnQixLQUNuQixFQUFFLEVBQUUsU0FBUyxDQUFDLEVBQUUsRUFDaEIsS0FBSyxFQUFFLENBQUMsSUFDUixDQUFDLENBQUM7WUFFSixNQUFNLE1BQU0sR0FBRyx5QkFBVyxDQUFDLE1BQU0sQ0FBQztnQkFDaEMsRUFBRSxFQUFFLE9BQU87Z0JBQ1gsV0FBVyxFQUFFLFNBQVM7Z0JBQ3RCLE1BQU07Z0JBQ04sU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDN0QsTUFBTSxNQUFNLEdBQUc7Z0RBQ1IsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztnREFDekMsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQzthQUMvQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDO1lBRUgsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsMkNBQTJDLENBQUMsQ0FBQztRQUN6RSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7WUFDL0MsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNLEVBQUUsRUFBRTtnQkFDVixTQUFTLEVBQUUsSUFBSTtnQkFDZixRQUFRLEVBQUUsRUFBRTthQUNiLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtZQUM1QyxNQUFNLE1BQU0sR0FBRyx5QkFBVyxDQUFDLE1BQU0sQ0FBQztnQkFDaEMsRUFBRSxFQUFFLE9BQU87Z0JBQ1gsV0FBVyxFQUFFLFNBQVM7Z0JBQ3RCLE1BQU0sRUFBRSxDQUFDLGdCQUFnQixDQUFDO2dCQUMxQixTQUFTLEVBQUUsS0FBSztnQkFDaEIsUUFBUSxFQUFFLENBQUM7YUFDWixDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDakMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO1FBQ3hCLElBQUksTUFBbUIsQ0FBQztRQUV4QixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsTUFBTSxHQUFHLHlCQUFXLENBQUMsTUFBTSxDQUFDO2dCQUMxQixFQUFFLEVBQUUsT0FBTztnQkFDWCxXQUFXLEVBQUUsU0FBUztnQkFDdEIsTUFBTSxFQUFFLENBQUMsZ0JBQWdCLENBQUM7Z0JBQzFCLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtZQUM3QyxNQUFNLFFBQVEsR0FBc0I7Z0JBQ2xDLEVBQUUsRUFBRSxXQUFXO2dCQUNmLElBQUksRUFBRSxZQUFZO2dCQUNsQixLQUFLLEVBQUUsa0JBQWtCO2dCQUN6QixLQUFLLEVBQUUsQ0FBQztnQkFDUixNQUFNLEVBQUUsRUFBRTtnQkFDVixTQUFTLEVBQUUsSUFBSTthQUNoQixDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV6QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaURBQWlELEVBQUUsR0FBRyxFQUFFO1lBQ3pELE1BQU0sY0FBYyxtQ0FDZixnQkFBZ0IsS0FDbkIsS0FBSyxFQUFFLENBQUMsR0FDVCxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUUvQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ2pFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsRUFBRTtZQUM1RCxNQUFNLG1CQUFtQixHQUFzQjtnQkFDN0MsRUFBRSxFQUFFLFdBQVc7Z0JBQ2YsSUFBSSxFQUFFLFdBQVc7Z0JBQ2pCLEtBQUssRUFBRSxpQkFBaUI7Z0JBQ3hCLEtBQUssRUFBRSxDQUFDO2dCQUNSLE1BQU0sRUFBRSxFQUFFO2dCQUNWLFNBQVMsRUFBRSxJQUFJO2FBQ2hCLENBQUM7WUFFRixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFFcEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7WUFDcEQsd0NBQXdDO1lBQ3hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sS0FBSyxHQUFzQjtvQkFDL0IsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFO29CQUNoQixJQUFJLEVBQUUsUUFBUTtvQkFDZCxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUU7b0JBQ25CLEtBQUssRUFBRSxDQUFDO29CQUNSLE1BQU0sRUFBRSxFQUFFO29CQUNWLFNBQVMsRUFBRSxJQUFJO2lCQUNoQixDQUFDO2dCQUNGLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDeEI7WUFFRCxNQUFNLFFBQVEsR0FBc0I7Z0JBQ2xDLEVBQUUsRUFBRSxnQkFBZ0I7Z0JBQ3BCLElBQUksRUFBRSxXQUFXO2dCQUNqQixLQUFLLEVBQUUsZ0JBQWdCO2dCQUN2QixLQUFLLEVBQUUsRUFBRTtnQkFDVCxNQUFNLEVBQUUsRUFBRTtnQkFDVixTQUFTLEVBQUUsSUFBSTthQUNoQixDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV6QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBQzdFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEdBQUcsRUFBRTtZQUNsRCxNQUFNLFVBQVUsR0FBZ0MsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFFNUcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzFDLE1BQU0sS0FBSyxHQUFzQjtvQkFDL0IsRUFBRSxFQUFFLFNBQVMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUM1QixJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztvQkFDbkIsS0FBSyxFQUFFLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRO29CQUMvQixLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUU7b0JBQ2IsTUFBTSxFQUFFLEVBQUU7b0JBQ1YsU0FBUyxFQUFFLElBQUk7aUJBQ2hCLENBQUM7Z0JBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckM7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLG1CQUFtQjtRQUM1RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7UUFDM0IsSUFBSSxNQUFtQixDQUFDO1FBRXhCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLE1BQU0sR0FBRztnREFDUixnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO2dEQUN6QyxnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO2dEQUN6QyxnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO2FBQy9DLENBQUM7WUFFRixNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQzFCLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLEdBQUcsRUFBRTtZQUNuRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTdDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN0RSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxHQUFHLEVBQUU7WUFDdEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9DLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDJCQUEyQixFQUFFLEdBQUcsRUFBRTtZQUNuQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTdDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7WUFDbEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUU3QyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1lBQzdDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7UUFDM0IsSUFBSSxNQUFtQixDQUFDO1FBRXhCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLE1BQU0sR0FBRztnREFDUixnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO2dEQUN6QyxnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDO2FBQy9DLENBQUM7WUFFRixNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQzFCLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtZQUNyRCxNQUFNLE9BQU8sR0FBRztnQkFDZCxLQUFLLEVBQUUsZUFBZTtnQkFDdEIsU0FBUyxFQUFFLEtBQUs7Z0JBQ2hCLE1BQU0sRUFBRSxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUU7YUFDcEMsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBRXRELE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxTQUFTLENBQUMsQ0FBQztZQUNqRSxNQUFNLENBQUMsWUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNsRCxNQUFNLENBQUMsWUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QyxNQUFNLENBQUMsWUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1lBQ3RELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7WUFFMUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUUzRCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssU0FBUyxDQUFDLENBQUM7WUFDakUsTUFBTSxDQUFDLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsOENBQThDLEVBQUUsR0FBRyxFQUFFO1lBQ3RELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7WUFFM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywyQ0FBMkMsRUFBRSxHQUFHLEVBQUU7WUFDbkQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUUzRCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssU0FBUyxDQUFDLENBQUM7WUFDakUsTUFBTSxDQUFDLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsMkNBQTJDLEVBQUUsR0FBRyxFQUFFO1lBQ25ELE1BQU0sT0FBTyxHQUFHO2dCQUNkLEtBQUssRUFBRSxjQUFjO2dCQUNyQixJQUFJLEVBQUUsV0FBb0I7Z0JBQzFCLFNBQVMsRUFBRSxLQUFLO2dCQUNoQixhQUFhLEVBQUUsS0FBSztnQkFDcEIsS0FBSyxFQUFFLEVBQUU7YUFDVixDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFFdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyxDQUFDO1lBQ2pFLE1BQU0sQ0FBQyxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzdDLE1BQU0sQ0FBQyxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1FBQ2hDLEVBQUUsQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7WUFDM0MsTUFBTSxNQUFNLEdBQUc7Z0RBQ1IsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJO2dEQUM1RCxnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEtBQUs7Z0RBQzVELGdCQUFnQixLQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSTthQUNsRSxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRWQsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFFaEQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QyxNQUFNLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGtEQUFrRCxFQUFFLEdBQUcsRUFBRTtZQUMxRCxNQUFNLE1BQU0sR0FBRztnREFDUixnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEtBQUs7Z0RBQzVELGdCQUFnQixLQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsS0FBSzthQUNsRSxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRWQsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFFaEQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7WUFDL0MsTUFBTSxNQUFNLEdBQUc7Z0RBQ1IsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJO2dEQUMxRCxnQkFBZ0IsS0FBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUk7Z0RBQzFELGdCQUFnQixLQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSTthQUNoRSxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRWQsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFFaEQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDbEYsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO1FBQzdCLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsTUFBTSxNQUFNLEdBQUc7Z0RBQ1IsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztnREFDekMsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQztnREFDekMsZ0JBQWdCLEtBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQzthQUMvQyxDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNO2dCQUNOLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFFBQVEsRUFBRSxFQUFFO2FBQ2IsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRWQsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUVuQyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNqRixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDMUIsU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFZCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQzlCLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFFOUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtRQUNsQyxJQUFJLE1BQW1CLENBQUM7UUFFeEIsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLE1BQU0sR0FBRyx5QkFBVyxDQUFDLE1BQU0sQ0FBQztnQkFDMUIsRUFBRSxFQUFFLE9BQU87Z0JBQ1gsV0FBVyxFQUFFLFNBQVM7Z0JBQ3RCLE1BQU0sRUFBRSxDQUFDLGdCQUFnQixDQUFDO2dCQUMxQixTQUFTLEVBQUUsS0FBSztnQkFDaEIsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsK0JBQStCLEVBQUUsR0FBRyxFQUFFO1lBQ3ZDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXJDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUVoQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7WUFDdkMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRXBDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUVqQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUVoQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7WUFDOUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2hCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFakIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7UUFDaEMsSUFBSSxNQUFtQixDQUFDO1FBRXhCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQzFCLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQztnQkFDMUIsU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsMEJBQTBCLEVBQUUsR0FBRyxFQUFFO1lBQ2xDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7WUFDeEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO1lBQzdDLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0NBQW9DLEVBQUUsR0FBRyxFQUFFO1FBQ2xELEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7WUFDckMsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNLEVBQUUsRUFBRTtnQkFDVixTQUFTLEVBQUUsSUFBSTtnQkFDZixRQUFRLEVBQUUsQ0FBQzthQUNaLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLEdBQUcsRUFBRTtZQUM3QyxNQUFNLHNCQUFzQixHQUFzQjtnQkFDaEQsRUFBRSxFQUFFLGdCQUFnQjtnQkFDcEIsSUFBSSxFQUFFLE9BQU87Z0JBQ2IsS0FBSyxFQUFFLHNCQUFzQjtnQkFDN0IsS0FBSyxFQUFFLENBQUMsQ0FBQztnQkFDVCxNQUFNLEVBQUUsRUFBRTtnQkFDVixTQUFTLEVBQUUsSUFBSTthQUNoQixDQUFDO1lBRUYsTUFBTSxNQUFNLEdBQUcseUJBQVcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLEVBQUUsRUFBRSxPQUFPO2dCQUNYLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixNQUFNLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQztnQkFDaEMsU0FBUyxFQUFFLElBQUk7Z0JBQ2YsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxrREFBa0QsRUFBRSxHQUFHLEVBQUU7WUFDMUQsTUFBTSxZQUFZLEdBQXNCO2dCQUN0QyxFQUFFLEVBQUUsZUFBZTtnQkFDbkIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsS0FBSyxFQUFFLGVBQWU7Z0JBQ3RCLEtBQUssRUFBRSxDQUFDO2dCQUNSLE1BQU0sRUFBRTtvQkFDTixNQUFNLEVBQUU7d0JBQ04sUUFBUSxFQUFFLE9BQU87d0JBQ2pCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dCQUNoQixPQUFPLEVBQUUsSUFBSTtxQkFDZDtvQkFDRCxLQUFLLEVBQUUsOEJBQThCO29CQUNyQyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDO2lCQUNoQztnQkFDRCxTQUFTLEVBQUUsSUFBSTtnQkFDZixhQUFhLEVBQUUsSUFBSTtnQkFDbkIsV0FBVyxFQUFFLEtBQUs7YUFDbkIsQ0FBQztZQUVGLE1BQU0sTUFBTSxHQUFHLHlCQUFXLENBQUMsTUFBTSxDQUFDO2dCQUNoQyxFQUFFLEVBQUUsT0FBTztnQkFDWCxXQUFXLEVBQUUsU0FBUztnQkFDdEIsTUFBTSxFQUFFLENBQUMsWUFBWSxDQUFDO2dCQUN0QixTQUFTLEVBQUUsSUFBSTtnQkFDZixRQUFRLEVBQUUsRUFBRTthQUNiLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2l0ZWxldi9Eb2N1bWVudHMvZXhvY29ydGV4LW9ic2lkaWFuLXBsdWdpbi90ZXN0cy91bml0L2RvbWFpbi9lbnRpdGllcy9DbGFzc0xheW91dC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsYXNzTGF5b3V0LCBMYXlvdXRCbG9ja0NvbmZpZyB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9kb21haW4vZW50aXRpZXMvQ2xhc3NMYXlvdXQnO1xuaW1wb3J0IHsgQXNzZXRJZCB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9kb21haW4vdmFsdWUtb2JqZWN0cy9Bc3NldElkJztcbmltcG9ydCB7IENsYXNzTmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NyYy9kb21haW4vdmFsdWUtb2JqZWN0cy9DbGFzc05hbWUnO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2RvbWFpbi9jb3JlL1Jlc3VsdCc7XG5cbmRlc2NyaWJlKCdDbGFzc0xheW91dCcsICgpID0+IHtcbiAgbGV0IGFzc2V0SWQ6IEFzc2V0SWQ7XG4gIGxldCBjbGFzc05hbWU6IENsYXNzTmFtZTtcbiAgbGV0IHZhbGlkQmxvY2tDb25maWc6IExheW91dEJsb2NrQ29uZmlnO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGFzc2V0SWQgPSBBc3NldElkLmdlbmVyYXRlKCk7XG4gICAgY2xhc3NOYW1lID0gQ2xhc3NOYW1lLmNyZWF0ZSgnVGVzdENsYXNzJykuZ2V0VmFsdWUoKTtcbiAgICB2YWxpZEJsb2NrQ29uZmlnID0ge1xuICAgICAgaWQ6ICd0ZXN0LWJsb2NrLTEnLFxuICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgIHRpdGxlOiAnVGVzdCBCbG9jaycsXG4gICAgICBvcmRlcjogMSxcbiAgICAgIGNvbmZpZzogeyBxdWVyeTogJ1NFTEVDVCAqIFdIRVJFIHsgP3MgP3AgP28gfScgfSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgIGlzQ29sbGFwc2libGU6IHRydWUsXG4gICAgICBpc0NvbGxhcHNlZDogZmFsc2VcbiAgICB9O1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JlYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIENsYXNzTGF5b3V0IHdpdGggdmFsaWQgcHJvcGVydGllcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3M6IFt2YWxpZEJsb2NrQ29uZmlnXSxcbiAgICAgICAgaXNFbmFibGVkOiB0cnVlLFxuICAgICAgICBwcmlvcml0eTogNTBcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IGxheW91dCA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KGxheW91dC5pZCkudG9CZShhc3NldElkKTtcbiAgICAgIGV4cGVjdChsYXlvdXQudGFyZ2V0Q2xhc3MpLnRvQmUoY2xhc3NOYW1lKTtcbiAgICAgIGV4cGVjdChsYXlvdXQuYmxvY2tzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QobGF5b3V0LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChsYXlvdXQucHJpb3JpdHkpLnRvQmUoNTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIHdoZW4gdGFyZ2V0IGNsYXNzIGlzIG51bGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IG51bGwgYXMgYW55LFxuICAgICAgICBibG9ja3M6IFtdLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnVGFyZ2V0IGNsYXNzIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiB0YXJnZXQgY2xhc3MgaXMgdW5kZWZpbmVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiB1bmRlZmluZWQgYXMgYW55LFxuICAgICAgICBibG9ja3M6IFtdLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnVGFyZ2V0IGNsYXNzIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiBleGNlZWRpbmcgbWF4aW11bSBibG9jayBsaW1pdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIxIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICAuLi52YWxpZEJsb2NrQ29uZmlnLFxuICAgICAgICBpZDogYGJsb2NrLSR7aX1gLFxuICAgICAgICBvcmRlcjogaVxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQ2Fubm90IGhhdmUgbW9yZSB0aGFuIDIwIGJsb2NrcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhY2NlcHQgbWF4aW11bSBhbGxvd2VkIGJsb2NrcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICAuLi52YWxpZEJsb2NrQ29uZmlnLFxuICAgICAgICBpZDogYGJsb2NrLSR7aX1gLFxuICAgICAgICBvcmRlcjogaVxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nZXRWYWx1ZSgpLmJsb2NrcykudG9IYXZlTGVuZ3RoKDIwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB3aGVuIGJsb2NrcyBoYXZlIGR1cGxpY2F0ZSBvcmRlciB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja3MgPSBbXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdibG9jay0xJywgb3JkZXI6IDEgfSxcbiAgICAgICAgeyAuLi52YWxpZEJsb2NrQ29uZmlnLCBpZDogJ2Jsb2NrLTInLCBvcmRlcjogMSB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQmxvY2tzIGNhbm5vdCBoYXZlIGR1cGxpY2F0ZSBvcmRlciB2YWx1ZXMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIHdpdGggZW1wdHkgYmxvY2tzIGFycmF5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIGJsb2NrczogW10sXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmdldFZhbHVlKCkuYmxvY2tzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSB3aXRoIGRpc2FibGVkIGxheW91dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3M6IFt2YWxpZEJsb2NrQ29uZmlnXSxcbiAgICAgICAgaXNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcHJpb3JpdHk6IDBcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IGxheW91dCA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KGxheW91dC5pc0VuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGxheW91dC5wcmlvcml0eSkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FkZEJsb2NrJywgKCkgPT4ge1xuICAgIGxldCBsYXlvdXQ6IENsYXNzTGF5b3V0O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBsYXlvdXQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzOiBbdmFsaWRCbG9ja0NvbmZpZ10sXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KS5nZXRWYWx1ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhZGQgdmFsaWQgYmxvY2sgc3VjY2Vzc2Z1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV3QmxvY2s6IExheW91dEJsb2NrQ29uZmlnID0ge1xuICAgICAgICBpZDogJ25ldy1ibG9jaycsXG4gICAgICAgIHR5cGU6ICdwcm9wZXJ0aWVzJyxcbiAgICAgICAgdGl0bGU6ICdQcm9wZXJ0aWVzIEJsb2NrJyxcbiAgICAgICAgb3JkZXI6IDIsXG4gICAgICAgIGNvbmZpZzoge30sXG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gbGF5b3V0LmFkZEJsb2NrKG5ld0Jsb2NrKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobGF5b3V0LmJsb2NrcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGxheW91dC5ibG9ja3MuZmluZChiID0+IGIuaWQgPT09ICduZXctYmxvY2snKSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB3aGVuIGFkZGluZyBibG9jayB3aXRoIGR1cGxpY2F0ZSBJRCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cGxpY2F0ZUJsb2NrOiBMYXlvdXRCbG9ja0NvbmZpZyA9IHtcbiAgICAgICAgLi4udmFsaWRCbG9ja0NvbmZpZyxcbiAgICAgICAgb3JkZXI6IDJcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC5hZGRCbG9jayhkdXBsaWNhdGVCbG9jayk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQmxvY2sgd2l0aCB0aGlzIElEIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiBhZGRpbmcgYmxvY2sgd2l0aCBkdXBsaWNhdGUgb3JkZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBkdXBsaWNhdGVPcmRlckJsb2NrOiBMYXlvdXRCbG9ja0NvbmZpZyA9IHtcbiAgICAgICAgaWQ6ICduZXctYmxvY2snLFxuICAgICAgICB0eXBlOiAncmVsYXRpb25zJyxcbiAgICAgICAgdGl0bGU6ICdSZWxhdGlvbnMgQmxvY2snLFxuICAgICAgICBvcmRlcjogMSxcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBsYXlvdXQuYWRkQmxvY2soZHVwbGljYXRlT3JkZXJCbG9jayk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQmxvY2sgd2l0aCBvcmRlciAxIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiBhdCBtYXhpbXVtIGJsb2NrIGNhcGFjaXR5JywgKCkgPT4ge1xuICAgICAgLy8gQWRkIDE5IG1vcmUgYmxvY2tzIHRvIHJlYWNoIHRoZSBsaW1pdFxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gMjA7IGkrKykge1xuICAgICAgICBjb25zdCBibG9jazogTGF5b3V0QmxvY2tDb25maWcgPSB7XG4gICAgICAgICAgaWQ6IGBibG9jay0ke2l9YCxcbiAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICB0aXRsZTogYEJsb2NrICR7aX1gLFxuICAgICAgICAgIG9yZGVyOiBpLFxuICAgICAgICAgIGNvbmZpZzoge30sXG4gICAgICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGxheW91dC5hZGRCbG9jayhibG9jayk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld0Jsb2NrOiBMYXlvdXRCbG9ja0NvbmZpZyA9IHtcbiAgICAgICAgaWQ6ICdvdmVyZmxvdy1ibG9jaycsXG4gICAgICAgIHR5cGU6ICdiYWNrbGlua3MnLFxuICAgICAgICB0aXRsZTogJ092ZXJmbG93IEJsb2NrJyxcbiAgICAgICAgb3JkZXI6IDIxLFxuICAgICAgICBjb25maWc6IHt9LFxuICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC5hZGRCbG9jayhuZXdCbG9jayk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQ2Fubm90IGFkZCBtb3JlIGJsb2Nrcy4gTWF4aW11bSBvZiAyMCByZWFjaGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFkZCBibG9ja3Mgb2YgYWxsIHN1cHBvcnRlZCB0eXBlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrVHlwZXM6IExheW91dEJsb2NrQ29uZmlnWyd0eXBlJ11bXSA9IFsncXVlcnknLCAncHJvcGVydGllcycsICdyZWxhdGlvbnMnLCAnYmFja2xpbmtzJywgJ2N1c3RvbSddO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2NrVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmxvY2s6IExheW91dEJsb2NrQ29uZmlnID0ge1xuICAgICAgICAgIGlkOiBgYmxvY2stJHtibG9ja1R5cGVzW2ldfWAsXG4gICAgICAgICAgdHlwZTogYmxvY2tUeXBlc1tpXSxcbiAgICAgICAgICB0aXRsZTogYCR7YmxvY2tUeXBlc1tpXX0gQmxvY2tgLFxuICAgICAgICAgIG9yZGVyOiBpICsgMTAsXG4gICAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBsYXlvdXQuYWRkQmxvY2soYmxvY2spO1xuICAgICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KGxheW91dC5ibG9ja3MpLnRvSGF2ZUxlbmd0aCg2KTsgLy8gb3JpZ2luYWwgKyA1IG5ld1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVtb3ZlQmxvY2snLCAoKSA9PiB7XG4gICAgbGV0IGxheW91dDogQ2xhc3NMYXlvdXQ7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGNvbnN0IGJsb2NrcyA9IFtcbiAgICAgICAgeyAuLi52YWxpZEJsb2NrQ29uZmlnLCBpZDogJ2Jsb2NrLTEnLCBvcmRlcjogMSB9LFxuICAgICAgICB7IC4uLnZhbGlkQmxvY2tDb25maWcsIGlkOiAnYmxvY2stMicsIG9yZGVyOiAyIH0sXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdibG9jay0zJywgb3JkZXI6IDMgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgbGF5b3V0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIGJsb2NrcyxcbiAgICAgICAgaXNFbmFibGVkOiB0cnVlLFxuICAgICAgICBwcmlvcml0eTogNTBcbiAgICAgIH0pLmdldFZhbHVlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBleGlzdGluZyBibG9jayBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBsYXlvdXQucmVtb3ZlQmxvY2soJ2Jsb2NrLTInKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobGF5b3V0LmJsb2NrcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGxheW91dC5ibG9ja3MuZmluZChiID0+IGIuaWQgPT09ICdibG9jay0yJykpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB3aGVuIHJlbW92aW5nIG5vbi1leGlzdGVudCBibG9jaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC5yZW1vdmVCbG9jaygnbm9uLWV4aXN0ZW50Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQmxvY2sgbm90IGZvdW5kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBmaXJzdCBibG9jaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC5yZW1vdmVCbG9jaygnYmxvY2stMScpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChsYXlvdXQuYmxvY2tzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QobGF5b3V0LmJsb2Nrc1swXS5pZCkudG9CZSgnYmxvY2stMicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW1vdmUgbGFzdCBibG9jaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC5yZW1vdmVCbG9jaygnYmxvY2stMycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChsYXlvdXQuYmxvY2tzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QobGF5b3V0LmJsb2Nrcy5maW5kKGIgPT4gYi5pZCA9PT0gJ2Jsb2NrLTMnKSkudG9CZVVuZGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc3RyaW5nIGJsb2NrIElEJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gbGF5b3V0LnJlbW92ZUJsb2NrKCcnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc0ZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdCbG9jayBub3QgZm91bmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZUJsb2NrJywgKCkgPT4ge1xuICAgIGxldCBsYXlvdXQ6IENsYXNzTGF5b3V0O1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja3MgPSBbXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdibG9jay0xJywgb3JkZXI6IDEgfSxcbiAgICAgICAgeyAuLi52YWxpZEJsb2NrQ29uZmlnLCBpZDogJ2Jsb2NrLTInLCBvcmRlcjogMiB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICBsYXlvdXQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSkuZ2V0VmFsdWUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGJsb2NrIHByb3BlcnRpZXMgc3VjY2Vzc2Z1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlcyA9IHtcbiAgICAgICAgdGl0bGU6ICdVcGRhdGVkIFRpdGxlJyxcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlnOiB7IG5ld1Byb3BlcnR5OiAnbmV3VmFsdWUnIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC51cGRhdGVCbG9jaygnYmxvY2stMScsIHVwZGF0ZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRCbG9jayA9IGxheW91dC5ibG9ja3MuZmluZChiID0+IGIuaWQgPT09ICdibG9jay0xJyk7XG4gICAgICBleHBlY3QodXBkYXRlZEJsb2NrPy50aXRsZSkudG9CZSgnVXBkYXRlZCBUaXRsZScpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8uaXNWaXNpYmxlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkQmxvY2s/LmNvbmZpZy5uZXdQcm9wZXJ0eSkudG9CZSgnbmV3VmFsdWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCB3aGVuIHVwZGF0aW5nIG5vbi1leGlzdGVudCBibG9jaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGxheW91dC51cGRhdGVCbG9jaygnbm9uLWV4aXN0ZW50JywgeyB0aXRsZTogJ05ldyBUaXRsZScgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQmxvY2sgbm90IGZvdW5kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBibG9jayBvcmRlciB3aGVuIHZhbGlkJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gbGF5b3V0LnVwZGF0ZUJsb2NrKCdibG9jay0xJywgeyBvcmRlcjogNSB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSBsYXlvdXQuYmxvY2tzLmZpbmQoYiA9PiBiLmlkID09PSAnYmxvY2stMScpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8ub3JkZXIpLnRvQmUoNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgd2hlbiB1cGRhdGluZyB0byBkdXBsaWNhdGUgb3JkZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBsYXlvdXQudXBkYXRlQmxvY2soJ2Jsb2NrLTEnLCB7IG9yZGVyOiAyIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzRmFpbHVyZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ0Jsb2NrIHdpdGggb3JkZXIgMiBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyB1cGRhdGluZyBvcmRlciB0byBzYW1lIHZhbHVlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gbGF5b3V0LnVwZGF0ZUJsb2NrKCdibG9jay0xJywgeyBvcmRlcjogMSB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSBsYXlvdXQuYmxvY2tzLmZpbmQoYiA9PiBiLmlkID09PSAnYmxvY2stMScpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8ub3JkZXIpLnRvQmUoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIGF0IG9uY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVzID0ge1xuICAgICAgICB0aXRsZTogJ011bHRpIFVwZGF0ZScsXG4gICAgICAgIHR5cGU6ICdyZWxhdGlvbnMnIGFzIGNvbnN0LFxuICAgICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgICAgICBpc0NvbGxhcHNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXI6IDEwXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBsYXlvdXQudXBkYXRlQmxvY2soJ2Jsb2NrLTInLCB1cGRhdGVzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCB1cGRhdGVkQmxvY2sgPSBsYXlvdXQuYmxvY2tzLmZpbmQoYiA9PiBiLmlkID09PSAnYmxvY2stMicpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8udGl0bGUpLnRvQmUoJ011bHRpIFVwZGF0ZScpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8udHlwZSkudG9CZSgncmVsYXRpb25zJyk7XG4gICAgICBleHBlY3QodXBkYXRlZEJsb2NrPy5pc1Zpc2libGUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHVwZGF0ZWRCbG9jaz8uaXNDb2xsYXBzaWJsZSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodXBkYXRlZEJsb2NrPy5vcmRlcikudG9CZSgxMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRWaXNpYmxlQmxvY2tzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIG9ubHkgdmlzaWJsZSBibG9ja3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja3MgPSBbXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICd2aXNpYmxlLTEnLCBvcmRlcjogMSwgaXNWaXNpYmxlOiB0cnVlIH0sXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdoaWRkZW4tMScsIG9yZGVyOiAyLCBpc1Zpc2libGU6IGZhbHNlIH0sXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICd2aXNpYmxlLTInLCBvcmRlcjogMywgaXNWaXNpYmxlOiB0cnVlIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IGxheW91dCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3MsXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KS5nZXRWYWx1ZSgpO1xuXG4gICAgICBjb25zdCB2aXNpYmxlQmxvY2tzID0gbGF5b3V0LmdldFZpc2libGVCbG9ja3MoKTtcblxuICAgICAgZXhwZWN0KHZpc2libGVCbG9ja3MpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdCh2aXNpYmxlQmxvY2tzLm1hcChiID0+IGIuaWQpKS50b0VxdWFsKFsndmlzaWJsZS0xJywgJ3Zpc2libGUtMiddKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gbm8gdmlzaWJsZSBibG9ja3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja3MgPSBbXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdoaWRkZW4tMScsIG9yZGVyOiAxLCBpc1Zpc2libGU6IGZhbHNlIH0sXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdoaWRkZW4tMicsIG9yZGVyOiAyLCBpc1Zpc2libGU6IGZhbHNlIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IGxheW91dCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3MsXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KS5nZXRWYWx1ZSgpO1xuXG4gICAgICBjb25zdCB2aXNpYmxlQmxvY2tzID0gbGF5b3V0LmdldFZpc2libGVCbG9ja3MoKTtcblxuICAgICAgZXhwZWN0KHZpc2libGVCbG9ja3MpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJsb2NrcyBpbiBjb3JyZWN0IG9yZGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgYmxvY2tzID0gW1xuICAgICAgICB7IC4uLnZhbGlkQmxvY2tDb25maWcsIGlkOiAnYmxvY2stMycsIG9yZGVyOiAzLCBpc1Zpc2libGU6IHRydWUgfSxcbiAgICAgICAgeyAuLi52YWxpZEJsb2NrQ29uZmlnLCBpZDogJ2Jsb2NrLTEnLCBvcmRlcjogMSwgaXNWaXNpYmxlOiB0cnVlIH0sXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdibG9jay0yJywgb3JkZXI6IDIsIGlzVmlzaWJsZTogdHJ1ZSB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCBsYXlvdXQgPSBDbGFzc0xheW91dC5jcmVhdGUoe1xuICAgICAgICBpZDogYXNzZXRJZCxcbiAgICAgICAgdGFyZ2V0Q2xhc3M6IGNsYXNzTmFtZSxcbiAgICAgICAgYmxvY2tzLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSkuZ2V0VmFsdWUoKTtcblxuICAgICAgY29uc3QgdmlzaWJsZUJsb2NrcyA9IGxheW91dC5nZXRWaXNpYmxlQmxvY2tzKCk7XG5cbiAgICAgIGV4cGVjdCh2aXNpYmxlQmxvY2tzLm1hcChiID0+IGIuaWQpKS50b0VxdWFsKFsnYmxvY2stMScsICdibG9jay0yJywgJ2Jsb2NrLTMnXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdibG9ja3MgZ2V0dGVyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJsb2NrcyBzb3J0ZWQgYnkgb3JkZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja3MgPSBbXG4gICAgICAgIHsgLi4udmFsaWRCbG9ja0NvbmZpZywgaWQ6ICdibG9jay01Jywgb3JkZXI6IDUgfSxcbiAgICAgICAgeyAuLi52YWxpZEJsb2NrQ29uZmlnLCBpZDogJ2Jsb2NrLTEnLCBvcmRlcjogMSB9LFxuICAgICAgICB7IC4uLnZhbGlkQmxvY2tDb25maWcsIGlkOiAnYmxvY2stMycsIG9yZGVyOiAzIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IGxheW91dCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3MsXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KS5nZXRWYWx1ZSgpO1xuXG4gICAgICBjb25zdCBzb3J0ZWRCbG9ja3MgPSBsYXlvdXQuYmxvY2tzO1xuXG4gICAgICBleHBlY3Qoc29ydGVkQmxvY2tzLm1hcChiID0+IGIuaWQpKS50b0VxdWFsKFsnYmxvY2stMScsICdibG9jay0zJywgJ2Jsb2NrLTUnXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBhIGNvcHkgb2YgYmxvY2tzIGFycmF5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIGJsb2NrczogW3ZhbGlkQmxvY2tDb25maWddLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSkuZ2V0VmFsdWUoKTtcblxuICAgICAgY29uc3QgYmxvY2tzMSA9IGxheW91dC5ibG9ja3M7XG4gICAgICBjb25zdCBibG9ja3MyID0gbGF5b3V0LmJsb2NrcztcblxuICAgICAgZXhwZWN0KGJsb2NrczEpLm5vdC50b0JlKGJsb2NrczIpO1xuICAgICAgZXhwZWN0KGJsb2NrczEpLnRvRXF1YWwoYmxvY2tzMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdlbmFibGUgYW5kIGRpc2FibGUnLCAoKSA9PiB7XG4gICAgbGV0IGxheW91dDogQ2xhc3NMYXlvdXQ7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGxheW91dCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3M6IFt2YWxpZEJsb2NrQ29uZmlnXSxcbiAgICAgICAgaXNFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KS5nZXRWYWx1ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbmFibGUgZGlzYWJsZWQgbGF5b3V0JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxheW91dC5pc0VuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgXG4gICAgICBsYXlvdXQuZW5hYmxlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChsYXlvdXQuaXNFbmFibGVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIGVuYWJsZWQgbGF5b3V0JywgKCkgPT4ge1xuICAgICAgbGF5b3V0LmVuYWJsZSgpO1xuICAgICAgZXhwZWN0KGxheW91dC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIGxheW91dC5kaXNhYmxlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChsYXlvdXQuaXNFbmFibGVkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGVuYWJsZSBjYWxscycsICgpID0+IHtcbiAgICAgIGxheW91dC5lbmFibGUoKTtcbiAgICAgIGxheW91dC5lbmFibGUoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGxheW91dC5pc0VuYWJsZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBkaXNhYmxlIGNhbGxzJywgKCkgPT4ge1xuICAgICAgbGF5b3V0LmVuYWJsZSgpO1xuICAgICAgbGF5b3V0LmRpc2FibGUoKTtcbiAgICAgIGxheW91dC5kaXNhYmxlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChsYXlvdXQuaXNFbmFibGVkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3Byb3BlcnR5IGdldHRlcnMnLCAoKSA9PiB7XG4gICAgbGV0IGxheW91dDogQ2xhc3NMYXlvdXQ7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGxheW91dCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3M6IFt2YWxpZEJsb2NrQ29uZmlnXSxcbiAgICAgICAgaXNFbmFibGVkOiB0cnVlLFxuICAgICAgICBwcmlvcml0eTogNzVcbiAgICAgIH0pLmdldFZhbHVlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IGlkJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxheW91dC5pZCkudG9CZShhc3NldElkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3QgdGFyZ2V0Q2xhc3MnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobGF5b3V0LnRhcmdldENsYXNzKS50b0JlKGNsYXNzTmFtZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IHByaW9yaXR5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxheW91dC5wcmlvcml0eSkudG9CZSg3NSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IGVuYWJsZWQgc3RhdGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobGF5b3V0LmlzRW5hYmxlZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2VkZ2UgY2FzZXMgYW5kIGJvdW5kYXJ5IGNvbmRpdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgemVybyBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IENsYXNzTGF5b3V0LmNyZWF0ZSh7XG4gICAgICAgIGlkOiBhc3NldElkLFxuICAgICAgICB0YXJnZXRDbGFzczogY2xhc3NOYW1lLFxuICAgICAgICBibG9ja3M6IFtdLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiAwXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmdldFZhbHVlKCkucHJpb3JpdHkpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZWdhdGl2ZSBvcmRlciB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBibG9ja1dpdGhOZWdhdGl2ZU9yZGVyOiBMYXlvdXRCbG9ja0NvbmZpZyA9IHtcbiAgICAgICAgaWQ6ICduZWdhdGl2ZS1vcmRlcicsXG4gICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgIHRpdGxlOiAnTmVnYXRpdmUgT3JkZXIgQmxvY2snLFxuICAgICAgICBvcmRlcjogLTEsXG4gICAgICAgIGNvbmZpZzoge30sXG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIGJsb2NrczogW2Jsb2NrV2l0aE5lZ2F0aXZlT3JkZXJdLFxuICAgICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICAgIHByaW9yaXR5OiA1MFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nZXRWYWx1ZSgpLmJsb2Nrc1swXS5vcmRlcikudG9CZSgtMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBibG9ja3Mgd2l0aCBjb21wbGV4IGNvbmZpZyBvYmplY3RzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29tcGxleEJsb2NrOiBMYXlvdXRCbG9ja0NvbmZpZyA9IHtcbiAgICAgICAgaWQ6ICdjb21wbGV4LWJsb2NrJyxcbiAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgIHRpdGxlOiAnQ29tcGxleCBCbG9jaycsXG4gICAgICAgIG9yZGVyOiAxLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIHByb3BlcnR5OiAndmFsdWUnLFxuICAgICAgICAgICAgYXJyYXk6IFsxLCAyLCAzXSxcbiAgICAgICAgICAgIGJvb2xlYW46IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHF1ZXJ5OiAnU0VMRUNUID9zIFdIRVJFIHsgP3MgP3AgP28gfScsXG4gICAgICAgICAgZmlsdGVyczogWydmaWx0ZXIxJywgJ2ZpbHRlcjInXVxuICAgICAgICB9LFxuICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICAgIGlzQ29sbGFwc2libGU6IHRydWUsXG4gICAgICAgIGlzQ29sbGFwc2VkOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gQ2xhc3NMYXlvdXQuY3JlYXRlKHtcbiAgICAgICAgaWQ6IGFzc2V0SWQsXG4gICAgICAgIHRhcmdldENsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIGJsb2NrczogW2NvbXBsZXhCbG9ja10sXG4gICAgICAgIGlzRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcHJpb3JpdHk6IDUwXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCBsYXlvdXQgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChsYXlvdXQuYmxvY2tzWzBdLmNvbmZpZykudG9FcXVhbChjb21wbGV4QmxvY2suY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=