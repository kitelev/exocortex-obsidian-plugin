69862d44aca96620dd5e6c8ce3f57788
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Priority = exports.PriorityLevel = void 0;
const Result_1 = require("../core/Result");
var PriorityLevel;
(function (PriorityLevel) {
    PriorityLevel["LOW"] = "low";
    PriorityLevel["MEDIUM"] = "medium";
    PriorityLevel["HIGH"] = "high";
    PriorityLevel["URGENT"] = "urgent";
})(PriorityLevel = exports.PriorityLevel || (exports.PriorityLevel = {}));
/**
 * Value object representing task priority
 * Immutable and self-validating with business rules
 * Follows Clean Architecture principles with comprehensive validation
 */
class Priority {
    constructor(level) {
        this.level = level;
    }
    static create(value) {
        const validationResult = this.validateInput(value);
        if (!validationResult.isSuccess) {
            return Result_1.Result.fail(validationResult.getError());
        }
        const normalizedLevel = this.normalizeValue(value);
        if (!this.isValidLevel(normalizedLevel)) {
            return Result_1.Result.fail(`Priority must be one of: ${Array.from(this.VALID_LEVELS).join(", ")}`);
        }
        return Result_1.Result.ok(this.getOrCreateInstance(normalizedLevel));
    }
    static validateInput(value) {
        if (value === null || value === undefined || value === "") {
            return Result_1.Result.fail("Priority cannot be empty");
        }
        return Result_1.Result.ok(undefined);
    }
    static normalizeValue(value) {
        return typeof value === "string" ? value.toLowerCase().trim() : value;
    }
    static isValidLevel(value) {
        return this.VALID_LEVELS.has(value);
    }
    static getOrCreateInstance(level) {
        if (!this.LEVEL_CACHE.has(level)) {
            this.LEVEL_CACHE.set(level, new Priority(level));
        }
        return this.LEVEL_CACHE.get(level);
    }
    static low() {
        return this.getOrCreateInstance(PriorityLevel.LOW);
    }
    static medium() {
        return this.getOrCreateInstance(PriorityLevel.MEDIUM);
    }
    static high() {
        return this.getOrCreateInstance(PriorityLevel.HIGH);
    }
    static urgent() {
        return this.getOrCreateInstance(PriorityLevel.URGENT);
    }
    static getAllLevels() {
        return Object.values(PriorityLevel);
    }
    getLevel() {
        return this.level;
    }
    toString() {
        return this.level;
    }
    equals(other) {
        return other !== null && other !== undefined && this.level === other.level;
    }
    /**
     * Returns hash code for use in collections
     */
    hashCode() {
        return this.getNumericValue();
    }
    /**
     * Returns numeric value for sorting (higher number = higher priority)
     * Uses cached values for optimal performance
     */
    getNumericValue() {
        return Priority.NUMERIC_VALUES.get(this.level);
    }
    /**
     * Compares priorities for sorting
     * Returns negative if this < other, positive if this > other, 0 if equal
     */
    compare(other) {
        return this.getNumericValue() - other.getNumericValue();
    }
    isHigherThan(other) {
        return this.getNumericValue() > other.getNumericValue();
    }
    isLowerThan(other) {
        return this.getNumericValue() < other.getNumericValue();
    }
}
exports.Priority = Priority;
Priority.VALID_LEVELS = new Set(Object.values(PriorityLevel));
Priority.LEVEL_CACHE = new Map();
Priority.NUMERIC_VALUES = new Map([
    [PriorityLevel.LOW, 1],
    [PriorityLevel.MEDIUM, 2],
    [PriorityLevel.HIGH, 3],
    [PriorityLevel.URGENT, 4],
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vc3JjL2RvbWFpbi92YWx1ZS1vYmplY3RzL1ByaW9yaXR5LnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUF3QztBQUV4QyxJQUFZLGFBS1g7QUFMRCxXQUFZLGFBQWE7SUFDdkIsNEJBQVcsQ0FBQTtJQUNYLGtDQUFpQixDQUFBO0lBQ2pCLDhCQUFhLENBQUE7SUFDYixrQ0FBaUIsQ0FBQTtBQUNuQixDQUFDLEVBTFcsYUFBYSxHQUFiLHFCQUFhLEtBQWIscUJBQWEsUUFLeEI7QUFJRDs7OztHQUlHO0FBQ0gsTUFBYSxRQUFRO0lBWW5CLFlBQW9CLEtBQW9CO1FBQ3RDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQW9CO1FBQ2hDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFO1lBQy9CLE9BQU8sZUFBTSxDQUFDLElBQUksQ0FBVyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1NBQzNEO1FBRUQsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FDekMsS0FBK0IsQ0FDaEMsQ0FBQztRQUNGLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ3ZDLE9BQU8sZUFBTSxDQUFDLElBQUksQ0FDaEIsNEJBQTRCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUN2RSxDQUFDO1NBQ0g7UUFFRCxPQUFPLGVBQU0sQ0FBQyxFQUFFLENBQVcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBb0I7UUFDL0MsSUFBSSxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLEVBQUUsRUFBRTtZQUN6RCxPQUFPLGVBQU0sQ0FBQyxJQUFJLENBQU8sMEJBQTBCLENBQUMsQ0FBQztTQUN0RDtRQUNELE9BQU8sZUFBTSxDQUFDLEVBQUUsQ0FBTyxTQUFTLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUE2QjtRQUN6RCxPQUFPLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBYTtRQUN2QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQXNCLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRU8sTUFBTSxDQUFDLG1CQUFtQixDQUFDLEtBQW9CO1FBQ3JELElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNoQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztTQUNsRDtRQUNELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFFLENBQUM7SUFDdEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFHO1FBQ1IsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTTtRQUNYLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsTUFBTSxDQUFDLElBQUk7UUFDVCxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNO1FBQ1gsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxNQUFNLENBQUMsWUFBWTtRQUNqQixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFrQztRQUN2QyxPQUFPLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDN0UsQ0FBQztJQUVEOztPQUVHO0lBQ0gsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRDs7O09BR0c7SUFDSCxlQUFlO1FBQ2IsT0FBTyxRQUFRLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFFLENBQUM7SUFDbEQsQ0FBQztJQUVEOzs7T0FHRztJQUNILE9BQU8sQ0FBQyxLQUFlO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMxRCxDQUFDO0lBRUQsWUFBWSxDQUFDLEtBQWU7UUFDMUIsT0FBTyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUcsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzFELENBQUM7SUFFRCxXQUFXLENBQUMsS0FBZTtRQUN6QixPQUFPLElBQUksQ0FBQyxlQUFlLEVBQUUsR0FBRyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDMUQsQ0FBQzs7QUFySEgsNEJBc0hDO0FBckh5QixxQkFBWSxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUNyRCxvQkFBVyxHQUFHLElBQUksR0FBRyxFQUEyQixDQUFDO0FBQ2pELHVCQUFjLEdBQUcsSUFBSSxHQUFHLENBQXdCO0lBQ3RFLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDdEIsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUN6QixDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7Q0FDMUIsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9raXRlbGV2L0RvY3VtZW50cy9leG9jb3J0ZXgtb2JzaWRpYW4tcGx1Z2luL3NyYy9kb21haW4vdmFsdWUtb2JqZWN0cy9Qcmlvcml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiLi4vY29yZS9SZXN1bHRcIjtcblxuZXhwb3J0IGVudW0gUHJpb3JpdHlMZXZlbCB7XG4gIExPVyA9IFwibG93XCIsXG4gIE1FRElVTSA9IFwibWVkaXVtXCIsXG4gIEhJR0ggPSBcImhpZ2hcIixcbiAgVVJHRU5UID0gXCJ1cmdlbnRcIixcbn1cblxudHlwZSBQcmlvcml0eUlucHV0ID0gc3RyaW5nIHwgUHJpb3JpdHlMZXZlbCB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbi8qKlxuICogVmFsdWUgb2JqZWN0IHJlcHJlc2VudGluZyB0YXNrIHByaW9yaXR5XG4gKiBJbW11dGFibGUgYW5kIHNlbGYtdmFsaWRhdGluZyB3aXRoIGJ1c2luZXNzIHJ1bGVzXG4gKiBGb2xsb3dzIENsZWFuIEFyY2hpdGVjdHVyZSBwcmluY2lwbGVzIHdpdGggY29tcHJlaGVuc2l2ZSB2YWxpZGF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmlvcml0eSB7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFZBTElEX0xFVkVMUyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhQcmlvcml0eUxldmVsKSk7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IExFVkVMX0NBQ0hFID0gbmV3IE1hcDxQcmlvcml0eUxldmVsLCBQcmlvcml0eT4oKTtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTlVNRVJJQ19WQUxVRVMgPSBuZXcgTWFwPFByaW9yaXR5TGV2ZWwsIG51bWJlcj4oW1xuICAgIFtQcmlvcml0eUxldmVsLkxPVywgMV0sXG4gICAgW1ByaW9yaXR5TGV2ZWwuTUVESVVNLCAyXSxcbiAgICBbUHJpb3JpdHlMZXZlbC5ISUdILCAzXSxcbiAgICBbUHJpb3JpdHlMZXZlbC5VUkdFTlQsIDRdLFxuICBdKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGxldmVsOiBQcmlvcml0eUxldmVsO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IobGV2ZWw6IFByaW9yaXR5TGV2ZWwpIHtcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHZhbHVlOiBQcmlvcml0eUlucHV0KTogUmVzdWx0PFByaW9yaXR5PiB7XG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHRoaXMudmFsaWRhdGVJbnB1dCh2YWx1ZSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LmlzU3VjY2Vzcykge1xuICAgICAgcmV0dXJuIFJlc3VsdC5mYWlsPFByaW9yaXR5Pih2YWxpZGF0aW9uUmVzdWx0LmdldEVycm9yKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWRMZXZlbCA9IHRoaXMubm9ybWFsaXplVmFsdWUoXG4gICAgICB2YWx1ZSBhcyBzdHJpbmcgfCBQcmlvcml0eUxldmVsLFxuICAgICk7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWRMZXZlbChub3JtYWxpemVkTGV2ZWwpKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmZhaWw8UHJpb3JpdHk+KFxuICAgICAgICBgUHJpb3JpdHkgbXVzdCBiZSBvbmUgb2Y6ICR7QXJyYXkuZnJvbSh0aGlzLlZBTElEX0xFVkVMUykuam9pbihcIiwgXCIpfWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBSZXN1bHQub2s8UHJpb3JpdHk+KHRoaXMuZ2V0T3JDcmVhdGVJbnN0YW5jZShub3JtYWxpemVkTGV2ZWwpKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHZhbGlkYXRlSW5wdXQodmFsdWU6IFByaW9yaXR5SW5wdXQpOiBSZXN1bHQ8dm9pZD4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gUmVzdWx0LmZhaWw8dm9pZD4oXCJQcmlvcml0eSBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgfVxuICAgIHJldHVybiBSZXN1bHQub2s8dm9pZD4odW5kZWZpbmVkKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG5vcm1hbGl6ZVZhbHVlKHZhbHVlOiBzdHJpbmcgfCBQcmlvcml0eUxldmVsKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGlzVmFsaWRMZXZlbCh2YWx1ZTogc3RyaW5nKTogdmFsdWUgaXMgUHJpb3JpdHlMZXZlbCB7XG4gICAgcmV0dXJuIHRoaXMuVkFMSURfTEVWRUxTLmhhcyh2YWx1ZSBhcyBQcmlvcml0eUxldmVsKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UobGV2ZWw6IFByaW9yaXR5TGV2ZWwpOiBQcmlvcml0eSB7XG4gICAgaWYgKCF0aGlzLkxFVkVMX0NBQ0hFLmhhcyhsZXZlbCkpIHtcbiAgICAgIHRoaXMuTEVWRUxfQ0FDSEUuc2V0KGxldmVsLCBuZXcgUHJpb3JpdHkobGV2ZWwpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuTEVWRUxfQ0FDSEUuZ2V0KGxldmVsKSE7XG4gIH1cblxuICBzdGF0aWMgbG93KCk6IFByaW9yaXR5IHtcbiAgICByZXR1cm4gdGhpcy5nZXRPckNyZWF0ZUluc3RhbmNlKFByaW9yaXR5TGV2ZWwuTE9XKTtcbiAgfVxuXG4gIHN0YXRpYyBtZWRpdW0oKTogUHJpb3JpdHkge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlSW5zdGFuY2UoUHJpb3JpdHlMZXZlbC5NRURJVU0pO1xuICB9XG5cbiAgc3RhdGljIGhpZ2goKTogUHJpb3JpdHkge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlSW5zdGFuY2UoUHJpb3JpdHlMZXZlbC5ISUdIKTtcbiAgfVxuXG4gIHN0YXRpYyB1cmdlbnQoKTogUHJpb3JpdHkge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlSW5zdGFuY2UoUHJpb3JpdHlMZXZlbC5VUkdFTlQpO1xuICB9XG5cbiAgc3RhdGljIGdldEFsbExldmVscygpOiByZWFkb25seSBQcmlvcml0eUxldmVsW10ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKFByaW9yaXR5TGV2ZWwpO1xuICB9XG5cbiAgZ2V0TGV2ZWwoKTogUHJpb3JpdHlMZXZlbCB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxldmVsO1xuICB9XG5cbiAgZXF1YWxzKG90aGVyOiBQcmlvcml0eSB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIgIT09IG51bGwgJiYgb3RoZXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmxldmVsID09PSBvdGhlci5sZXZlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGhhc2ggY29kZSBmb3IgdXNlIGluIGNvbGxlY3Rpb25zXG4gICAqL1xuICBoYXNoQ29kZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldE51bWVyaWNWYWx1ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbnVtZXJpYyB2YWx1ZSBmb3Igc29ydGluZyAoaGlnaGVyIG51bWJlciA9IGhpZ2hlciBwcmlvcml0eSlcbiAgICogVXNlcyBjYWNoZWQgdmFsdWVzIGZvciBvcHRpbWFsIHBlcmZvcm1hbmNlXG4gICAqL1xuICBnZXROdW1lcmljVmFsdWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gUHJpb3JpdHkuTlVNRVJJQ19WQUxVRVMuZ2V0KHRoaXMubGV2ZWwpITtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXJlcyBwcmlvcml0aWVzIGZvciBzb3J0aW5nXG4gICAqIFJldHVybnMgbmVnYXRpdmUgaWYgdGhpcyA8IG90aGVyLCBwb3NpdGl2ZSBpZiB0aGlzID4gb3RoZXIsIDAgaWYgZXF1YWxcbiAgICovXG4gIGNvbXBhcmUob3RoZXI6IFByaW9yaXR5KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5nZXROdW1lcmljVmFsdWUoKSAtIG90aGVyLmdldE51bWVyaWNWYWx1ZSgpO1xuICB9XG5cbiAgaXNIaWdoZXJUaGFuKG90aGVyOiBQcmlvcml0eSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmdldE51bWVyaWNWYWx1ZSgpID4gb3RoZXIuZ2V0TnVtZXJpY1ZhbHVlKCk7XG4gIH1cblxuICBpc0xvd2VyVGhhbihvdGhlcjogUHJpb3JpdHkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXROdW1lcmljVmFsdWUoKSA8IG90aGVyLmdldE51bWVyaWNWYWx1ZSgpO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=