b2967befff9e46b7bc7090b96f1642c3
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const ExecuteQueryBlockUseCase_1 = require("../../../../src/application/use-cases/ExecuteQueryBlockUseCase");
// Mock Obsidian components
const mockFiles = [];
const mockVault = {
    getFiles: jest.fn().mockReturnValue(mockFiles),
    getMarkdownFiles: jest.fn().mockReturnValue(mockFiles.filter(f => f.extension === 'md')),
    getAbstractFileByPath: jest.fn(),
    create: jest.fn(),
    read: jest.fn(),
    modify: jest.fn(),
    delete: jest.fn(),
    exists: jest.fn(),
    on: jest.fn(),
    off: jest.fn(),
    adapter: {}
};
const mockMetadataCache = {
    getFileCache: jest.fn(),
    getBacklinksForFile: jest.fn(),
    getFrontmatterPropertyValue: jest.fn(),
    on: jest.fn(),
    off: jest.fn()
};
const mockApp = {
    vault: mockVault,
    metadataCache: mockMetadataCache,
    workspace: {}
};
describe('ExecuteQueryBlockUseCase', () => {
    let useCase;
    let testFiles;
    beforeEach(() => {
        jest.clearAllMocks();
        useCase = new ExecuteQueryBlockUseCase_1.ExecuteQueryBlockUseCase(mockApp);
        // Create test files
        testFiles = [
            // Project files
            { path: 'project1.md', basename: 'project1', extension: 'md' },
            { path: 'project2.md', basename: 'project2', extension: 'md' },
            { path: 'completed-project.md', basename: 'completed-project', extension: 'md' },
            // Task files
            { path: 'task1.md', basename: 'task1', extension: 'md' },
            { path: 'task2.md', basename: 'task2', extension: 'md' },
            { path: 'high-priority-task.md', basename: 'high-priority-task', extension: 'md' },
            // Note files
            { path: 'note1.md', basename: 'note1', extension: 'md' },
            { path: 'note2.md', basename: 'note2', extension: 'md' },
            // Non-markdown files
            { path: 'image.png', basename: 'image', extension: 'png' },
            { path: 'document.pdf', basename: 'document', extension: 'pdf' }
        ];
        mockVault.getFiles.mockReturnValue(testFiles);
        // Setup metadata cache responses
        mockMetadataCache.getFileCache.mockImplementation((file) => {
            const cacheMap = new Map([
                ['project1.md', {
                        frontmatter: {
                            exo__Instance_class: '[[ems__Project]]',
                            status: 'active',
                            priority: 'high',
                            title: 'Project 1',
                            updatedAt: '2024-01-15T10:00:00Z'
                        }
                    }],
                ['project2.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Project',
                            status: 'active',
                            priority: 'medium',
                            title: 'Project 2',
                            updatedAt: '2024-01-14T10:00:00Z'
                        }
                    }],
                ['completed-project.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Project',
                            status: 'completed',
                            priority: 'low',
                            title: 'Completed Project',
                            updatedAt: '2024-01-10T10:00:00Z'
                        }
                    }],
                ['task1.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Task',
                            status: 'todo',
                            priority: 'medium',
                            project: '[[project1]]',
                            assignee: 'John Doe'
                        }
                    }],
                ['task2.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Task',
                            status: 'done',
                            priority: 'low',
                            project: '[[project2]]',
                            assignee: 'Jane Smith'
                        }
                    }],
                ['high-priority-task.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Task',
                            status: 'in-progress',
                            priority: 'high',
                            project: '[[project1]]',
                            assignee: 'Bob Johnson'
                        }
                    }],
                ['note1.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Note',
                            tags: ['research', 'important'],
                            related_to: ['[[project1]]']
                        }
                    }],
                ['note2.md', {
                        frontmatter: {
                            exo__Instance_class: 'ems__Note',
                            tags: ['meeting'],
                            related_to: ['[[project2]]']
                        }
                    }],
                ['image.png', null],
                ['document.pdf', { frontmatter: null }]
            ]);
            return cacheMap.get(file.path) || { frontmatter: null };
        });
    });
    describe('Basic Query Execution', () => {
        it('should execute query and return all files when no filters are applied', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'SELECT * WHERE { ?s ?p ?o }'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(testFiles.length);
            expect(response.totalCount).toBe(testFiles.length);
            expect(response.executionTime).toBeGreaterThanOrEqual(0);
        }));
        it('should measure execution time accurately', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list all'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const startTime = Date.now();
            const result = yield useCase.execute(request);
            const endTime = Date.now();
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.executionTime).toBeGreaterThanOrEqual(0);
            expect(response.executionTime).toBeLessThanOrEqual(endTime - startTime + 10); // Allow for small timing differences
        }));
        it('should handle empty vault gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getFiles.mockReturnValue([]);
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list all'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0);
            expect(response.totalCount).toBe(0);
            expect(response.executionTime).toBeGreaterThanOrEqual(0);
        }));
    });
    describe('Class-based Filtering', () => {
        it('should filter by exact class name', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list projects',
                    className: 'ems__Project'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // All project files
            expect(response.results.every(file => ['project1.md', 'project2.md', 'completed-project.md'].includes(file.path))).toBe(true);
        }));
        it('should handle class names with wikilinks', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list projects',
                    className: '[[ems__Project]]'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3);
        }));
        it('should handle missing class gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list unknown',
                    className: 'unknown__Class'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0);
            expect(response.totalCount).toBe(0);
        }));
        it('should filter tasks by class', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list tasks',
                    className: 'ems__Task'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // All task files
            expect(response.results.every(file => ['task1.md', 'task2.md', 'high-priority-task.md'].includes(file.path))).toBe(true);
        }));
    });
    describe('Property Filtering', () => {
        it('should filter by equals operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list active projects',
                    className: 'ems__Project',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'equals',
                            value: 'active'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // project1 and project2
            expect(response.results.every(file => ['project1.md', 'project2.md'].includes(file.path))).toBe(true);
        }));
        it('should filter by notEquals operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list non-completed projects',
                    className: 'ems__Project',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'notEquals',
                            value: 'completed'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // project1 and project2
        }));
        it('should filter by contains operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list tasks assigned to John',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'assignee',
                            operator: 'contains',
                            value: 'John'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // task1 (John Doe) and high-priority-task (Bob Johnson)
        }));
        it('should filter by startsWith operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list tasks assigned to John',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'assignee',
                            operator: 'startsWith',
                            value: 'John'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // task1 (John Doe)
            expect(response.results[0].path).toBe('task1.md');
        }));
        it('should filter by endsWith operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list tasks assigned to people named Johnson',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'assignee',
                            operator: 'endsWith',
                            value: 'Johnson'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // high-priority-task (Bob Johnson)
            expect(response.results[0].path).toBe('high-priority-task.md');
        }));
        it('should filter by exists operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list items with assignee',
                    propertyFilters: [{
                            property: 'assignee',
                            operator: 'exists',
                            value: 'true'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // All tasks have assignee
        }));
        it('should filter by notExists operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list items without assignee',
                    propertyFilters: [{
                            property: 'assignee',
                            operator: 'notExists',
                            value: 'true'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(5); // All non-task files (excluding non-MD files)
        }));
        it('should handle multiple property filters with AND logic', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list high priority active projects',
                    className: 'ems__Project',
                    propertyFilters: [
                        {
                            property: 'status',
                            operator: 'equals',
                            value: 'active'
                        },
                        {
                            property: 'priority',
                            operator: 'equals',
                            value: 'high'
                        }
                    ]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // Only project1
            expect(response.results[0].path).toBe('project1.md');
        }));
        it('should handle array property values', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list research notes',
                    className: 'ems__Note',
                    propertyFilters: [{
                            property: 'tags',
                            operator: 'contains',
                            value: 'research'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1);
            expect(response.results[0].path).toBe('note1.md');
        }));
        it('should handle array values with equals operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list notes with specific tag',
                    className: 'ems__Note',
                    propertyFilters: [{
                            property: 'tags',
                            operator: 'equals',
                            value: 'important'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1);
            expect(response.results[0].path).toBe('note1.md');
        }));
        it('should handle array values with startsWith operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list notes with tags starting with research',
                    className: 'ems__Note',
                    propertyFilters: [{
                            property: 'tags',
                            operator: 'startsWith',
                            value: 'research'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1);
            expect(response.results[0].path).toBe('note1.md');
        }));
        it('should handle array values with endsWith operator', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list notes with tags ending with ing',
                    className: 'ems__Note',
                    propertyFilters: [{
                            property: 'tags',
                            operator: 'endsWith',
                            value: 'ing'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1);
            expect(response.results[0].path).toBe('note2.md'); // 'meeting' ends with 'ing'
        }));
        it('should handle unknown operators gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list with unknown operator',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'unknown',
                            value: 'active'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0); // No matches for unknown operator
        }));
    });
    describe('Template Variable Replacement', () => {
        it('should replace {{current_asset}} template variable', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list related to current',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'project',
                            operator: 'equals',
                            value: '{{current_asset}}'
                        }]
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // task1 and high-priority-task
        }));
        it('should replace {{current_file}} template variable', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list related to current file',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'project',
                            operator: 'equals',
                            value: '{{current_file}}'
                        }]
                },
                currentAssetPath: 'project2',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // task2
            expect(response.results[0].path).toBe('task2.md');
        }));
        it('should replace {{fm.property}} frontmatter variables', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list tasks with same priority as current',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'priority',
                            operator: 'equals',
                            value: '{{fm.priority}}'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {
                    priority: 'high'
                }
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // high-priority-task
            expect(response.results[0].path).toBe('high-priority-task.md');
        }));
        it('should handle multiple template variables', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'complex query with templates',
                    propertyFilters: [
                        {
                            property: 'project',
                            operator: 'equals',
                            value: '{{current_asset}}'
                        },
                        {
                            property: 'priority',
                            operator: 'equals',
                            value: '{{fm.priority}}'
                        }
                    ]
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {
                    priority: 'medium'
                }
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // task1
            expect(response.results[0].path).toBe('task1.md');
        }));
        it('should handle missing frontmatter variables gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test missing frontmatter',
                    propertyFilters: [{
                            property: 'priority',
                            operator: 'equals',
                            value: '{{fm.nonexistent}}'
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0); // No matches since template wasn't replaced
        }));
    });
    describe('Relation Filtering', () => {
        it('should filter by relation property', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list items related to current',
                    relationProperty: 'project'
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // task1 and high-priority-task
        }));
        it('should handle array relation values', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Mock note with array related_to property
            mockMetadataCache.getFileCache.mockImplementation((file) => {
                if (file.path === 'note1.md') {
                    return {
                        frontmatter: {
                            exo__Instance_class: 'ems__Note',
                            tags: ['research', 'important'],
                            related_to: ['[[project1]]', '[[project2]]']
                        }
                    };
                }
                // Use original cache for other files
                const originalImplementations = new Map([
                    ['project1.md', {
                            frontmatter: {
                                exo__Instance_class: '[[ems__Project]]',
                                status: 'active',
                                priority: 'high',
                                title: 'Project 1',
                                updatedAt: '2024-01-15T10:00:00Z'
                            }
                        }],
                    ['project2.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Project',
                                status: 'active',
                                priority: 'medium',
                                title: 'Project 2',
                                updatedAt: '2024-01-14T10:00:00Z'
                            }
                        }],
                    ['completed-project.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Project',
                                status: 'completed',
                                priority: 'low',
                                title: 'Completed Project',
                                updatedAt: '2024-01-10T10:00:00Z'
                            }
                        }],
                    ['task1.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Task',
                                status: 'todo',
                                priority: 'medium',
                                project: '[[project1]]',
                                assignee: 'John Doe'
                            }
                        }],
                    ['task2.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Task',
                                status: 'done',
                                priority: 'low',
                                project: '[[project2]]',
                                assignee: 'Jane Smith'
                            }
                        }],
                    ['high-priority-task.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Task',
                                status: 'in-progress',
                                priority: 'high',
                                project: '[[project1]]',
                                assignee: 'Bob Johnson'
                            }
                        }],
                    ['note2.md', {
                            frontmatter: {
                                exo__Instance_class: 'ems__Note',
                                tags: ['meeting'],
                                related_to: ['[[project2]]']
                            }
                        }],
                    ['image.png', null],
                    ['document.pdf', { frontmatter: null }]
                ]);
                return originalImplementations.get(file.path) || { frontmatter: null };
            });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list notes related to current project',
                    relationProperty: 'related_to'
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // note1
            expect(response.results[0].path).toBe('note1.md');
        }));
        it('should handle missing relation property gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list items with missing relation',
                    relationProperty: 'nonexistent_relation'
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0);
        }));
    });
    describe('Sorting', () => {
        it('should sort by property in ascending order', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list projects sorted by priority',
                    className: 'ems__Project',
                    sortBy: 'priority',
                    sortOrder: 'asc'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3);
            // Check order: high, low, medium (alphabetical for string comparison)
            const priorities = response.results.map(file => {
                var _a;
                const cache = mockMetadataCache.getFileCache(file);
                return ((_a = cache === null || cache === void 0 ? void 0 : cache.frontmatter) === null || _a === void 0 ? void 0 : _a.priority) || '';
            });
            expect(priorities[0]).toBe('high');
            expect(priorities[1]).toBe('low');
            expect(priorities[2]).toBe('medium');
        }));
        it('should sort by property in descending order', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list projects sorted by priority desc',
                    className: 'ems__Project',
                    sortBy: 'priority',
                    sortOrder: 'desc'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3);
            // Check reversed order
            const priorities = response.results.map(file => {
                var _a;
                const cache = mockMetadataCache.getFileCache(file);
                return ((_a = cache === null || cache === void 0 ? void 0 : cache.frontmatter) === null || _a === void 0 ? void 0 : _a.priority) || '';
            });
            expect(priorities[0]).toBe('medium');
            expect(priorities[1]).toBe('low');
            expect(priorities[2]).toBe('high');
        }));
        it('should handle missing sort property gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list sorted by nonexistent property',
                    sortBy: 'nonexistent',
                    sortOrder: 'asc'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(testFiles.length);
            // Should not crash and return results in some order
        }));
        it('should default to ascending when sortOrder is not specified', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list projects with default sort order',
                    className: 'ems__Project',
                    sortBy: 'title'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3);
        }));
    });
    describe('Result Limiting', () => {
        it('should limit results when maxResults is specified', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list limited projects',
                    className: 'ems__Project',
                    maxResults: 2
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2);
            expect(response.totalCount).toBe(3); // Total before limiting
        }));
        it('should handle maxResults larger than available results', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list with large limit',
                    className: 'ems__Project',
                    maxResults: 100
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // All available projects
            expect(response.totalCount).toBe(3);
        }));
        it('should handle maxResults of zero', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list with zero limit',
                    className: 'ems__Project',
                    maxResults: 0
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // Ignores zero limit
            expect(response.totalCount).toBe(3);
        }));
        it('should handle negative maxResults', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'list with negative limit',
                    className: 'ems__Project',
                    maxResults: -5
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // Ignores negative limit
            expect(response.totalCount).toBe(3);
        }));
    });
    describe('Complex Query Combinations', () => {
        it('should combine class filter, property filters, sorting, and limiting', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'complex query',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'notEquals',
                            value: 'done'
                        }],
                    sortBy: 'priority',
                    sortOrder: 'desc',
                    maxResults: 1
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1);
            expect(response.totalCount).toBe(2); // task1 and high-priority-task (not done)
        }));
        it('should combine relation filter with class filter', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'tasks related to current project',
                    className: 'ems__Task',
                    relationProperty: 'project'
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(2); // task1 and high-priority-task
            expect(response.results.every(file => ['task1.md', 'high-priority-task.md'].includes(file.path))).toBe(true);
        }));
        it('should combine all filter types', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'comprehensive filter test',
                    className: 'ems__Task',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'equals',
                            value: 'in-progress'
                        }],
                    relationProperty: 'project',
                    sortBy: 'priority',
                    sortOrder: 'desc',
                    maxResults: 10
                },
                currentAssetPath: 'project1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // Only high-priority-task
            expect(response.results[0].path).toBe('high-priority-task.md');
        }));
    });
    describe('Error Handling', () => {
        it('should handle vault.getFiles() throwing an error', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getFiles.mockImplementation(() => {
                throw new Error('Vault access error');
            });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test error handling'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isFailure).toBe(true);
            expect(result.error).toContain('Failed to execute query block');
            expect(result.error).toContain('Vault access error');
        }));
        it('should handle metadataCache.getFileCache() throwing an error', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockMetadataCache.getFileCache.mockImplementation(() => {
                throw new Error('Metadata cache error');
            });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test metadata error',
                    className: 'ems__Project'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isFailure).toBe(true);
            expect(result.error).toContain('Failed to execute query block');
            expect(result.error).toContain('Metadata cache error');
        }));
        it('should handle null metadata gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockMetadataCache.getFileCache.mockReturnValue(null);
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test null metadata',
                    className: 'ems__Project'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0); // No files match without metadata
        }));
        it('should handle undefined frontmatter gracefully', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockMetadataCache.getFileCache.mockReturnValue({ frontmatter: undefined });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test undefined frontmatter',
                    className: 'ems__Project'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(0);
        }));
    });
    describe('Edge Cases', () => {
        it('should handle empty property filters array', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test empty filters',
                    className: 'ems__Project',
                    propertyFilters: []
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3); // All projects
        }));
        it('should handle null/undefined filter values', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test null filter values',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'equals',
                            value: null
                        }]
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            // Should handle gracefully without crashing
        }));
        it('should handle empty string values', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test empty string values',
                    className: '',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'equals',
                            value: ''
                        }]
                },
                currentAssetPath: '',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            // Should handle gracefully
        }));
        it('should handle circular wikilink references', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockMetadataCache.getFileCache.mockImplementation((file) => {
                if (file.path === 'circular1.md') {
                    return {
                        frontmatter: {
                            exo__Instance_class: 'ems__Test',
                            references: '[[circular2]]'
                        }
                    };
                }
                if (file.path === 'circular2.md') {
                    return {
                        frontmatter: {
                            exo__Instance_class: 'ems__Test',
                            references: '[[circular1]]'
                        }
                    };
                }
                return { frontmatter: null };
            });
            const circularFiles = [
                { path: 'circular1.md', basename: 'circular1', extension: 'md' },
                { path: 'circular2.md', basename: 'circular2', extension: 'md' }
            ];
            mockVault.getFiles.mockReturnValue(circularFiles);
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test circular references',
                    relationProperty: 'references'
                },
                currentAssetPath: 'circular1',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(1); // circular2
        }));
        it('should handle files with special characters in path', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const specialFiles = [
                { path: 'file with spaces.md', basename: 'file with spaces', extension: 'md' },
                { path: 'file-with-dashes.md', basename: 'file-with-dashes', extension: 'md' },
                { path: 'file_with_underscores.md', basename: 'file_with_underscores', extension: 'md' }
            ];
            mockVault.getFiles.mockReturnValue(specialFiles);
            mockMetadataCache.getFileCache.mockReturnValue({ frontmatter: { status: 'test' } });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'test special characters'
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const result = yield useCase.execute(request);
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(3);
        }));
    });
    describe('Performance and Timing', () => {
        it('should complete execution within reasonable time', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Create a larger dataset
            const largeDataset = Array.from({ length: 100 }, (_, i) => ({
                path: `file${i}.md`,
                basename: `file${i}`,
                extension: 'md'
            }));
            mockVault.getFiles.mockReturnValue(largeDataset);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    exo__Instance_class: 'ems__Test',
                    status: 'active',
                    priority: 'medium'
                }
            });
            const request = {
                blockConfig: {
                    type: 'query',
                    query: 'performance test',
                    className: 'ems__Test',
                    propertyFilters: [{
                            property: 'status',
                            operator: 'equals',
                            value: 'active'
                        }],
                    sortBy: 'priority',
                    maxResults: 10
                },
                currentAssetPath: 'current.md',
                currentAssetFrontmatter: {}
            };
            const startTime = Date.now();
            const result = yield useCase.execute(request);
            const endTime = Date.now();
            expect(result.isSuccess).toBe(true);
            const response = result.getValue();
            expect(response.results).toHaveLength(10);
            expect(endTime - startTime).toBeLessThan(1000); // Should complete in less than 1 second
            expect(response.executionTime).toBeGreaterThanOrEqual(0);
            expect(response.executionTime).toBeLessThanOrEqual(endTime - startTime + 10);
        }));
        it('should track execution time accurately for different operations', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const operations = [
                {
                    name: 'simple query',
                    config: { type: 'query', query: 'simple' }
                },
                {
                    name: 'filtered query',
                    config: {
                        type: 'query',
                        query: 'filtered',
                        className: 'ems__Project',
                        propertyFilters: [{ property: 'status', operator: 'equals', value: 'active' }]
                    }
                },
                {
                    name: 'sorted query',
                    config: {
                        type: 'query',
                        query: 'sorted',
                        className: 'ems__Project',
                        sortBy: 'priority'
                    }
                }
            ];
            const timings = [];
            for (const operation of operations) {
                const request = {
                    blockConfig: operation.config,
                    currentAssetPath: 'current.md',
                    currentAssetFrontmatter: {}
                };
                const result = yield useCase.execute(request);
                expect(result.isSuccess).toBe(true);
                const response = result.getValue();
                timings.push(response.executionTime);
                expect(response.executionTime).toBeGreaterThanOrEqual(0);
            }
            // All operations should have measurable execution times
            timings.forEach(time => {
                expect(time).toBeGreaterThanOrEqual(0);
                expect(time).toBeLessThan(1000); // Reasonable upper bound
            });
        }));
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi91c2UtY2FzZXMvRXhlY3V0ZVF1ZXJ5QmxvY2tVc2VDYXNlLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkdBQStKO0FBSy9KLDJCQUEyQjtBQUMzQixNQUFNLFNBQVMsR0FBWSxFQUFFLENBQUM7QUFFOUIsTUFBTSxTQUFTLEdBQXVCO0lBQ3BDLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQztJQUM5QyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDO0lBQ3hGLHFCQUFxQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDaEMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDakIsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDZixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNqQixFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNiLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2QsT0FBTyxFQUFFLEVBQVM7Q0FDWixDQUFDO0FBRVQsTUFBTSxpQkFBaUIsR0FBK0I7SUFDcEQsWUFBWSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDdkIsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUM5QiwyQkFBMkIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ3RDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lB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LENBQUM7Z0JBRXBDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDbkMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQ3JDLE1BQU0sQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUQ7WUFFRCx3REFBd0Q7WUFDeEQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMseUJBQXlCO1lBQzVELENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFBLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi91c2UtY2FzZXMvRXhlY3V0ZVF1ZXJ5QmxvY2tVc2VDYXNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhlY3V0ZVF1ZXJ5QmxvY2tVc2VDYXNlLCBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QsIEV4ZWN1dGVRdWVyeUJsb2NrUmVzcG9uc2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvYXBwbGljYXRpb24vdXNlLWNhc2VzL0V4ZWN1dGVRdWVyeUJsb2NrVXNlQ2FzZSc7XG5pbXBvcnQgeyBRdWVyeUJsb2NrQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2RvbWFpbi9lbnRpdGllcy9MYXlvdXRCbG9jayc7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZG9tYWluL2NvcmUvUmVzdWx0JztcbmltcG9ydCB7IEFwcCwgVEZpbGUsIFZhdWx0LCBNZXRhZGF0YUNhY2hlIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBNb2NrIE9ic2lkaWFuIGNvbXBvbmVudHNcbmNvbnN0IG1vY2tGaWxlczogVEZpbGVbXSA9IFtdO1xuXG5jb25zdCBtb2NrVmF1bHQ6IGplc3QuTW9ja2VkPFZhdWx0PiA9IHtcbiAgZ2V0RmlsZXM6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUobW9ja0ZpbGVzKSxcbiAgZ2V0TWFya2Rvd25GaWxlczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShtb2NrRmlsZXMuZmlsdGVyKGYgPT4gZi5leHRlbnNpb24gPT09ICdtZCcpKSxcbiAgZ2V0QWJzdHJhY3RGaWxlQnlQYXRoOiBqZXN0LmZuKCksXG4gIGNyZWF0ZTogamVzdC5mbigpLFxuICByZWFkOiBqZXN0LmZuKCksXG4gIG1vZGlmeTogamVzdC5mbigpLFxuICBkZWxldGU6IGplc3QuZm4oKSxcbiAgZXhpc3RzOiBqZXN0LmZuKCksXG4gIG9uOiBqZXN0LmZuKCksXG4gIG9mZjogamVzdC5mbigpLFxuICBhZGFwdGVyOiB7fSBhcyBhbnlcbn0gYXMgYW55O1xuXG5jb25zdCBtb2NrTWV0YWRhdGFDYWNoZTogamVzdC5Nb2NrZWQ8TWV0YWRhdGFDYWNoZT4gPSB7XG4gIGdldEZpbGVDYWNoZTogamVzdC5mbigpLFxuICBnZXRCYWNrbGlua3NGb3JGaWxlOiBqZXN0LmZuKCksXG4gIGdldEZyb250bWF0dGVyUHJvcGVydHlWYWx1ZTogamVzdC5mbigpLFxuICBvbjogamVzdC5mbigpLFxuICBvZmY6IGplc3QuZm4oKVxufSBhcyBhbnk7XG5cbmNvbnN0IG1vY2tBcHA6IGplc3QuTW9ja2VkPEFwcD4gPSB7XG4gIHZhdWx0OiBtb2NrVmF1bHQsXG4gIG1ldGFkYXRhQ2FjaGU6IG1vY2tNZXRhZGF0YUNhY2hlLFxuICB3b3Jrc3BhY2U6IHt9IGFzIGFueVxufSBhcyBhbnk7XG5cbmRlc2NyaWJlKCdFeGVjdXRlUXVlcnlCbG9ja1VzZUNhc2UnLCAoKSA9PiB7XG4gIGxldCB1c2VDYXNlOiBFeGVjdXRlUXVlcnlCbG9ja1VzZUNhc2U7XG4gIGxldCB0ZXN0RmlsZXM6IFRGaWxlW107XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgXG4gICAgdXNlQ2FzZSA9IG5ldyBFeGVjdXRlUXVlcnlCbG9ja1VzZUNhc2UobW9ja0FwcCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRlc3QgZmlsZXNcbiAgICB0ZXN0RmlsZXMgPSBbXG4gICAgICAvLyBQcm9qZWN0IGZpbGVzXG4gICAgICB7IHBhdGg6ICdwcm9qZWN0MS5tZCcsIGJhc2VuYW1lOiAncHJvamVjdDEnLCBleHRlbnNpb246ICdtZCcgfSBhcyBURmlsZSxcbiAgICAgIHsgcGF0aDogJ3Byb2plY3QyLm1kJywgYmFzZW5hbWU6ICdwcm9qZWN0MicsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgeyBwYXRoOiAnY29tcGxldGVkLXByb2plY3QubWQnLCBiYXNlbmFtZTogJ2NvbXBsZXRlZC1wcm9qZWN0JywgZXh0ZW5zaW9uOiAnbWQnIH0gYXMgVEZpbGUsXG4gICAgICBcbiAgICAgIC8vIFRhc2sgZmlsZXNcbiAgICAgIHsgcGF0aDogJ3Rhc2sxLm1kJywgYmFzZW5hbWU6ICd0YXNrMScsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgeyBwYXRoOiAndGFzazIubWQnLCBiYXNlbmFtZTogJ3Rhc2syJywgZXh0ZW5zaW9uOiAnbWQnIH0gYXMgVEZpbGUsXG4gICAgICB7IHBhdGg6ICdoaWdoLXByaW9yaXR5LXRhc2subWQnLCBiYXNlbmFtZTogJ2hpZ2gtcHJpb3JpdHktdGFzaycsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgXG4gICAgICAvLyBOb3RlIGZpbGVzXG4gICAgICB7IHBhdGg6ICdub3RlMS5tZCcsIGJhc2VuYW1lOiAnbm90ZTEnLCBleHRlbnNpb246ICdtZCcgfSBhcyBURmlsZSxcbiAgICAgIHsgcGF0aDogJ25vdGUyLm1kJywgYmFzZW5hbWU6ICdub3RlMicsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgXG4gICAgICAvLyBOb24tbWFya2Rvd24gZmlsZXNcbiAgICAgIHsgcGF0aDogJ2ltYWdlLnBuZycsIGJhc2VuYW1lOiAnaW1hZ2UnLCBleHRlbnNpb246ICdwbmcnIH0gYXMgVEZpbGUsXG4gICAgICB7IHBhdGg6ICdkb2N1bWVudC5wZGYnLCBiYXNlbmFtZTogJ2RvY3VtZW50JywgZXh0ZW5zaW9uOiAncGRmJyB9IGFzIFRGaWxlXG4gICAgXTtcbiAgICBcbiAgICBtb2NrVmF1bHQuZ2V0RmlsZXMubW9ja1JldHVyblZhbHVlKHRlc3RGaWxlcyk7XG4gICAgXG4gICAgLy8gU2V0dXAgbWV0YWRhdGEgY2FjaGUgcmVzcG9uc2VzXG4gICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tJbXBsZW1lbnRhdGlvbigoZmlsZTogVEZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlTWFwID0gbmV3IE1hcChbXG4gICAgICAgIFsncHJvamVjdDEubWQnLCB7XG4gICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdbW2Vtc19fUHJvamVjdF1dJyxcbiAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgdGl0bGU6ICdQcm9qZWN0IDEnLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonXG4gICAgICAgICAgfVxuICAgICAgICB9XSxcbiAgICAgICAgWydwcm9qZWN0Mi5tZCcsIHtcbiAgICAgICAgICBmcm9udG1hdHRlcjoge1xuICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgdGl0bGU6ICdQcm9qZWN0IDInLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNFQxMDowMDowMFonXG4gICAgICAgICAgfVxuICAgICAgICB9XSxcbiAgICAgICAgWydjb21wbGV0ZWQtcHJvamVjdC5tZCcsIHtcbiAgICAgICAgICBmcm9udG1hdHRlcjoge1xuICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgdGl0bGU6ICdDb21wbGV0ZWQgUHJvamVjdCcsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTEwVDEwOjAwOjAwWidcbiAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICBbJ3Rhc2sxLm1kJywge1xuICAgICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgICBleG9fX0luc3RhbmNlX2NsYXNzOiAnZW1zX19UYXNrJyxcbiAgICAgICAgICAgIHN0YXR1czogJ3RvZG8nLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgcHJvamVjdDogJ1tbcHJvamVjdDFdXScsXG4gICAgICAgICAgICBhc3NpZ25lZTogJ0pvaG4gRG9lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIFsndGFzazIubWQnLCB7XG4gICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgICAgc3RhdHVzOiAnZG9uZScsXG4gICAgICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgICAgICBwcm9qZWN0OiAnW1twcm9qZWN0Ml1dJyxcbiAgICAgICAgICAgIGFzc2lnbmVlOiAnSmFuZSBTbWl0aCdcbiAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICBbJ2hpZ2gtcHJpb3JpdHktdGFzay5tZCcsIHtcbiAgICAgICAgICBmcm9udG1hdHRlcjoge1xuICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fVGFzaycsXG4gICAgICAgICAgICBzdGF0dXM6ICdpbi1wcm9ncmVzcycsXG4gICAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgcHJvamVjdDogJ1tbcHJvamVjdDFdXScsXG4gICAgICAgICAgICBhc3NpZ25lZTogJ0JvYiBKb2huc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIFsnbm90ZTEubWQnLCB7XG4gICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdlbXNfX05vdGUnLFxuICAgICAgICAgICAgdGFnczogWydyZXNlYXJjaCcsICdpbXBvcnRhbnQnXSxcbiAgICAgICAgICAgIHJlbGF0ZWRfdG86IFsnW1twcm9qZWN0MV1dJ11cbiAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICBbJ25vdGUyLm1kJywge1xuICAgICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgICBleG9fX0luc3RhbmNlX2NsYXNzOiAnZW1zX19Ob3RlJyxcbiAgICAgICAgICAgIHRhZ3M6IFsnbWVldGluZyddLFxuICAgICAgICAgICAgcmVsYXRlZF90bzogWydbW3Byb2plY3QyXV0nXVxuICAgICAgICAgIH1cbiAgICAgICAgfV0sXG4gICAgICAgIFsnaW1hZ2UucG5nJywgbnVsbF0sXG4gICAgICAgIFsnZG9jdW1lbnQucGRmJywgeyBmcm9udG1hdHRlcjogbnVsbCB9XVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIHJldHVybiBjYWNoZU1hcC5nZXQoZmlsZS5wYXRoKSB8fCB7IGZyb250bWF0dGVyOiBudWxsIH07XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdCYXNpYyBRdWVyeSBFeGVjdXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBleGVjdXRlIHF1ZXJ5IGFuZCByZXR1cm4gYWxsIGZpbGVzIHdoZW4gbm8gZmlsdGVycyBhcmUgYXBwbGllZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnU0VMRUNUICogV0hFUkUgeyA/cyA/cCA/byB9J1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKHRlc3RGaWxlcy5sZW5ndGgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnRvdGFsQ291bnQpLnRvQmUodGVzdEZpbGVzLmxlbmd0aCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuZXhlY3V0aW9uVGltZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWVhc3VyZSBleGVjdXRpb24gdGltZSBhY2N1cmF0ZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IGFsbCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmV4ZWN1dGlvblRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuZXhlY3V0aW9uVGltZSkudG9CZUxlc3NUaGFuT3JFcXVhbChlbmRUaW1lIC0gc3RhcnRUaW1lICsgMTApOyAvLyBBbGxvdyBmb3Igc21hbGwgdGltaW5nIGRpZmZlcmVuY2VzXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSB2YXVsdCBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1ZhdWx0LmdldEZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCBhbGwnXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UudG90YWxDb3VudCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5leGVjdXRpb25UaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2xhc3MtYmFzZWQgRmlsdGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IGV4YWN0IGNsYXNzIG5hbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgcHJvamVjdHMnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTsgLy8gQWxsIHByb2plY3QgZmlsZXNcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzLmV2ZXJ5KGZpbGUgPT4gXG4gICAgICAgIFsncHJvamVjdDEubWQnLCAncHJvamVjdDIubWQnLCAnY29tcGxldGVkLXByb2plY3QubWQnXS5pbmNsdWRlcyhmaWxlLnBhdGgpXG4gICAgICApKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2xhc3MgbmFtZXMgd2l0aCB3aWtpbGlua3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgcHJvamVjdHMnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ1tbZW1zX19Qcm9qZWN0XV0nXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIGNsYXNzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgdW5rbm93bicsXG4gICAgICAgICAgY2xhc3NOYW1lOiAndW5rbm93bl9fQ2xhc3MnXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UudG90YWxDb3VudCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIHRhc2tzIGJ5IGNsYXNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHRhc2tzJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7IC8vIEFsbCB0YXNrIGZpbGVzXG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cy5ldmVyeShmaWxlID0+IFxuICAgICAgICBbJ3Rhc2sxLm1kJywgJ3Rhc2syLm1kJywgJ2hpZ2gtcHJpb3JpdHktdGFzay5tZCddLmluY2x1ZGVzKGZpbGUucGF0aClcbiAgICAgICkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9wZXJ0eSBGaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgZXF1YWxzIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IGFjdGl2ZSBwcm9qZWN0cycsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ3N0YXR1cycsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ2VxdWFscycsXG4gICAgICAgICAgICB2YWx1ZTogJ2FjdGl2ZSdcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpOyAvLyBwcm9qZWN0MSBhbmQgcHJvamVjdDJcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzLmV2ZXJ5KGZpbGUgPT4gXG4gICAgICAgIFsncHJvamVjdDEubWQnLCAncHJvamVjdDIubWQnXS5pbmNsdWRlcyhmaWxlLnBhdGgpXG4gICAgICApKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgbm90RXF1YWxzIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IG5vbi1jb21wbGV0ZWQgcHJvamVjdHMnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbe1xuICAgICAgICAgICAgcHJvcGVydHk6ICdzdGF0dXMnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdub3RFcXVhbHMnLFxuICAgICAgICAgICAgdmFsdWU6ICdjb21wbGV0ZWQnXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTsgLy8gcHJvamVjdDEgYW5kIHByb2plY3QyXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSBjb250YWlucyBvcGVyYXRvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCB0YXNrcyBhc3NpZ25lZCB0byBKb2huJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnYXNzaWduZWUnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdjb250YWlucycsXG4gICAgICAgICAgICB2YWx1ZTogJ0pvaG4nXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTsgLy8gdGFzazEgKEpvaG4gRG9lKSBhbmQgaGlnaC1wcmlvcml0eS10YXNrIChCb2IgSm9obnNvbilcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IHN0YXJ0c1dpdGggb3BlcmF0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgdGFza3MgYXNzaWduZWQgdG8gSm9obicsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19UYXNrJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ2Fzc2lnbmVlJyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnc3RhcnRzV2l0aCcsXG4gICAgICAgICAgICB2YWx1ZTogJ0pvaG4nXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gdGFzazEgKEpvaG4gRG9lKVxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHNbMF0ucGF0aCkudG9CZSgndGFzazEubWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IGVuZHNXaXRoIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHRhc2tzIGFzc2lnbmVkIHRvIHBlb3BsZSBuYW1lZCBKb2huc29uJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnYXNzaWduZWUnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdlbmRzV2l0aCcsXG4gICAgICAgICAgICB2YWx1ZTogJ0pvaG5zb24nXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gaGlnaC1wcmlvcml0eS10YXNrIChCb2IgSm9obnNvbilcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzWzBdLnBhdGgpLnRvQmUoJ2hpZ2gtcHJpb3JpdHktdGFzay5tZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgZXhpc3RzIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IGl0ZW1zIHdpdGggYXNzaWduZWUnLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnYXNzaWduZWUnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdleGlzdHMnLFxuICAgICAgICAgICAgdmFsdWU6ICd0cnVlJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7IC8vIEFsbCB0YXNrcyBoYXZlIGFzc2lnbmVlXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSBub3RFeGlzdHMgb3BlcmF0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgaXRlbXMgd2l0aG91dCBhc3NpZ25lZScsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbe1xuICAgICAgICAgICAgcHJvcGVydHk6ICdhc3NpZ25lZScsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ25vdEV4aXN0cycsXG4gICAgICAgICAgICB2YWx1ZTogJ3RydWUnXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCg1KTsgLy8gQWxsIG5vbi10YXNrIGZpbGVzIChleGNsdWRpbmcgbm9uLU1EIGZpbGVzKVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgcHJvcGVydHkgZmlsdGVycyB3aXRoIEFORCBsb2dpYycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCBoaWdoIHByaW9yaXR5IGFjdGl2ZSBwcm9qZWN0cycsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0JyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJvcGVydHk6ICdzdGF0dXMnLFxuICAgICAgICAgICAgICBvcGVyYXRvcjogJ2VxdWFscycsXG4gICAgICAgICAgICAgIHZhbHVlOiAnYWN0aXZlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJvcGVydHk6ICdwcmlvcml0eScsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdoaWdoJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gT25seSBwcm9qZWN0MVxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHNbMF0ucGF0aCkudG9CZSgncHJvamVjdDEubWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFycmF5IHByb3BlcnR5IHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCByZXNlYXJjaCBub3RlcycsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Ob3RlJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ3RhZ3MnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdjb250YWlucycsXG4gICAgICAgICAgICB2YWx1ZTogJ3Jlc2VhcmNoJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0c1swXS5wYXRoKS50b0JlKCdub3RlMS5tZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYXJyYXkgdmFsdWVzIHdpdGggZXF1YWxzIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IG5vdGVzIHdpdGggc3BlY2lmaWMgdGFnJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX05vdGUnLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAndGFncycsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ2VxdWFscycsXG4gICAgICAgICAgICB2YWx1ZTogJ2ltcG9ydGFudCdcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHNbMF0ucGF0aCkudG9CZSgnbm90ZTEubWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFycmF5IHZhbHVlcyB3aXRoIHN0YXJ0c1dpdGggb3BlcmF0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3Qgbm90ZXMgd2l0aCB0YWdzIHN0YXJ0aW5nIHdpdGggcmVzZWFyY2gnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fTm90ZScsIFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAndGFncycsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ3N0YXJ0c1dpdGgnLFxuICAgICAgICAgICAgdmFsdWU6ICdyZXNlYXJjaCdcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHNbMF0ucGF0aCkudG9CZSgnbm90ZTEubWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFycmF5IHZhbHVlcyB3aXRoIGVuZHNXaXRoIG9wZXJhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IG5vdGVzIHdpdGggdGFncyBlbmRpbmcgd2l0aCBpbmcnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fTm90ZScsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbe1xuICAgICAgICAgICAgcHJvcGVydHk6ICd0YWdzJyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZW5kc1dpdGgnLCBcbiAgICAgICAgICAgIHZhbHVlOiAnaW5nJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0c1swXS5wYXRoKS50b0JlKCdub3RlMi5tZCcpOyAvLyAnbWVldGluZycgZW5kcyB3aXRoICdpbmcnXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIG9wZXJhdG9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHdpdGggdW5rbm93biBvcGVyYXRvcicsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbe1xuICAgICAgICAgICAgcHJvcGVydHk6ICdzdGF0dXMnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICd1bmtub3duJyBhcyBhbnksXG4gICAgICAgICAgICB2YWx1ZTogJ2FjdGl2ZSdcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApOyAvLyBObyBtYXRjaGVzIGZvciB1bmtub3duIG9wZXJhdG9yXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUZW1wbGF0ZSBWYXJpYWJsZSBSZXBsYWNlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlcGxhY2Uge3tjdXJyZW50X2Fzc2V0fX0gdGVtcGxhdGUgdmFyaWFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgcmVsYXRlZCB0byBjdXJyZW50JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAncHJvamVjdCcsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ2VxdWFscycsXG4gICAgICAgICAgICB2YWx1ZTogJ3t7Y3VycmVudF9hc3NldH19J1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdwcm9qZWN0MScsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpOyAvLyB0YXNrMSBhbmQgaGlnaC1wcmlvcml0eS10YXNrXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlcGxhY2Uge3tjdXJyZW50X2ZpbGV9fSB0ZW1wbGF0ZSB2YXJpYWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCByZWxhdGVkIHRvIGN1cnJlbnQgZmlsZScsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19UYXNrJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ3Byb2plY3QnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdlcXVhbHMnLFxuICAgICAgICAgICAgdmFsdWU6ICd7e2N1cnJlbnRfZmlsZX19J1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdwcm9qZWN0MicsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpOyAvLyB0YXNrMlxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHNbMF0ucGF0aCkudG9CZSgndGFzazIubWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVwbGFjZSB7e2ZtLnByb3BlcnR5fX0gZnJvbnRtYXR0ZXIgdmFyaWFibGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHRhc2tzIHdpdGggc2FtZSBwcmlvcml0eSBhcyBjdXJyZW50JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAncHJpb3JpdHknLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdlcXVhbHMnLFxuICAgICAgICAgICAgdmFsdWU6ICd7e2ZtLnByaW9yaXR5fX0nXG4gICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge1xuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpOyAvLyBoaWdoLXByaW9yaXR5LXRhc2tcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzWzBdLnBhdGgpLnRvQmUoJ2hpZ2gtcHJpb3JpdHktdGFzay5tZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgdGVtcGxhdGUgdmFyaWFibGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdjb21wbGV4IHF1ZXJ5IHdpdGggdGVtcGxhdGVzJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJvcGVydHk6ICdwcm9qZWN0JyxcbiAgICAgICAgICAgICAgb3BlcmF0b3I6ICdlcXVhbHMnLFxuICAgICAgICAgICAgICB2YWx1ZTogJ3t7Y3VycmVudF9hc3NldH19J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcHJvcGVydHk6ICdwcmlvcml0eScsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgICAgdmFsdWU6ICd7e2ZtLnByaW9yaXR5fX0nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAncHJvamVjdDEnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge1xuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7IC8vIHRhc2sxXG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0c1swXS5wYXRoKS50b0JlKCd0YXNrMS5tZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBmcm9udG1hdHRlciB2YXJpYWJsZXMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAndGVzdCBtaXNzaW5nIGZyb250bWF0dGVyJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ3ByaW9yaXR5JyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlOiAne3tmbS5ub25leGlzdGVudH19J1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7IC8vIE5vIG1hdGNoZXMgc2luY2UgdGVtcGxhdGUgd2Fzbid0IHJlcGxhY2VkXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWxhdGlvbiBGaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgcmVsYXRpb24gcHJvcGVydHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgaXRlbXMgcmVsYXRlZCB0byBjdXJyZW50JyxcbiAgICAgICAgICByZWxhdGlvblByb3BlcnR5OiAncHJvamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ3Byb2plY3QxJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7IC8vIHRhc2sxIGFuZCBoaWdoLXByaW9yaXR5LXRhc2tcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFycmF5IHJlbGF0aW9uIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbm90ZSB3aXRoIGFycmF5IHJlbGF0ZWRfdG8gcHJvcGVydHlcbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrSW1wbGVtZW50YXRpb24oKGZpbGU6IFRGaWxlKSA9PiB7XG4gICAgICAgIGlmIChmaWxlLnBhdGggPT09ICdub3RlMS5tZCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fTm90ZScsXG4gICAgICAgICAgICAgIHRhZ3M6IFsncmVzZWFyY2gnLCAnaW1wb3J0YW50J10sXG4gICAgICAgICAgICAgIHJlbGF0ZWRfdG86IFsnW1twcm9qZWN0MV1dJywgJ1tbcHJvamVjdDJdXSddXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2Ugb3JpZ2luYWwgY2FjaGUgZm9yIG90aGVyIGZpbGVzXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSW1wbGVtZW50YXRpb25zID0gbmV3IE1hcChbXG4gICAgICAgICAgWydwcm9qZWN0MS5tZCcsIHtcbiAgICAgICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdbW2Vtc19fUHJvamVjdF1dJyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQcm9qZWN0IDEnLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XSxcbiAgICAgICAgICBbJ3Byb2plY3QyLm1kJywge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQcm9qZWN0IDInLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTE0VDEwOjAwOjAwWidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XSxcbiAgICAgICAgICBbJ2NvbXBsZXRlZC1wcm9qZWN0Lm1kJywge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiAnbG93JyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdDb21wbGV0ZWQgUHJvamVjdCcsXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1dLFxuICAgICAgICAgIFsndGFzazEubWQnLCB7XG4gICAgICAgICAgICBmcm9udG1hdHRlcjoge1xuICAgICAgICAgICAgICBleG9fX0luc3RhbmNlX2NsYXNzOiAnZW1zX19UYXNrJyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAndG9kbycsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgICAgcHJvamVjdDogJ1tbcHJvamVjdDFdXScsXG4gICAgICAgICAgICAgIGFzc2lnbmVlOiAnSm9obiBEb2UnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgWyd0YXNrMi5tZCcsIHtcbiAgICAgICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdkb25lJyxcbiAgICAgICAgICAgICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgICAgICAgICAgICBwcm9qZWN0OiAnW1twcm9qZWN0Ml1dJyxcbiAgICAgICAgICAgICAgYXNzaWduZWU6ICdKYW5lIFNtaXRoJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1dLFxuICAgICAgICAgIFsnaGlnaC1wcmlvcml0eS10YXNrLm1kJywge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fVGFzaycsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2luLXByb2dyZXNzJyxcbiAgICAgICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICAgICAgcHJvamVjdDogJ1tbcHJvamVjdDFdXScsXG4gICAgICAgICAgICAgIGFzc2lnbmVlOiAnQm9iIEpvaG5zb24nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgWydub3RlMi5tZCcsIHtcbiAgICAgICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgICAgIGV4b19fSW5zdGFuY2VfY2xhc3M6ICdlbXNfX05vdGUnLFxuICAgICAgICAgICAgICB0YWdzOiBbJ21lZXRpbmcnXSxcbiAgICAgICAgICAgICAgcmVsYXRlZF90bzogWydbW3Byb2plY3QyXV0nXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1dLFxuICAgICAgICAgIFsnaW1hZ2UucG5nJywgbnVsbF0sXG4gICAgICAgICAgWydkb2N1bWVudC5wZGYnLCB7IGZyb250bWF0dGVyOiBudWxsIH1dXG4gICAgICAgIF0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsSW1wbGVtZW50YXRpb25zLmdldChmaWxlLnBhdGgpIHx8IHsgZnJvbnRtYXR0ZXI6IG51bGwgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3Qgbm90ZXMgcmVsYXRlZCB0byBjdXJyZW50IHByb2plY3QnLFxuICAgICAgICAgIHJlbGF0aW9uUHJvcGVydHk6ICdyZWxhdGVkX3RvJ1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAncHJvamVjdDEnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gbm90ZTFcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzWzBdLnBhdGgpLnRvQmUoJ25vdGUxLm1kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHJlbGF0aW9uIHByb3BlcnR5IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgaXRlbXMgd2l0aCBtaXNzaW5nIHJlbGF0aW9uJyxcbiAgICAgICAgICByZWxhdGlvblByb3BlcnR5OiAnbm9uZXhpc3RlbnRfcmVsYXRpb24nXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdwcm9qZWN0MScsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU29ydGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNvcnQgYnkgcHJvcGVydHkgaW4gYXNjZW5kaW5nIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHByb2plY3RzIHNvcnRlZCBieSBwcmlvcml0eScsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0JyxcbiAgICAgICAgICBzb3J0Qnk6ICdwcmlvcml0eScsXG4gICAgICAgICAgc29ydE9yZGVyOiAnYXNjJ1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBvcmRlcjogaGlnaCwgbG93LCBtZWRpdW0gKGFscGhhYmV0aWNhbCBmb3Igc3RyaW5nIGNvbXBhcmlzb24pXG4gICAgICBjb25zdCBwcmlvcml0aWVzID0gcmVzcG9uc2UucmVzdWx0cy5tYXAoZmlsZSA9PiB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGZpbGUpO1xuICAgICAgICByZXR1cm4gY2FjaGU/LmZyb250bWF0dGVyPy5wcmlvcml0eSB8fCAnJztcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHByaW9yaXRpZXNbMF0pLnRvQmUoJ2hpZ2gnKTtcbiAgICAgIGV4cGVjdChwcmlvcml0aWVzWzFdKS50b0JlKCdsb3cnKTtcbiAgICAgIGV4cGVjdChwcmlvcml0aWVzWzJdKS50b0JlKCdtZWRpdW0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc29ydCBieSBwcm9wZXJ0eSBpbiBkZXNjZW5kaW5nIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHByb2plY3RzIHNvcnRlZCBieSBwcmlvcml0eSBkZXNjJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Byb2plY3QnLFxuICAgICAgICAgIHNvcnRCeTogJ3ByaW9yaXR5JyxcbiAgICAgICAgICBzb3J0T3JkZXI6ICdkZXNjJ1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayByZXZlcnNlZCBvcmRlclxuICAgICAgY29uc3QgcHJpb3JpdGllcyA9IHJlc3BvbnNlLnJlc3VsdHMubWFwKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZSA9IG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlPy5mcm9udG1hdHRlcj8ucHJpb3JpdHkgfHwgJyc7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChwcmlvcml0aWVzWzBdKS50b0JlKCdtZWRpdW0nKTtcbiAgICAgIGV4cGVjdChwcmlvcml0aWVzWzFdKS50b0JlKCdsb3cnKTtcbiAgICAgIGV4cGVjdChwcmlvcml0aWVzWzJdKS50b0JlKCdoaWdoJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHNvcnQgcHJvcGVydHkgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAnbGlzdCBzb3J0ZWQgYnkgbm9uZXhpc3RlbnQgcHJvcGVydHknLFxuICAgICAgICAgIHNvcnRCeTogJ25vbmV4aXN0ZW50JyxcbiAgICAgICAgICBzb3J0T3JkZXI6ICdhc2MnXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgodGVzdEZpbGVzLmxlbmd0aCk7XG4gICAgICAvLyBTaG91bGQgbm90IGNyYXNoIGFuZCByZXR1cm4gcmVzdWx0cyBpbiBzb21lIG9yZGVyXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgdG8gYXNjZW5kaW5nIHdoZW4gc29ydE9yZGVyIGlzIG5vdCBzcGVjaWZpZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgcHJvamVjdHMgd2l0aCBkZWZhdWx0IHNvcnQgb3JkZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgc29ydEJ5OiAndGl0bGUnXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXN1bHQgTGltaXRpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBsaW1pdCByZXN1bHRzIHdoZW4gbWF4UmVzdWx0cyBpcyBzcGVjaWZpZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2xpc3QgbGltaXRlZCBwcm9qZWN0cycsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0JyxcbiAgICAgICAgICBtYXhSZXN1bHRzOiAyXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QocmVzcG9uc2UudG90YWxDb3VudCkudG9CZSgzKTsgLy8gVG90YWwgYmVmb3JlIGxpbWl0aW5nXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYXhSZXN1bHRzIGxhcmdlciB0aGFuIGF2YWlsYWJsZSByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHdpdGggbGFyZ2UgbGltaXQnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgbWF4UmVzdWx0czogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7IC8vIEFsbCBhdmFpbGFibGUgcHJvamVjdHNcbiAgICAgIGV4cGVjdChyZXNwb25zZS50b3RhbENvdW50KS50b0JlKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWF4UmVzdWx0cyBvZiB6ZXJvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHdpdGggemVybyBsaW1pdCcsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0JyxcbiAgICAgICAgICBtYXhSZXN1bHRzOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7IC8vIElnbm9yZXMgemVybyBsaW1pdFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnRvdGFsQ291bnQpLnRvQmUoMyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZWdhdGl2ZSBtYXhSZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdsaXN0IHdpdGggbmVnYXRpdmUgbGltaXQnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgbWF4UmVzdWx0czogLTVcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTsgLy8gSWdub3JlcyBuZWdhdGl2ZSBsaW1pdFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnRvdGFsQ291bnQpLnRvQmUoMyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wbGV4IFF1ZXJ5IENvbWJpbmF0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbWJpbmUgY2xhc3MgZmlsdGVyLCBwcm9wZXJ0eSBmaWx0ZXJzLCBzb3J0aW5nLCBhbmQgbGltaXRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ2NvbXBsZXggcXVlcnknLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fVGFzaycsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbe1xuICAgICAgICAgICAgcHJvcGVydHk6ICdzdGF0dXMnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICdub3RFcXVhbHMnLFxuICAgICAgICAgICAgdmFsdWU6ICdkb25lJ1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHNvcnRCeTogJ3ByaW9yaXR5JyxcbiAgICAgICAgICBzb3J0T3JkZXI6ICdkZXNjJyxcbiAgICAgICAgICBtYXhSZXN1bHRzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2UudG90YWxDb3VudCkudG9CZSgyKTsgLy8gdGFzazEgYW5kIGhpZ2gtcHJpb3JpdHktdGFzayAobm90IGRvbmUpXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbWJpbmUgcmVsYXRpb24gZmlsdGVyIHdpdGggY2xhc3MgZmlsdGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0YXNrcyByZWxhdGVkIHRvIGN1cnJlbnQgcHJvamVjdCcsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19UYXNrJyxcbiAgICAgICAgICByZWxhdGlvblByb3BlcnR5OiAncHJvamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ3Byb2plY3QxJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7IC8vIHRhc2sxIGFuZCBoaWdoLXByaW9yaXR5LXRhc2tcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzLmV2ZXJ5KGZpbGUgPT4gXG4gICAgICAgIFsndGFzazEubWQnLCAnaGlnaC1wcmlvcml0eS10YXNrLm1kJ10uaW5jbHVkZXMoZmlsZS5wYXRoKVxuICAgICAgKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29tYmluZSBhbGwgZmlsdGVyIHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdjb21wcmVoZW5zaXZlIGZpbHRlciB0ZXN0JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rhc2snLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnc3RhdHVzJyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlOiAnaW4tcHJvZ3Jlc3MnXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgcmVsYXRpb25Qcm9wZXJ0eTogJ3Byb2plY3QnLFxuICAgICAgICAgIHNvcnRCeTogJ3ByaW9yaXR5JyxcbiAgICAgICAgICBzb3J0T3JkZXI6ICdkZXNjJyxcbiAgICAgICAgICBtYXhSZXN1bHRzOiAxMFxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAncHJvamVjdDEnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTsgLy8gT25seSBoaWdoLXByaW9yaXR5LXRhc2tcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzWzBdLnBhdGgpLnRvQmUoJ2hpZ2gtcHJpb3JpdHktdGFzay5tZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmF1bHQuZ2V0RmlsZXMoKSB0aHJvd2luZyBhbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tWYXVsdC5nZXRGaWxlcy5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhdWx0IGFjY2VzcyBlcnJvcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAndGVzdCBlcnJvciBoYW5kbGluZydcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc0ZhaWx1cmUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ0ZhaWxlZCB0byBleGVjdXRlIHF1ZXJ5IGJsb2NrJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ1ZhdWx0IGFjY2VzcyBlcnJvcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoKSB0aHJvd2luZyBhbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGFkYXRhIGNhY2hlIGVycm9yJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IG1ldGFkYXRhIGVycm9yJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Byb2plY3QnXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICdjdXJyZW50Lm1kJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNGYWlsdXJlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdGYWlsZWQgdG8gZXhlY3V0ZSBxdWVyeSBibG9jaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdNZXRhZGF0YSBjYWNoZSBlcnJvcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBtZXRhZGF0YSBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IG51bGwgbWV0YWRhdGEnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgwKTsgLy8gTm8gZmlsZXMgbWF0Y2ggd2l0aG91dCBtZXRhZGF0YVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIGZyb250bWF0dGVyIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHsgZnJvbnRtYXR0ZXI6IHVuZGVmaW5lZCB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IHVuZGVmaW5lZCBmcm9udG1hdHRlcicsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnZW1zX19Qcm9qZWN0J1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBwcm9wZXJ0eSBmaWx0ZXJzIGFycmF5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IGVtcHR5IGZpbHRlcnMnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgcHJvcGVydHlGaWx0ZXJzOiBbXVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpOyAvLyBBbGwgcHJvamVjdHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bGwvdW5kZWZpbmVkIGZpbHRlciB2YWx1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0OiBFeGVjdXRlUXVlcnlCbG9ja1JlcXVlc3QgPSB7XG4gICAgICAgIGJsb2NrQ29uZmlnOiB7XG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICBxdWVyeTogJ3Rlc3QgbnVsbCBmaWx0ZXIgdmFsdWVzJyxcbiAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7XG4gICAgICAgICAgICBwcm9wZXJ0eTogJ3N0YXR1cycsXG4gICAgICAgICAgICBvcGVyYXRvcjogJ2VxdWFscycsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCBhcyBhbnlcbiAgICAgICAgICB9XVxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICAvLyBTaG91bGQgaGFuZGxlIGdyYWNlZnVsbHkgd2l0aG91dCBjcmFzaGluZ1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc3RyaW5nIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgYmxvY2tDb25maWc6IHtcbiAgICAgICAgICB0eXBlOiAncXVlcnknLFxuICAgICAgICAgIHF1ZXJ5OiAndGVzdCBlbXB0eSBzdHJpbmcgdmFsdWVzJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnc3RhdHVzJyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRBc3NldFBhdGg6ICcnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBncmFjZWZ1bGx5XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjaXJjdWxhciB3aWtpbGluayByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tJbXBsZW1lbnRhdGlvbigoZmlsZTogVEZpbGUpID0+IHtcbiAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gJ2NpcmN1bGFyMS5tZCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fVGVzdCcsXG4gICAgICAgICAgICAgIHJlZmVyZW5jZXM6ICdbW2NpcmN1bGFyMl1dJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gJ2NpcmN1bGFyMi5tZCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICAgICAgZXhvX19JbnN0YW5jZV9jbGFzczogJ2Vtc19fVGVzdCcsXG4gICAgICAgICAgICAgIHJlZmVyZW5jZXM6ICdbW2NpcmN1bGFyMV1dJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZnJvbnRtYXR0ZXI6IG51bGwgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaXJjdWxhckZpbGVzID0gW1xuICAgICAgICB7IHBhdGg6ICdjaXJjdWxhcjEubWQnLCBiYXNlbmFtZTogJ2NpcmN1bGFyMScsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgICB7IHBhdGg6ICdjaXJjdWxhcjIubWQnLCBiYXNlbmFtZTogJ2NpcmN1bGFyMicsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlXG4gICAgICBdO1xuICAgICAgbW9ja1ZhdWx0LmdldEZpbGVzLm1vY2tSZXR1cm5WYWx1ZShjaXJjdWxhckZpbGVzKTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IGNpcmN1bGFyIHJlZmVyZW5jZXMnLFxuICAgICAgICAgIHJlbGF0aW9uUHJvcGVydHk6ICdyZWZlcmVuY2VzJ1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY2lyY3VsYXIxJyxcbiAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VDYXNlLmV4ZWN1dGUocmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuaXNTdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHQuZ2V0VmFsdWUoKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7IC8vIGNpcmN1bGFyMlxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmlsZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gcGF0aCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWNpYWxGaWxlcyA9IFtcbiAgICAgICAgeyBwYXRoOiAnZmlsZSB3aXRoIHNwYWNlcy5tZCcsIGJhc2VuYW1lOiAnZmlsZSB3aXRoIHNwYWNlcycsIGV4dGVuc2lvbjogJ21kJyB9IGFzIFRGaWxlLFxuICAgICAgICB7IHBhdGg6ICdmaWxlLXdpdGgtZGFzaGVzLm1kJywgYmFzZW5hbWU6ICdmaWxlLXdpdGgtZGFzaGVzJywgZXh0ZW5zaW9uOiAnbWQnIH0gYXMgVEZpbGUsXG4gICAgICAgIHsgcGF0aDogJ2ZpbGVfd2l0aF91bmRlcnNjb3Jlcy5tZCcsIGJhc2VuYW1lOiAnZmlsZV93aXRoX3VuZGVyc2NvcmVzJywgZXh0ZW5zaW9uOiAnbWQnIH0gYXMgVEZpbGVcbiAgICAgIF07XG4gICAgICBtb2NrVmF1bHQuZ2V0RmlsZXMubW9ja1JldHVyblZhbHVlKHNwZWNpYWxGaWxlcyk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHsgZnJvbnRtYXR0ZXI6IHsgc3RhdHVzOiAndGVzdCcgfSB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICd0ZXN0IHNwZWNpYWwgY2hhcmFjdGVycydcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudEFzc2V0UGF0aDogJ2N1cnJlbnQubWQnLFxuICAgICAgICBjdXJyZW50QXNzZXRGcm9udG1hdHRlcjoge31cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5pc1N1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdC5nZXRWYWx1ZSgpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBUaW1pbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBleGVjdXRpb24gd2l0aGluIHJlYXNvbmFibGUgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIGxhcmdlciBkYXRhc2V0XG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIHBhdGg6IGBmaWxlJHtpfS5tZGAsXG4gICAgICAgIGJhc2VuYW1lOiBgZmlsZSR7aX1gLFxuICAgICAgICBleHRlbnNpb246ICdtZCdcbiAgICAgIH0pKSBhcyBURmlsZVtdO1xuICAgICAgXG4gICAgICBtb2NrVmF1bHQuZ2V0RmlsZXMubW9ja1JldHVyblZhbHVlKGxhcmdlRGF0YXNldCk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICBleG9fX0luc3RhbmNlX2NsYXNzOiAnZW1zX19UZXN0JyxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogRXhlY3V0ZVF1ZXJ5QmxvY2tSZXF1ZXN0ID0ge1xuICAgICAgICBibG9ja0NvbmZpZzoge1xuICAgICAgICAgIHR5cGU6ICdxdWVyeScsXG4gICAgICAgICAgcXVlcnk6ICdwZXJmb3JtYW5jZSB0ZXN0JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Rlc3QnLFxuICAgICAgICAgIHByb3BlcnR5RmlsdGVyczogW3tcbiAgICAgICAgICAgIHByb3BlcnR5OiAnc3RhdHVzJyxcbiAgICAgICAgICAgIG9wZXJhdG9yOiAnZXF1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlOiAnYWN0aXZlJ1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHNvcnRCeTogJ3ByaW9yaXR5JyxcbiAgICAgICAgICBtYXhSZXN1bHRzOiAxMFxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgIGN1cnJlbnRBc3NldEZyb250bWF0dGVyOiB7fVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZShyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICBleHBlY3QocmVzcG9uc2UucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEwKTtcbiAgICAgIGV4cGVjdChlbmRUaW1lIC0gc3RhcnRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSBpbiBsZXNzIHRoYW4gMSBzZWNvbmRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5leGVjdXRpb25UaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmV4ZWN1dGlvblRpbWUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoZW5kVGltZSAtIHN0YXJ0VGltZSArIDEwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgZXhlY3V0aW9uIHRpbWUgYWNjdXJhdGVseSBmb3IgZGlmZmVyZW50IG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVyYXRpb25zID0gW1xuICAgICAgICB7IFxuICAgICAgICAgIG5hbWU6ICdzaW1wbGUgcXVlcnknLFxuICAgICAgICAgIGNvbmZpZzogeyB0eXBlOiAncXVlcnknIGFzIGNvbnN0LCBxdWVyeTogJ3NpbXBsZScgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2ZpbHRlcmVkIHF1ZXJ5JyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHR5cGU6ICdxdWVyeScgYXMgY29uc3QsXG4gICAgICAgICAgICBxdWVyeTogJ2ZpbHRlcmVkJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Vtc19fUHJvamVjdCcsXG4gICAgICAgICAgICBwcm9wZXJ0eUZpbHRlcnM6IFt7IHByb3BlcnR5OiAnc3RhdHVzJywgb3BlcmF0b3I6ICdlcXVhbHMnIGFzIGNvbnN0LCB2YWx1ZTogJ2FjdGl2ZScgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnc29ydGVkIHF1ZXJ5JyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHR5cGU6ICdxdWVyeScgYXMgY29uc3QsXG4gICAgICAgICAgICBxdWVyeTogJ3NvcnRlZCcsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdlbXNfX1Byb2plY3QnLFxuICAgICAgICAgICAgc29ydEJ5OiAncHJpb3JpdHknXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBjb25zdCB0aW1pbmdzOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBvcGVyYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IEV4ZWN1dGVRdWVyeUJsb2NrUmVxdWVzdCA9IHtcbiAgICAgICAgICBibG9ja0NvbmZpZzogb3BlcmF0aW9uLmNvbmZpZyxcbiAgICAgICAgICBjdXJyZW50QXNzZXRQYXRoOiAnY3VycmVudC5tZCcsXG4gICAgICAgICAgY3VycmVudEFzc2V0RnJvbnRtYXR0ZXI6IHt9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKHJlcXVlc3QpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmlzU3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LmdldFZhbHVlKCk7XG4gICAgICAgIHRpbWluZ3MucHVzaChyZXNwb25zZS5leGVjdXRpb25UaW1lKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLmV4ZWN1dGlvblRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFsbCBvcGVyYXRpb25zIHNob3VsZCBoYXZlIG1lYXN1cmFibGUgZXhlY3V0aW9uIHRpbWVzXG4gICAgICB0aW1pbmdzLmZvckVhY2godGltZSA9PiB7XG4gICAgICAgIGV4cGVjdCh0aW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgICBleHBlY3QodGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyBSZWFzb25hYmxlIHVwcGVyIGJvdW5kXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=