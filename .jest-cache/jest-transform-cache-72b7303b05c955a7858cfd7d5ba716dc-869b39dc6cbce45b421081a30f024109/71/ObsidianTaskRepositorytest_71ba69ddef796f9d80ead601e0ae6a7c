307afe955f57af4cf10d78d678de1baa
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
// Mock Notice to prevent actual UI notifications during tests
jest.mock('obsidian', () => (Object.assign(Object.assign({}, jest.requireActual('obsidian')), { Notice: jest.fn() })));
const ObsidianTaskRepository_1 = require("../../../src/infrastructure/repositories/ObsidianTaskRepository");
const Task_1 = require("../../../src/domain/entities/Task");
const TaskId_1 = require("../../../src/domain/value-objects/TaskId");
const AssetId_1 = require("../../../src/domain/value-objects/AssetId");
const Priority_1 = require("../../../src/domain/value-objects/Priority");
const TaskStatus_1 = require("../../../src/domain/value-objects/TaskStatus");
const obsidian_1 = require("obsidian");
describe('ObsidianTaskRepository', () => {
    let repository;
    let mockApp;
    let mockVault;
    let mockMetadataCache;
    beforeEach(() => {
        jest.clearAllMocks();
        mockVault = {
            getMarkdownFiles: jest.fn(),
            getAbstractFileByPath: jest.fn(),
            read: jest.fn(),
            modify: jest.fn(),
            create: jest.fn(),
            delete: jest.fn(),
            createFolder: jest.fn()
        };
        mockMetadataCache = {
            getFileCache: jest.fn()
        };
        mockApp = {
            vault: mockVault,
            metadataCache: mockMetadataCache
        };
        repository = new ObsidianTaskRepository_1.ObsidianTaskRepository(mockApp);
    });
    describe('findById', () => {
        it('should find task by ID from cache', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440000';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            const mockTask = Task_1.Task.create({
                title: 'Test Task'
            }).getValue();
            // Pre-populate cache
            repository.taskCache.set(validUuid, mockTask);
            const result = yield repository.findById(taskId);
            expect(result).toBe(mockTask);
            expect(mockVault.getMarkdownFiles).not.toHaveBeenCalled();
        }));
        it('should find task by ID from file system', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440000';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            const mockFile = new obsidian_1.TFile('Tasks/test-task.md');
            const mockFrontmatter = {
                id: validUuid,
                title: 'Test Task',
                status: 'todo',
                priority: 'medium',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue(`---
id: ${validUuid}
title: Test Task
status: todo
priority: medium
---

# Test Task

This is a test task description.`);
            const result = yield repository.findById(taskId);
            expect(result).not.toBeNull();
            expect(result === null || result === void 0 ? void 0 : result.getTitle()).toBe('Test Task');
            // Cache should use the frontmatter ID as key, but contains the generated task
            expect(repository.taskCache.has(validUuid)).toBe(true);
        }));
        it('should return null if task not found', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440001';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            mockVault.getMarkdownFiles.mockReturnValue([]);
            const result = yield repository.findById(taskId);
            expect(result).toBeNull();
        }));
        it('should skip files outside Tasks folder', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440002';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            const mockFile = new obsidian_1.TFile('Notes/not-a-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            const result = yield repository.findById(taskId);
            expect(result).toBeNull();
            expect(mockMetadataCache.getFileCache).not.toHaveBeenCalled();
        }));
        it('should skip files without matching ID', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440003';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            const mockFile = new obsidian_1.TFile('Tasks/other-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: { id: '550e8400-e29b-41d4-a716-446655440099' }
            });
            const result = yield repository.findById(taskId);
            expect(result).toBeNull();
        }));
    });
    describe('findAll', () => {
        it('should return all tasks from Tasks folder', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFiles = [
                new obsidian_1.TFile('Tasks/task1.md'),
                new obsidian_1.TFile('Tasks/task2.md'),
                new obsidian_1.TFile('Notes/not-a-task.md') // Should be ignored
            ];
            const mockFrontmatter1 = {
                id: '550e8400-e29b-41d4-a716-446655440010',
                title: 'Task 1',
                status: 'todo',
                priority: 'high',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            const mockFrontmatter2 = {
                id: '550e8400-e29b-41d4-a716-446655440011',
                title: 'Task 2',
                status: 'done',
                priority: 'low',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue(mockFiles);
            mockMetadataCache.getFileCache.mockImplementation((file) => {
                if (file.path === 'Tasks/task1.md') {
                    return { frontmatter: mockFrontmatter1 };
                }
                if (file.path === 'Tasks/task2.md') {
                    return { frontmatter: mockFrontmatter2 };
                }
                return null;
            });
            mockVault.read.mockImplementation((file) => {
                if (file.path === 'Tasks/task1.md') {
                    return Promise.resolve('---\nid: 550e8400-e29b-41d4-a716-446655440010\n---\n# Task 1\nDescription 1');
                }
                if (file.path === 'Tasks/task2.md') {
                    return Promise.resolve('---\nid: 550e8400-e29b-41d4-a716-446655440011\n---\n# Task 2\nDescription 2');
                }
                return Promise.resolve('');
            });
            const result = yield repository.findAll();
            expect(result).toHaveLength(2);
            expect(result[0].getTitle()).toBe('Task 1');
            expect(result[1].getTitle()).toBe('Task 2');
            // Note: Task entity generates new IDs, not using frontmatter IDs
        }));
        it('should return empty array when no tasks exist', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getMarkdownFiles.mockReturnValue([]);
            const result = yield repository.findAll();
            expect(result).toEqual([]);
        }));
        it('should skip files with invalid task data', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/invalid-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: { invalid: 'data' }
            });
            mockVault.read.mockResolvedValue('invalid content');
            const result = yield repository.findAll();
            expect(result).toEqual([]);
        }));
    });
    describe('findByProject', () => {
        it('should find tasks by project ID', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            var _a;
            const projectId = AssetId_1.AssetId.create('550e8400-e29b-41d4-a716-446655440020').getValue();
            const mockFile = new obsidian_1.TFile('Tasks/project-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440021',
                title: 'Project Task',
                projectId: '550e8400-e29b-41d4-a716-446655440020',
                status: 'todo',
                priority: 'medium',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nprojectId: 550e8400-e29b-41d4-a716-446655440020\n---\nContent');
            const result = yield repository.findByProject(projectId);
            expect(result).toHaveLength(1);
            expect((_a = result[0].getProjectId()) === null || _a === void 0 ? void 0 : _a.toString()).toBe('550e8400-e29b-41d4-a716-446655440020');
        }));
        it('should return empty array when no tasks match project', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const projectId = AssetId_1.AssetId.create('550e8400-e29b-41d4-a716-446655440022').getValue();
            mockVault.getMarkdownFiles.mockReturnValue([]);
            const result = yield repository.findByProject(projectId);
            expect(result).toEqual([]);
        }));
    });
    describe('findByStatus', () => {
        it('should find tasks by status', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const status = TaskStatus_1.TaskStatus.create('done').getValue();
            const mockFile = new obsidian_1.TFile('Tasks/done-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440030',
                title: 'Completed Task',
                status: 'done',
                priority: 'medium',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440030\nstatus: done\n---\nContent');
            const result = yield repository.findByStatus(status);
            expect(result).toHaveLength(1);
            expect(result[0].getStatus().toString()).toBe('done');
        }));
        it('should return empty array when no tasks match status', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const status = TaskStatus_1.TaskStatus.create('cancelled').getValue();
            mockVault.getMarkdownFiles.mockReturnValue([]);
            const result = yield repository.findByStatus(status);
            expect(result).toEqual([]);
        }));
    });
    describe('findByPriority', () => {
        it('should find tasks by priority', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const priority = Priority_1.Priority.create('high').getValue();
            const mockFile = new obsidian_1.TFile('Tasks/high-priority-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440040',
                title: 'High Priority Task',
                status: 'todo',
                priority: 'high',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440040\npriority: high\n---\nContent');
            const result = yield repository.findByPriority(priority);
            expect(result).toHaveLength(1);
            expect(result[0].getPriority().toString()).toBe('high');
        }));
    });
    describe('findByTag', () => {
        it('should find tasks by tag', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const tag = 'urgent';
            const mockFile = new obsidian_1.TFile('Tasks/tagged-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440050',
                title: 'Tagged Task',
                status: 'todo',
                priority: 'medium',
                tags: ['urgent', 'important'],
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440050\ntags: [urgent, important]\n---\nContent');
            const result = yield repository.findByTag(tag);
            expect(result).toHaveLength(1);
            expect(result[0].getTags()).toContain('urgent');
        }));
        it('should handle tasks without tags', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const tag = 'nonexistent';
            const mockFile = new obsidian_1.TFile('Tasks/no-tags-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: '550e8400-e29b-41d4-a716-446655440051',
                    title: 'No Tags Task'
                }
            });
            const result = yield repository.findByTag(tag);
            expect(result).toEqual([]);
        }));
    });
    describe('findOverdue', () => {
        it('should find overdue tasks', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            var _a;
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const mockFile = new obsidian_1.TFile('Tasks/overdue-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440060',
                title: 'Overdue Task',
                status: 'todo',
                priority: 'medium',
                dueDate: yesterday.toISOString(),
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440060\ndueDate: ' + yesterday.toISOString() + '\n---\nContent');
            const result = yield repository.findOverdue();
            expect(result).toHaveLength(1);
            expect((_a = result[0].getDueDate()) === null || _a === void 0 ? void 0 : _a.getTime()).toBe(yesterday.getTime());
        }));
        it('should not include completed overdue tasks', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const mockFile = new obsidian_1.TFile('Tasks/completed-overdue-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: '550e8400-e29b-41d4-a716-446655440061',
                    dueDate: yesterday.toISOString(),
                    status: 'done'
                }
            });
            const result = yield repository.findOverdue();
            expect(result).toEqual([]);
        }));
    });
    describe('findDueToday', () => {
        it('should find tasks due today', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const today = new Date();
            today.setHours(12, 0, 0, 0); // Midday today
            const mockFile = new obsidian_1.TFile('Tasks/due-today-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440070',
                title: 'Due Today Task',
                status: 'todo',
                priority: 'medium',
                dueDate: today.toISOString(),
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440070\ndueDate: ' + today.toISOString() + '\n---\nContent');
            const result = yield repository.findDueToday();
            expect(result).toHaveLength(1);
        }));
    });
    describe('findDueBetween', () => {
        it('should find tasks due within date range', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const startDate = new Date();
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + 7);
            const dueDate = new Date();
            dueDate.setDate(dueDate.getDate() + 3);
            const mockFile = new obsidian_1.TFile('Tasks/due-in-range-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440080',
                title: 'Due In Range Task',
                status: 'todo',
                priority: 'medium',
                dueDate: dueDate.toISOString(),
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440080\ndueDate: ' + dueDate.toISOString() + '\n---\nContent');
            const result = yield repository.findDueBetween(startDate, endDate);
            expect(result).toHaveLength(1);
        }));
        it('should exclude tasks outside date range', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const startDate = new Date();
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + 7);
            const outsideDate = new Date();
            outsideDate.setDate(outsideDate.getDate() + 10);
            const mockFile = new obsidian_1.TFile('Tasks/outside-range-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: '550e8400-e29b-41d4-a716-446655440081',
                    dueDate: outsideDate.toISOString()
                }
            });
            const result = yield repository.findDueBetween(startDate, endDate);
            expect(result).toEqual([]);
        }));
    });
    describe('findByCriteria', () => {
        it('should find tasks matching all criteria', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const status = TaskStatus_1.TaskStatus.create('todo').getValue();
            const priority = Priority_1.Priority.create('high').getValue();
            const projectId = AssetId_1.AssetId.create('test-project').getValue();
            // Mock findAll to return test data
            const mockTask = Task_1.Task.create({
                title: 'Test Task',
                priority: priority,
                tags: ['urgent', 'test']
            }).getValue();
            // Set additional properties that would be set by the task
            jest.spyOn(mockTask, 'getStatus').mockReturnValue(status);
            jest.spyOn(mockTask, 'getProjectId').mockReturnValue(projectId);
            jest.spyOn(repository, 'findAll').mockResolvedValue([mockTask]);
            const result = yield repository.findByCriteria({
                status,
                priority,
                projectId,
                tags: ['urgent']
            });
            expect(result).toHaveLength(1);
            expect(result[0]).toBe(mockTask);
        }));
        it('should return empty array when no tasks match criteria', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            jest.spyOn(repository, 'findAll').mockResolvedValue([]);
            const result = yield repository.findByCriteria({
                status: TaskStatus_1.TaskStatus.create('cancelled').getValue()
            });
            expect(result).toEqual([]);
        }));
    });
    describe('save', () => {
        it('should create new task file', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'New Task',
                description: 'A new test task'
            }).getValue();
            mockVault.getAbstractFileByPath.mockReturnValue(null);
            mockVault.create.mockResolvedValue(new obsidian_1.TFile('Tasks/New Task.md'));
            yield repository.save(task);
            expect(mockVault.createFolder).toHaveBeenCalledWith('Tasks');
            expect(mockVault.create).toHaveBeenCalledWith('Tasks/New Task.md', '');
            expect(mockVault.modify).toHaveBeenCalled();
            expect(repository.taskCache.has(task.getId().toString())).toBe(true);
            expect(obsidian_1.Notice).toHaveBeenCalledWith('Task "New Task" saved successfully');
        }));
        it('should update existing task file', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'Existing Task'
            }).getValue();
            const existingFile = new obsidian_1.TFile('Tasks/Existing Task.md');
            mockVault.getAbstractFileByPath.mockReturnValue(existingFile);
            yield repository.save(task);
            expect(mockVault.create).not.toHaveBeenCalled();
            expect(mockVault.modify).toHaveBeenCalledWith(existingFile, expect.stringContaining('# Existing Task'));
        }));
        it('should handle file path conflicts', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'Test Task'
            }).getValue();
            // Mock folder exists at the path
            const mockFolder = { isFile: () => false };
            mockVault.getAbstractFileByPath.mockReturnValue(mockFolder);
            yield expect(repository.save(task)).rejects.toThrow('File path exists but is not a file');
        }));
        it('should handle save errors', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'Error Task'
            }).getValue();
            mockVault.getAbstractFileByPath.mockReturnValue(null);
            mockVault.create.mockRejectedValue(new Error('Disk full'));
            yield expect(repository.save(task)).rejects.toThrow('Disk full');
            expect(obsidian_1.Notice).toHaveBeenCalledWith('Failed to save task: Disk full');
        }));
        it('should sanitize filename with special characters', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'Task: With / Special * Characters?'
            }).getValue();
            mockVault.getAbstractFileByPath.mockReturnValue(null);
            mockVault.create.mockResolvedValue(new obsidian_1.TFile('Tasks/sanitized.md'));
            yield repository.save(task);
            expect(mockVault.create).toHaveBeenCalledWith(expect.stringMatching(/Tasks\/Task- With - Special - Characters-.md/), '');
        }));
    });
    describe('delete', () => {
        it('should delete existing task', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440100';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            const mockFile = new obsidian_1.TFile('Tasks/test-task.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: { id: validUuid }
            });
            yield repository.delete(taskId);
            expect(mockVault.delete).toHaveBeenCalledWith(mockFile);
            expect(repository.taskCache.has(validUuid)).toBe(false);
            expect(obsidian_1.Notice).toHaveBeenCalledWith('Task deleted successfully');
        }));
        it('should throw error when task not found', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440101';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            mockVault.getMarkdownFiles.mockReturnValue([]);
            yield expect(repository.delete(taskId)).rejects.toThrow('Task with id ' + validUuid + ' not found');
        }));
    });
    describe('exists', () => {
        it('should return true when task exists', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440110';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            jest.spyOn(repository, 'findById').mockResolvedValue(Task_1.Task.create({ title: 'Test' }).getValue());
            const result = yield repository.exists(taskId);
            expect(result).toBe(true);
        }));
        it('should return false when task does not exist', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const validUuid = '550e8400-e29b-41d4-a716-446655440111';
            const taskId = TaskId_1.TaskId.create(validUuid).getValue();
            jest.spyOn(repository, 'findById').mockResolvedValue(null);
            const result = yield repository.exists(taskId);
            expect(result).toBe(false);
        }));
    });
    describe('findByFilename', () => {
        it('should find task by filename', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const filename = 'test-task.md';
            const mockFile = new obsidian_1.TFile('Tasks/test-task.md');
            const mockFrontmatter = {
                id: '550e8400-e29b-41d4-a716-446655440120',
                title: 'Test Task',
                status: 'todo',
                priority: 'medium',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            mockVault.getAbstractFileByPath.mockReturnValue(mockFile);
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: mockFrontmatter
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440120\n---\nContent');
            const result = yield repository.findByFilename(filename);
            expect(result).not.toBeNull();
            expect(result === null || result === void 0 ? void 0 : result.getTitle()).toBe('Test Task');
        }));
        it('should return null when file not found', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getAbstractFileByPath.mockReturnValue(null);
            const result = yield repository.findByFilename('nonexistent.md');
            expect(result).toBeNull();
        }));
        it('should return null when file is not a TFile', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getAbstractFileByPath.mockReturnValue({ isFile: () => false });
            const result = yield repository.findByFilename('folder');
            expect(result).toBeNull();
        }));
    });
    describe('getStatistics', () => {
        it('should return comprehensive task statistics', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const now = new Date();
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const nextWeek = new Date();
            nextWeek.setDate(nextWeek.getDate() + 5);
            const mockTasks = [
                // Completed task
                Task_1.Task.create({ title: 'Done Task' }).getValue(),
                // Overdue task
                Task_1.Task.create({ title: 'Overdue Task' }).getValue(),
                // Due today task
                Task_1.Task.create({ title: 'Today Task' }).getValue(),
                // Due this week task
                Task_1.Task.create({ title: 'Week Task' }).getValue()
            ];
            // Mock task properties
            jest.spyOn(mockTasks[0], 'getStatus').mockReturnValue(TaskStatus_1.TaskStatus.create('done').getValue());
            jest.spyOn(mockTasks[0], 'getPriority').mockReturnValue(Priority_1.Priority.create('high').getValue());
            jest.spyOn(mockTasks[0], 'getDueDate').mockReturnValue(undefined);
            jest.spyOn(mockTasks[0], 'getCreatedAt').mockReturnValue(yesterday);
            jest.spyOn(mockTasks[0], 'getUpdatedAt').mockReturnValue(now);
            jest.spyOn(mockTasks[1], 'getStatus').mockReturnValue(TaskStatus_1.TaskStatus.create('todo').getValue());
            jest.spyOn(mockTasks[1], 'getPriority').mockReturnValue(Priority_1.Priority.create('medium').getValue());
            jest.spyOn(mockTasks[1], 'getDueDate').mockReturnValue(undefined); // No due date, so not overdue
            jest.spyOn(mockTasks[1], 'getCreatedAt').mockReturnValue(yesterday);
            jest.spyOn(mockTasks[1], 'getUpdatedAt').mockReturnValue(yesterday);
            jest.spyOn(mockTasks[2], 'getStatus').mockReturnValue(TaskStatus_1.TaskStatus.create('in-progress').getValue());
            jest.spyOn(mockTasks[2], 'getPriority').mockReturnValue(Priority_1.Priority.create('low').getValue());
            // Set due date to later today so it's not overdue
            const laterToday = new Date(now);
            laterToday.setHours(23, 59, 59, 999);
            jest.spyOn(mockTasks[2], 'getDueDate').mockReturnValue(laterToday);
            jest.spyOn(mockTasks[2], 'getCreatedAt').mockReturnValue(yesterday);
            jest.spyOn(mockTasks[2], 'getUpdatedAt').mockReturnValue(now);
            jest.spyOn(mockTasks[3], 'getStatus').mockReturnValue(TaskStatus_1.TaskStatus.create('todo').getValue());
            jest.spyOn(mockTasks[3], 'getPriority').mockReturnValue(Priority_1.Priority.create('medium').getValue());
            jest.spyOn(mockTasks[3], 'getDueDate').mockReturnValue(nextWeek);
            jest.spyOn(mockTasks[3], 'getCreatedAt').mockReturnValue(yesterday);
            jest.spyOn(mockTasks[3], 'getUpdatedAt').mockReturnValue(now);
            jest.spyOn(repository, 'findAll').mockResolvedValue(mockTasks);
            const result = yield repository.getStatistics();
            expect(result.total).toBe(4);
            expect(result.byStatus.done).toBe(1);
            expect(result.byStatus.todo).toBe(2);
            expect(result.byStatus['in-progress']).toBe(1);
            expect(result.byPriority.high).toBe(1);
            expect(result.byPriority.medium).toBe(2);
            expect(result.byPriority.low).toBe(1);
            expect(result.completed).toBe(1);
            expect(result.overdue).toBe(0); // Only task with due date < now and not done counts as overdue
            expect(result.dueToday).toBe(1);
            expect(result.dueThisWeek).toBeGreaterThan(0);
            expect(result.averageCompletionTime).toBeGreaterThan(0);
        }));
        it('should handle empty task list', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            jest.spyOn(repository, 'findAll').mockResolvedValue([]);
            const result = yield repository.getStatistics();
            expect(result.total).toBe(0);
            expect(result.completed).toBe(0);
            expect(result.overdue).toBe(0);
            expect(result.dueToday).toBe(0);
            expect(result.averageCompletionTime).toBeUndefined();
        }));
    });
    describe('search', () => {
        it('should search tasks by title', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockTasks = [
                Task_1.Task.create({ title: 'Important Task' }).getValue(),
                Task_1.Task.create({ title: 'Regular Task' }).getValue(),
                Task_1.Task.create({ title: 'Another Important Item' }).getValue()
            ];
            jest.spyOn(repository, 'findAll').mockResolvedValue(mockTasks);
            const result = yield repository.search('important');
            expect(result).toHaveLength(2);
            expect(result[0].getTitle()).toBe('Important Task');
            expect(result[1].getTitle()).toBe('Another Important Item');
        }));
        it('should search tasks by description', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockTask = Task_1.Task.create({
                title: 'Task',
                description: 'This has important content'
            }).getValue();
            jest.spyOn(repository, 'findAll').mockResolvedValue([mockTask]);
            const result = yield repository.search('important');
            expect(result).toHaveLength(1);
        }));
        it('should search tasks by tags', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockTask = Task_1.Task.create({
                title: 'Task',
                tags: ['important', 'urgent']
            }).getValue();
            jest.spyOn(repository, 'findAll').mockResolvedValue([mockTask]);
            const result = yield repository.search('urgent');
            expect(result).toHaveLength(1);
        }));
        it('should be case insensitive', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockTask = Task_1.Task.create({ title: 'Important Task' }).getValue();
            jest.spyOn(repository, 'findAll').mockResolvedValue([mockTask]);
            const result = yield repository.search('IMPORTANT');
            expect(result).toHaveLength(1);
        }));
    });
    describe('findRecentlyUpdated', () => {
        it('should return tasks sorted by update date', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const now = new Date();
            const hourAgo = new Date(now.getTime() - 60 * 60 * 1000);
            const dayAgo = new Date(now.getTime() - 24 * 60 * 60 * 1000);
            const mockTasks = [
                Task_1.Task.create({ title: 'Old Task' }).getValue(),
                Task_1.Task.create({ title: 'Recent Task' }).getValue(),
                Task_1.Task.create({ title: 'Latest Task' }).getValue()
            ];
            jest.spyOn(mockTasks[0], 'getUpdatedAt').mockReturnValue(dayAgo);
            jest.spyOn(mockTasks[1], 'getUpdatedAt').mockReturnValue(hourAgo);
            jest.spyOn(mockTasks[2], 'getUpdatedAt').mockReturnValue(now);
            jest.spyOn(repository, 'findAll').mockResolvedValue(mockTasks);
            const result = yield repository.findRecentlyUpdated(2);
            expect(result).toHaveLength(2);
            expect(result[0].getTitle()).toBe('Latest Task');
            expect(result[1].getTitle()).toBe('Recent Task');
        }));
        it('should default to 10 items limit', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockTasks = Array.from({ length: 15 }, (_, i) => Task_1.Task.create({ title: `Task ${i}` }).getValue());
            jest.spyOn(repository, 'findAll').mockResolvedValue(mockTasks);
            const result = yield repository.findRecentlyUpdated();
            expect(result).toHaveLength(10);
        }));
    });
    describe('findRecentlyCreated', () => {
        it('should return tasks sorted by creation date', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const now = new Date();
            const hourAgo = new Date(now.getTime() - 60 * 60 * 1000);
            const dayAgo = new Date(now.getTime() - 24 * 60 * 60 * 1000);
            const mockTasks = [
                Task_1.Task.create({ title: 'Old Task' }).getValue(),
                Task_1.Task.create({ title: 'Recent Task' }).getValue(),
                Task_1.Task.create({ title: 'Latest Task' }).getValue()
            ];
            jest.spyOn(mockTasks[0], 'getCreatedAt').mockReturnValue(dayAgo);
            jest.spyOn(mockTasks[1], 'getCreatedAt').mockReturnValue(hourAgo);
            jest.spyOn(mockTasks[2], 'getCreatedAt').mockReturnValue(now);
            jest.spyOn(repository, 'findAll').mockResolvedValue(mockTasks);
            const result = yield repository.findRecentlyCreated(2);
            expect(result).toHaveLength(2);
            expect(result[0].getTitle()).toBe('Latest Task');
            expect(result[1].getTitle()).toBe('Recent Task');
        }));
    });
    describe('loadTaskFromFile - error handling', () => {
        it('should return null for file without frontmatter ID', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/invalid-task.md');
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: { title: 'No ID Task' }
            });
            mockVault.read.mockResolvedValue('---\ntitle: No ID Task\n---\nContent');
            const result = yield repository.loadTaskFromFile(mockFile);
            expect(result).toBeNull();
        }));
        it('should return null for invalid priority', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/invalid-priority.md');
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: 'task-1',
                    priority: 'invalid-priority'
                }
            });
            mockVault.read.mockResolvedValue('---\nid: task-1\n---\nContent');
            const result = yield repository.loadTaskFromFile(mockFile);
            expect(result).toBeNull();
        }));
        it('should return null for invalid status', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/invalid-status.md');
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: 'task-1',
                    status: 'invalid-status'
                }
            });
            mockVault.read.mockResolvedValue('---\nid: task-1\n---\nContent');
            const result = yield repository.loadTaskFromFile(mockFile);
            expect(result).toBeNull();
        }));
        it('should handle vault read errors', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/error-task.md');
            mockVault.read.mockRejectedValue(new Error('File read error'));
            const result = yield repository.loadTaskFromFile(mockFile);
            expect(result).toBeNull();
        }));
    });
    describe('generateTaskContent', () => {
        it('should generate proper markdown content', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const task = Task_1.Task.create({
                title: 'Test Task',
                description: 'Test description',
                tags: ['tag1', 'tag2']
            }).getValue();
            const content = repository.generateTaskContent(task);
            expect(content).toContain('---');
            expect(content).toContain('# Test Task');
            expect(content).toContain('Test description');
            expect(content).toContain('## Details');
            expect(content).toContain('## Tags');
            expect(content).toContain('#tag1 #tag2');
            expect(content).toContain('## Notes');
        }));
    });
    describe('ensureTasksFolder', () => {
        it('should create Tasks folder if it does not exist', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getAbstractFileByPath.mockReturnValue(null);
            yield repository.ensureTasksFolder();
            expect(mockVault.createFolder).toHaveBeenCalledWith('Tasks');
        }));
        it('should not create Tasks folder if it already exists', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockVault.getAbstractFileByPath.mockReturnValue({ exists: true });
            yield repository.ensureTasksFolder();
            expect(mockVault.createFolder).not.toHaveBeenCalled();
        }));
    });
    describe('sanitizeFileName', () => {
        it('should replace invalid characters', () => {
            const result = repository.sanitizeFileName('Invalid/\\:*?"<>|Name');
            expect(result).toBe('Invalid---------Name');
        });
        it('should trim and limit length', () => {
            const longName = 'a'.repeat(150);
            const result = repository.sanitizeFileName(longName);
            expect(result.length).toBeLessThanOrEqual(100);
        });
        it('should handle empty string', () => {
            const result = repository.sanitizeFileName('');
            expect(result).toBe('');
        });
    });
    describe('edge cases', () => {
        it('should handle null metadata cache response', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/null-metadata.md');
            mockVault.getMarkdownFiles.mockReturnValue([mockFile]);
            mockMetadataCache.getFileCache.mockReturnValue(null);
            const result = yield repository.findAll();
            expect(result).toEqual([]);
        }));
        it('should handle malformed dates in frontmatter', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/bad-date.md');
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: '550e8400-e29b-41d4-a716-446655440200',
                    dueDate: 'not-a-date',
                    createdAt: 'also-not-a-date'
                }
            });
            mockVault.read.mockResolvedValue('content');
            const result = yield repository.loadTaskFromFile(mockFile);
            // Task creation should fail with invalid task ID
            expect(result).toBeNull();
        }));
        it('should handle tasks with no content body', () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFile = new obsidian_1.TFile('Tasks/no-body.md');
            mockMetadataCache.getFileCache.mockReturnValue({
                frontmatter: {
                    id: '550e8400-e29b-41d4-a716-446655440210',
                    title: 'No Body Task',
                    status: 'todo',
                    priority: 'medium',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                }
            });
            mockVault.read.mockResolvedValue('---\nid: 550e8400-e29b-41d4-a716-446655440210\n---');
            const result = yield repository.loadTaskFromFile(mockFile);
            expect(result).not.toBeNull();
            expect(result === null || result === void 0 ? void 0 : result.getTitle()).toBe('No Body Task');
        }));
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9yZXBvc2l0b3JpZXMvT2JzaWRpYW5UYXNrUmVwb3NpdG9yeS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7OztBQVFBLDhEQUE4RDtBQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxpQ0FDdkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsS0FDakMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFDakIsQ0FBQyxDQUFDO0FBWkosNEdBQXlHO0FBQ3pHLDREQUF5RDtBQUN6RCxxRUFBa0U7QUFDbEUsdUVBQW9FO0FBQ3BFLHlFQUFzRTtBQUN0RSw2RUFBMEU7QUFDMUUsdUNBQThDO0FBUTlDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7SUFDdEMsSUFBSSxVQUFrQyxDQUFDO0lBQ3ZDLElBQUksT0FBcUIsQ0FBQztJQUMxQixJQUFJLFNBQWMsQ0FBQztJQUNuQixJQUFJLGlCQUFzQixDQUFDO0lBRTNCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFFckIsU0FBUyxHQUFHO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUMzQixxQkFBcUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2hDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2YsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDakIsWUFBWSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDeEIsQ0FBQztRQUVGLGlCQUFpQixHQUFHO1lBQ2xCLFlBQVksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1NBQ3hCLENBQUM7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Q0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNuRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRTlELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyx1QkFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUcsQ0FBQyxDQUFDO1lBQzdGLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxtQkFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLEVBQUcsQ0FBQyxDQUFDO1lBQy9GLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDcEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRTlELElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRS9ELE1BQU0sTUFBTSxHQUFHLE1BQU0sVUFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lB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VyxFQUFFO29CQUNuQyxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7aUJBQ3BDO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsU0FBUyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO1lBRXZGLE1BQU0sTUFBTSxHQUFHLE1BQU8sVUFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUVwRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxNQUFNLGFBQU4sTUFBTSx1QkFBTixNQUFNLENBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFBLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9yZXBvc2l0b3JpZXMvT2JzaWRpYW5UYXNrUmVwb3NpdG9yeS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2lkaWFuVGFza1JlcG9zaXRvcnkgfSBmcm9tICcuLi8uLi8uLi9zcmMvaW5mcmFzdHJ1Y3R1cmUvcmVwb3NpdG9yaWVzL09ic2lkaWFuVGFza1JlcG9zaXRvcnknO1xuaW1wb3J0IHsgVGFzayB9IGZyb20gJy4uLy4uLy4uL3NyYy9kb21haW4vZW50aXRpZXMvVGFzayc7XG5pbXBvcnQgeyBUYXNrSWQgfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tYWluL3ZhbHVlLW9iamVjdHMvVGFza0lkJztcbmltcG9ydCB7IEFzc2V0SWQgfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tYWluL3ZhbHVlLW9iamVjdHMvQXNzZXRJZCc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uLy4uLy4uL3NyYy9kb21haW4vdmFsdWUtb2JqZWN0cy9Qcmlvcml0eSc7XG5pbXBvcnQgeyBUYXNrU3RhdHVzIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2RvbWFpbi92YWx1ZS1vYmplY3RzL1Rhc2tTdGF0dXMnO1xuaW1wb3J0IHsgQXBwLCBURmlsZSwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBNb2NrIE5vdGljZSB0byBwcmV2ZW50IGFjdHVhbCBVSSBub3RpZmljYXRpb25zIGR1cmluZyB0ZXN0c1xuamVzdC5tb2NrKCdvYnNpZGlhbicsICgpID0+ICh7XG4gIC4uLmplc3QucmVxdWlyZUFjdHVhbCgnb2JzaWRpYW4nKSxcbiAgTm90aWNlOiBqZXN0LmZuKClcbn0pKTtcblxuZGVzY3JpYmUoJ09ic2lkaWFuVGFza1JlcG9zaXRvcnknLCAoKSA9PiB7XG4gIGxldCByZXBvc2l0b3J5OiBPYnNpZGlhblRhc2tSZXBvc2l0b3J5O1xuICBsZXQgbW9ja0FwcDogUGFydGlhbDxBcHA+O1xuICBsZXQgbW9ja1ZhdWx0OiBhbnk7XG4gIGxldCBtb2NrTWV0YWRhdGFDYWNoZTogYW55O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIG1vY2tWYXVsdCA9IHtcbiAgICAgIGdldE1hcmtkb3duRmlsZXM6IGplc3QuZm4oKSxcbiAgICAgIGdldEFic3RyYWN0RmlsZUJ5UGF0aDogamVzdC5mbigpLFxuICAgICAgcmVhZDogamVzdC5mbigpLFxuICAgICAgbW9kaWZ5OiBqZXN0LmZuKCksXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgICAgY3JlYXRlRm9sZGVyOiBqZXN0LmZuKClcbiAgICB9O1xuXG4gICAgbW9ja01ldGFkYXRhQ2FjaGUgPSB7XG4gICAgICBnZXRGaWxlQ2FjaGU6IGplc3QuZm4oKVxuICAgIH07XG5cbiAgICBtb2NrQXBwID0ge1xuICAgICAgdmF1bHQ6IG1vY2tWYXVsdCBhcyBhbnksXG4gICAgICBtZXRhZGF0YUNhY2hlOiBtb2NrTWV0YWRhdGFDYWNoZSBhcyBhbnlcbiAgICB9O1xuXG4gICAgcmVwb3NpdG9yeSA9IG5ldyBPYnNpZGlhblRhc2tSZXBvc2l0b3J5KG1vY2tBcHAgYXMgQXBwKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRCeUlkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmluZCB0YXNrIGJ5IElEIGZyb20gY2FjaGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IHRhc2tJZCA9IFRhc2tJZC5jcmVhdGUodmFsaWRVdWlkKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IG1vY2tUYXNrID0gVGFzay5jcmVhdGUoe1xuICAgICAgICB0aXRsZTogJ1Rlc3QgVGFzaydcbiAgICAgIH0pLmdldFZhbHVlKCkhO1xuXG4gICAgICAvLyBQcmUtcG9wdWxhdGUgY2FjaGVcbiAgICAgIChyZXBvc2l0b3J5IGFzIGFueSkudGFza0NhY2hlLnNldCh2YWxpZFV1aWQsIG1vY2tUYXNrKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlJZCh0YXNrSWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKG1vY2tUYXNrKTtcbiAgICAgIGV4cGVjdChtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmluZCB0YXNrIGJ5IElEIGZyb20gZmlsZSBzeXN0ZW0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAwJztcbiAgICAgIGNvbnN0IHRhc2tJZCA9IFRhc2tJZC5jcmVhdGUodmFsaWRVdWlkKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy90ZXN0LXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogdmFsaWRVdWlkLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgVGFzaycsXG4gICAgICAgIHN0YXR1czogJ3RvZG8nLFxuICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiBtb2NrRnJvbnRtYXR0ZXJcbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoYC0tLVxuaWQ6ICR7dmFsaWRVdWlkfVxudGl0bGU6IFRlc3QgVGFza1xuc3RhdHVzOiB0b2RvXG5wcmlvcml0eTogbWVkaXVtXG4tLS1cblxuIyBUZXN0IFRhc2tcblxuVGhpcyBpcyBhIHRlc3QgdGFzayBkZXNjcmlwdGlvbi5gKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlJZCh0YXNrSWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LmdldFRpdGxlKCkpLnRvQmUoJ1Rlc3QgVGFzaycpO1xuICAgICAgLy8gQ2FjaGUgc2hvdWxkIHVzZSB0aGUgZnJvbnRtYXR0ZXIgSUQgYXMga2V5LCBidXQgY29udGFpbnMgdGhlIGdlbmVyYXRlZCB0YXNrXG4gICAgICBleHBlY3QoKHJlcG9zaXRvcnkgYXMgYW55KS50YXNrQ2FjaGUuaGFzKHZhbGlkVXVpZCkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGlmIHRhc2sgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRVdWlkID0gJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMSc7XG4gICAgICBjb25zdCB0YXNrSWQgPSBUYXNrSWQuY3JlYXRlKHZhbGlkVXVpZCkuZ2V0VmFsdWUoKSE7XG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRCeUlkKHRhc2tJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNraXAgZmlsZXMgb3V0c2lkZSBUYXNrcyBmb2xkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDAyJztcbiAgICAgIGNvbnN0IHRhc2tJZCA9IFRhc2tJZC5jcmVhdGUodmFsaWRVdWlkKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdOb3Rlcy9ub3QtYS10YXNrLm1kJyk7XG5cbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbbW9ja0ZpbGVdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlJZCh0YXNrSWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2tpcCBmaWxlcyB3aXRob3V0IG1hdGNoaW5nIElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRVdWlkID0gJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMyc7XG4gICAgICBjb25zdCB0YXNrSWQgPSBUYXNrSWQuY3JlYXRlKHZhbGlkVXVpZCkuZ2V0VmFsdWUoKSE7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3Mvb3RoZXItdGFzay5tZCcpO1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IHsgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwOTknIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRCeUlkKHRhc2tJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kQWxsJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFsbCB0YXNrcyBmcm9tIFRhc2tzIGZvbGRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFtcbiAgICAgICAgbmV3IFRGaWxlKCdUYXNrcy90YXNrMS5tZCcpLFxuICAgICAgICBuZXcgVEZpbGUoJ1Rhc2tzL3Rhc2syLm1kJyksXG4gICAgICAgIG5ldyBURmlsZSgnTm90ZXMvbm90LWEtdGFzay5tZCcpIC8vIFNob3VsZCBiZSBpZ25vcmVkXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBtb2NrRnJvbnRtYXR0ZXIxID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAxMCcsXG4gICAgICAgIHRpdGxlOiAnVGFzayAxJyxcbiAgICAgICAgc3RhdHVzOiAndG9kbycsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyMiA9IHtcbiAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMTEnLFxuICAgICAgICB0aXRsZTogJ1Rhc2sgMicsXG4gICAgICAgIHN0YXR1czogJ2RvbmUnLFxuICAgICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKG1vY2tGaWxlcyk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja0ltcGxlbWVudGF0aW9uKChmaWxlOiBURmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZS5wYXRoID09PSAnVGFza3MvdGFzazEubWQnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlcjEgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsZS5wYXRoID09PSAnVGFza3MvdGFzazIubWQnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlcjIgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrSW1wbGVtZW50YXRpb24oKGZpbGU6IFRGaWxlKSA9PiB7XG4gICAgICAgIGlmIChmaWxlLnBhdGggPT09ICdUYXNrcy90YXNrMS5tZCcpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCctLS1cXG5pZDogNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDEwXFxuLS0tXFxuIyBUYXNrIDFcXG5EZXNjcmlwdGlvbiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGUucGF0aCA9PT0gJ1Rhc2tzL3Rhc2syLm1kJykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJy0tLVxcbmlkOiA1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMTFcXG4tLS1cXG4jIFRhc2sgMlxcbkRlc2NyaXB0aW9uIDInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRBbGwoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXS5nZXRUaXRsZSgpKS50b0JlKCdUYXNrIDEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0uZ2V0VGl0bGUoKSkudG9CZSgnVGFzayAyJyk7XG4gICAgICAvLyBOb3RlOiBUYXNrIGVudGl0eSBnZW5lcmF0ZXMgbmV3IElEcywgbm90IHVzaW5nIGZyb250bWF0dGVyIElEc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZW1wdHkgYXJyYXkgd2hlbiBubyB0YXNrcyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEFsbCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFtdKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2tpcCBmaWxlcyB3aXRoIGludmFsaWQgdGFzayBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ZpbGUgPSBuZXcgVEZpbGUoJ1Rhc2tzL2ludmFsaWQtdGFzay5tZCcpO1xuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7IGludmFsaWQ6ICdkYXRhJyB9XG4gICAgICB9KTtcbiAgICAgIG1vY2tWYXVsdC5yZWFkLm1vY2tSZXNvbHZlZFZhbHVlKCdpbnZhbGlkIGNvbnRlbnQnKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQWxsKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZmluZEJ5UHJvamVjdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgYnkgcHJvamVjdCBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IEFzc2V0SWQuY3JlYXRlKCc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMjAnKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9wcm9qZWN0LXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAyMScsXG4gICAgICAgIHRpdGxlOiAnUHJvamVjdCBUYXNrJyxcbiAgICAgICAgcHJvamVjdElkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDIwJyxcbiAgICAgICAgc3RhdHVzOiAndG9kbycsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlclxuICAgICAgfSk7XG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrUmVzb2x2ZWRWYWx1ZSgnLS0tXFxucHJvamVjdElkOiA1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMjBcXG4tLS1cXG5Db250ZW50Jyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEJ5UHJvamVjdChwcm9qZWN0SWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0WzBdLmdldFByb2plY3RJZCgpPy50b1N0cmluZygpKS50b0JlKCc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMjAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gbm8gdGFza3MgbWF0Y2ggcHJvamVjdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IEFzc2V0SWQuY3JlYXRlKCc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMjInKS5nZXRWYWx1ZSgpITtcbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEJ5UHJvamVjdChwcm9qZWN0SWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKFtdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRCeVN0YXR1cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgYnkgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gVGFza1N0YXR1cy5jcmVhdGUoJ2RvbmUnKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9kb25lLXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAzMCcsXG4gICAgICAgIHRpdGxlOiAnQ29tcGxldGVkIFRhc2snLFxuICAgICAgICBzdGF0dXM6ICdkb25lJyxcbiAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbbW9ja0ZpbGVdKTtcbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9udG1hdHRlcjogbW9ja0Zyb250bWF0dGVyXG4gICAgICB9KTtcbiAgICAgIG1vY2tWYXVsdC5yZWFkLm1vY2tSZXNvbHZlZFZhbHVlKCctLS1cXG5pZDogNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDMwXFxuc3RhdHVzOiBkb25lXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRCeVN0YXR1cyhzdGF0dXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0WzBdLmdldFN0YXR1cygpLnRvU3RyaW5nKCkpLnRvQmUoJ2RvbmUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gbm8gdGFza3MgbWF0Y2ggc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gVGFza1N0YXR1cy5jcmVhdGUoJ2NhbmNlbGxlZCcpLmdldFZhbHVlKCkhO1xuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFtdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlTdGF0dXMoc3RhdHVzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kQnlQcmlvcml0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgYnkgcHJpb3JpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcmlvcml0eSA9IFByaW9yaXR5LmNyZWF0ZSgnaGlnaCcpLmdldFZhbHVlKCkhO1xuICAgICAgY29uc3QgbW9ja0ZpbGUgPSBuZXcgVEZpbGUoJ1Rhc2tzL2hpZ2gtcHJpb3JpdHktdGFzay5tZCcpO1xuXG4gICAgICBjb25zdCBtb2NrRnJvbnRtYXR0ZXIgPSB7XG4gICAgICAgIGlkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDQwJyxcbiAgICAgICAgdGl0bGU6ICdIaWdoIFByaW9yaXR5IFRhc2snLFxuICAgICAgICBzdGF0dXM6ICd0b2RvJyxcbiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlclxuICAgICAgfSk7XG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrUmVzb2x2ZWRWYWx1ZSgnLS0tXFxuaWQ6IDU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA0MFxcbnByaW9yaXR5OiBoaWdoXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRCeVByaW9yaXR5KHByaW9yaXR5KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXS5nZXRQcmlvcml0eSgpLnRvU3RyaW5nKCkpLnRvQmUoJ2hpZ2gnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRCeVRhZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgYnkgdGFnJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGFnID0gJ3VyZ2VudCc7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvdGFnZ2VkLXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA1MCcsXG4gICAgICAgIHRpdGxlOiAnVGFnZ2VkIFRhc2snLFxuICAgICAgICBzdGF0dXM6ICd0b2RvJyxcbiAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICB0YWdzOiBbJ3VyZ2VudCcsICdpbXBvcnRhbnQnXSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlclxuICAgICAgfSk7XG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrUmVzb2x2ZWRWYWx1ZSgnLS0tXFxuaWQ6IDU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA1MFxcbnRhZ3M6IFt1cmdlbnQsIGltcG9ydGFudF1cXG4tLS1cXG5Db250ZW50Jyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEJ5VGFnKHRhZyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uZ2V0VGFncygpKS50b0NvbnRhaW4oJ3VyZ2VudCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGFza3Mgd2l0aG91dCB0YWdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGFnID0gJ25vbmV4aXN0ZW50JztcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9uby10YWdzLXRhc2subWQnKTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwNTEnLFxuICAgICAgICAgIHRpdGxlOiAnTm8gVGFncyBUYXNrJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlUYWcodGFnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kT3ZlcmR1ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgb3ZlcmR1ZSB0YXNrcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKCk7XG4gICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7XG5cbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9vdmVyZHVlLXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA2MCcsXG4gICAgICAgIHRpdGxlOiAnT3ZlcmR1ZSBUYXNrJyxcbiAgICAgICAgc3RhdHVzOiAndG9kbycsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgZHVlRGF0ZTogeWVzdGVyZGF5LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiBtb2NrRnJvbnRtYXR0ZXJcbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJy0tLVxcbmlkOiA1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwNjBcXG5kdWVEYXRlOiAnICsgeWVzdGVyZGF5LnRvSVNPU3RyaW5nKCkgKyAnXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRPdmVyZHVlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uZ2V0RHVlRGF0ZSgpPy5nZXRUaW1lKCkpLnRvQmUoeWVzdGVyZGF5LmdldFRpbWUoKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBpbmNsdWRlIGNvbXBsZXRlZCBvdmVyZHVlIHRhc2tzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKTtcblxuICAgICAgY29uc3QgbW9ja0ZpbGUgPSBuZXcgVEZpbGUoJ1Rhc2tzL2NvbXBsZXRlZC1vdmVyZHVlLXRhc2subWQnKTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwNjEnLFxuICAgICAgICAgIGR1ZURhdGU6IHllc3RlcmRheS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHN0YXR1czogJ2RvbmUnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRPdmVyZHVlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZmluZER1ZVRvZGF5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmluZCB0YXNrcyBkdWUgdG9kYXknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICB0b2RheS5zZXRIb3VycygxMiwgMCwgMCwgMCk7IC8vIE1pZGRheSB0b2RheVxuXG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvZHVlLXRvZGF5LXRhc2subWQnKTtcblxuICAgICAgY29uc3QgbW9ja0Zyb250bWF0dGVyID0ge1xuICAgICAgICBpZDogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA3MCcsXG4gICAgICAgIHRpdGxlOiAnRHVlIFRvZGF5IFRhc2snLFxuICAgICAgICBzdGF0dXM6ICd0b2RvJyxcbiAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICBkdWVEYXRlOiB0b2RheS50b0lTT1N0cmluZygpLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbbW9ja0ZpbGVdKTtcbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9udG1hdHRlcjogbW9ja0Zyb250bWF0dGVyXG4gICAgICB9KTtcbiAgICAgIG1vY2tWYXVsdC5yZWFkLm1vY2tSZXNvbHZlZFZhbHVlKCctLS1cXG5pZDogNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDcwXFxuZHVlRGF0ZTogJyArIHRvZGF5LnRvSVNPU3RyaW5nKCkgKyAnXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmREdWVUb2RheSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kRHVlQmV0d2VlbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgZHVlIHdpdGhpbiBkYXRlIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgZW5kRGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpICsgNyk7XG5cbiAgICAgIGNvbnN0IGR1ZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgZHVlRGF0ZS5zZXREYXRlKGR1ZURhdGUuZ2V0RGF0ZSgpICsgMyk7XG5cbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9kdWUtaW4tcmFuZ2UtdGFzay5tZCcpO1xuXG4gICAgICBjb25zdCBtb2NrRnJvbnRtYXR0ZXIgPSB7XG4gICAgICAgIGlkOiAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMDgwJyxcbiAgICAgICAgdGl0bGU6ICdEdWUgSW4gUmFuZ2UgVGFzaycsXG4gICAgICAgIHN0YXR1czogJ3RvZG8nLFxuICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIGR1ZURhdGU6IGR1ZURhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IG1vY2tGcm9udG1hdHRlclxuICAgICAgfSk7XG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrUmVzb2x2ZWRWYWx1ZSgnLS0tXFxuaWQ6IDU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDA4MFxcbmR1ZURhdGU6ICcgKyBkdWVEYXRlLnRvSVNPU3RyaW5nKCkgKyAnXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmREdWVCZXR3ZWVuKHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhjbHVkZSB0YXNrcyBvdXRzaWRlIGRhdGUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBlbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgKyA3KTtcblxuICAgICAgY29uc3Qgb3V0c2lkZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgb3V0c2lkZURhdGUuc2V0RGF0ZShvdXRzaWRlRGF0ZS5nZXREYXRlKCkgKyAxMCk7XG5cbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9vdXRzaWRlLXJhbmdlLXRhc2subWQnKTtcblxuICAgICAgbW9ja1ZhdWx0LmdldE1hcmtkb3duRmlsZXMubW9ja1JldHVyblZhbHVlKFttb2NrRmlsZV0pO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwODEnLFxuICAgICAgICAgIGR1ZURhdGU6IG91dHNpZGVEYXRlLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZER1ZUJldHdlZW4oc3RhcnREYXRlLCBlbmREYXRlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kQnlDcml0ZXJpYScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFza3MgbWF0Y2hpbmcgYWxsIGNyaXRlcmlhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gVGFza1N0YXR1cy5jcmVhdGUoJ3RvZG8nKS5nZXRWYWx1ZSgpITtcbiAgICAgIGNvbnN0IHByaW9yaXR5ID0gUHJpb3JpdHkuY3JlYXRlKCdoaWdoJykuZ2V0VmFsdWUoKSE7XG4gICAgICBjb25zdCBwcm9qZWN0SWQgPSBBc3NldElkLmNyZWF0ZSgndGVzdC1wcm9qZWN0JykuZ2V0VmFsdWUoKSE7XG5cbiAgICAgIC8vIE1vY2sgZmluZEFsbCB0byByZXR1cm4gdGVzdCBkYXRhXG4gICAgICBjb25zdCBtb2NrVGFzayA9IFRhc2suY3JlYXRlKHtcbiAgICAgICAgdGl0bGU6ICdUZXN0IFRhc2snLFxuICAgICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICAgIHRhZ3M6IFsndXJnZW50JywgJ3Rlc3QnXVxuICAgICAgfSkuZ2V0VmFsdWUoKSE7XG5cbiAgICAgIC8vIFNldCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdGhhdCB3b3VsZCBiZSBzZXQgYnkgdGhlIHRhc2tcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2ssICdnZXRTdGF0dXMnKS5tb2NrUmV0dXJuVmFsdWUoc3RhdHVzKTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2ssICdnZXRQcm9qZWN0SWQnKS5tb2NrUmV0dXJuVmFsdWUocHJvamVjdElkKTtcblxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZmluZEFsbCcpLm1vY2tSZXNvbHZlZFZhbHVlKFttb2NrVGFza10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRCeUNyaXRlcmlhKHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgcHJvamVjdElkLFxuICAgICAgICB0YWdzOiBbJ3VyZ2VudCddXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXSkudG9CZShtb2NrVGFzayk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSBhcnJheSB3aGVuIG5vIHRhc2tzIG1hdGNoIGNyaXRlcmlhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZmluZEFsbCcpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlDcml0ZXJpYSh7XG4gICAgICAgIHN0YXR1czogVGFza1N0YXR1cy5jcmVhdGUoJ2NhbmNlbGxlZCcpLmdldFZhbHVlKCkhXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzYXZlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIG5ldyB0YXNrIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0YXNrID0gVGFzay5jcmVhdGUoe1xuICAgICAgICB0aXRsZTogJ05ldyBUYXNrJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBIG5ldyB0ZXN0IHRhc2snXG4gICAgICB9KS5nZXRWYWx1ZSgpITtcblxuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XG4gICAgICBtb2NrVmF1bHQuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKG5ldyBURmlsZSgnVGFza3MvTmV3IFRhc2subWQnKSk7XG5cbiAgICAgIGF3YWl0IHJlcG9zaXRvcnkuc2F2ZSh0YXNrKTtcblxuICAgICAgZXhwZWN0KG1vY2tWYXVsdC5jcmVhdGVGb2xkZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdUYXNrcycpO1xuICAgICAgZXhwZWN0KG1vY2tWYXVsdC5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnVGFza3MvTmV3IFRhc2subWQnLFxuICAgICAgICAnJ1xuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb2NrVmF1bHQubW9kaWZ5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoKHJlcG9zaXRvcnkgYXMgYW55KS50YXNrQ2FjaGUuaGFzKHRhc2suZ2V0SWQoKS50b1N0cmluZygpKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChOb3RpY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdUYXNrIFwiTmV3IFRhc2tcIiBzYXZlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGV4aXN0aW5nIHRhc2sgZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRhc2sgPSBUYXNrLmNyZWF0ZSh7XG4gICAgICAgIHRpdGxlOiAnRXhpc3RpbmcgVGFzaydcbiAgICAgIH0pLmdldFZhbHVlKCkhO1xuXG4gICAgICBjb25zdCBleGlzdGluZ0ZpbGUgPSBuZXcgVEZpbGUoJ1Rhc2tzL0V4aXN0aW5nIFRhc2subWQnKTtcbiAgICAgIG1vY2tWYXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgubW9ja1JldHVyblZhbHVlKGV4aXN0aW5nRmlsZSk7XG5cbiAgICAgIGF3YWl0IHJlcG9zaXRvcnkuc2F2ZSh0YXNrKTtcblxuICAgICAgZXhwZWN0KG1vY2tWYXVsdC5jcmVhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja1ZhdWx0Lm1vZGlmeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4aXN0aW5nRmlsZSxcbiAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJyMgRXhpc3RpbmcgVGFzaycpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmlsZSBwYXRoIGNvbmZsaWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRhc2sgPSBUYXNrLmNyZWF0ZSh7XG4gICAgICAgIHRpdGxlOiAnVGVzdCBUYXNrJ1xuICAgICAgfSkuZ2V0VmFsdWUoKSE7XG5cbiAgICAgIC8vIE1vY2sgZm9sZGVyIGV4aXN0cyBhdCB0aGUgcGF0aFxuICAgICAgY29uc3QgbW9ja0ZvbGRlciA9IHsgaXNGaWxlOiAoKSA9PiBmYWxzZSB9O1xuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobW9ja0ZvbGRlcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvc2l0b3J5LnNhdmUodGFzaykpLnJlamVjdHMudG9UaHJvdygnRmlsZSBwYXRoIGV4aXN0cyBidXQgaXMgbm90IGEgZmlsZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2F2ZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0YXNrID0gVGFzay5jcmVhdGUoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yIFRhc2snXG4gICAgICB9KS5nZXRWYWx1ZSgpITtcblxuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XG4gICAgICBtb2NrVmF1bHQuY3JlYXRlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGlzayBmdWxsJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwb3NpdG9yeS5zYXZlKHRhc2spKS5yZWplY3RzLnRvVGhyb3coJ0Rpc2sgZnVsbCcpO1xuICAgICAgZXhwZWN0KE5vdGljZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0ZhaWxlZCB0byBzYXZlIHRhc2s6IERpc2sgZnVsbCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSBmaWxlbmFtZSB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRhc2sgPSBUYXNrLmNyZWF0ZSh7XG4gICAgICAgIHRpdGxlOiAnVGFzazogV2l0aCAvIFNwZWNpYWwgKiBDaGFyYWN0ZXJzPydcbiAgICAgIH0pLmdldFZhbHVlKCkhO1xuXG4gICAgICBtb2NrVmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcbiAgICAgIG1vY2tWYXVsdC5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUobmV3IFRGaWxlKCdUYXNrcy9zYW5pdGl6ZWQubWQnKSk7XG5cbiAgICAgIGF3YWl0IHJlcG9zaXRvcnkuc2F2ZSh0YXNrKTtcblxuICAgICAgZXhwZWN0KG1vY2tWYXVsdC5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1Rhc2tzXFwvVGFzay0gV2l0aCAtIFNwZWNpYWwgLSBDaGFyYWN0ZXJzLS5tZC8pLFxuICAgICAgICAnJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlbGV0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBleGlzdGluZyB0YXNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRVdWlkID0gJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDEwMCc7XG4gICAgICBjb25zdCB0YXNrSWQgPSBUYXNrSWQuY3JlYXRlKHZhbGlkVXVpZCkuZ2V0VmFsdWUoKSE7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvdGVzdC10YXNrLm1kJyk7XG5cbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbbW9ja0ZpbGVdKTtcbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9udG1hdHRlcjogeyBpZDogdmFsaWRVdWlkIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCByZXBvc2l0b3J5LmRlbGV0ZSh0YXNrSWQpO1xuXG4gICAgICBleHBlY3QobW9ja1ZhdWx0LmRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0ZpbGUpO1xuICAgICAgZXhwZWN0KChyZXBvc2l0b3J5IGFzIGFueSkudGFza0NhY2hlLmhhcyh2YWxpZFV1aWQpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChOb3RpY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdUYXNrIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gdGFzayBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMTAxJztcbiAgICAgIGNvbnN0IHRhc2tJZCA9IFRhc2tJZC5jcmVhdGUodmFsaWRVdWlkKS5nZXRWYWx1ZSgpITtcbiAgICAgIG1vY2tWYXVsdC5nZXRNYXJrZG93bkZpbGVzLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvc2l0b3J5LmRlbGV0ZSh0YXNrSWQpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdUYXNrIHdpdGggaWQgJyArIHZhbGlkVXVpZCArICcgbm90IGZvdW5kJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2V4aXN0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIHdoZW4gdGFzayBleGlzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFV1aWQgPSAnNTUwZTg0MDAtZTI5Yi00MWQ0LWE3MTYtNDQ2NjU1NDQwMTEwJztcbiAgICAgIGNvbnN0IHRhc2tJZCA9IFRhc2tJZC5jcmVhdGUodmFsaWRVdWlkKS5nZXRWYWx1ZSgpITtcbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2ZpbmRCeUlkJykubW9ja1Jlc29sdmVkVmFsdWUoXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdUZXN0JyB9KS5nZXRWYWx1ZSgpIVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5leGlzdHModGFza0lkKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gdGFzayBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkVXVpZCA9ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAxMTEnO1xuICAgICAgY29uc3QgdGFza0lkID0gVGFza0lkLmNyZWF0ZSh2YWxpZFV1aWQpLmdldFZhbHVlKCkhO1xuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZmluZEJ5SWQnKS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5leGlzdHModGFza0lkKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kQnlGaWxlbmFtZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbmQgdGFzayBieSBmaWxlbmFtZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gJ3Rlc3QtdGFzay5tZCc7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvdGVzdC10YXNrLm1kJyk7XG5cbiAgICAgIGNvbnN0IG1vY2tGcm9udG1hdHRlciA9IHtcbiAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAxMjAnLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgVGFzaycsXG4gICAgICAgIHN0YXR1czogJ3RvZG8nLFxuICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobW9ja0ZpbGUpO1xuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiBtb2NrRnJvbnRtYXR0ZXJcbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJy0tLVxcbmlkOiA1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAxMjBcXG4tLS1cXG5Db250ZW50Jyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEJ5RmlsZW5hbWUoZmlsZW5hbWUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LmdldFRpdGxlKCkpLnRvQmUoJ1Rlc3QgVGFzaycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCB3aGVuIGZpbGUgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUobnVsbCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZEJ5RmlsZW5hbWUoJ25vbmV4aXN0ZW50Lm1kJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIHdoZW4gZmlsZSBpcyBub3QgYSBURmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tWYXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgubW9ja1JldHVyblZhbHVlKHsgaXNGaWxlOiAoKSA9PiBmYWxzZSB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kQnlGaWxlbmFtZSgnZm9sZGVyJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRTdGF0aXN0aWNzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvbXByZWhlbnNpdmUgdGFzayBzdGF0aXN0aWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKCk7XG4gICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKCk7XG4gICAgICB0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93LmdldERhdGUoKSArIDEpO1xuICAgICAgY29uc3QgbmV4dFdlZWsgPSBuZXcgRGF0ZSgpO1xuICAgICAgbmV4dFdlZWsuc2V0RGF0ZShuZXh0V2Vlay5nZXREYXRlKCkgKyA1KTtcblxuICAgICAgY29uc3QgbW9ja1Rhc2tzID0gW1xuICAgICAgICAvLyBDb21wbGV0ZWQgdGFza1xuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnRG9uZSBUYXNrJyB9KS5nZXRWYWx1ZSgpISxcbiAgICAgICAgLy8gT3ZlcmR1ZSB0YXNrXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdPdmVyZHVlIFRhc2snIH0pLmdldFZhbHVlKCkhLFxuICAgICAgICAvLyBEdWUgdG9kYXkgdGFza1xuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnVG9kYXkgVGFzaycgfSkuZ2V0VmFsdWUoKSEsXG4gICAgICAgIC8vIER1ZSB0aGlzIHdlZWsgdGFza1xuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnV2VlayBUYXNrJyB9KS5nZXRWYWx1ZSgpIVxuICAgICAgXTtcblxuICAgICAgLy8gTW9jayB0YXNrIHByb3BlcnRpZXNcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzBdLCAnZ2V0U3RhdHVzJykubW9ja1JldHVyblZhbHVlKFRhc2tTdGF0dXMuY3JlYXRlKCdkb25lJykuZ2V0VmFsdWUoKSEpO1xuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbMF0sICdnZXRQcmlvcml0eScpLm1vY2tSZXR1cm5WYWx1ZShQcmlvcml0eS5jcmVhdGUoJ2hpZ2gnKS5nZXRWYWx1ZSgpISk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1swXSwgJ2dldER1ZURhdGUnKS5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzBdLCAnZ2V0Q3JlYXRlZEF0JykubW9ja1JldHVyblZhbHVlKHllc3RlcmRheSk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1swXSwgJ2dldFVwZGF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZShub3cpO1xuXG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1sxXSwgJ2dldFN0YXR1cycpLm1vY2tSZXR1cm5WYWx1ZShUYXNrU3RhdHVzLmNyZWF0ZSgndG9kbycpLmdldFZhbHVlKCkhKTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzFdLCAnZ2V0UHJpb3JpdHknKS5tb2NrUmV0dXJuVmFsdWUoUHJpb3JpdHkuY3JlYXRlKCdtZWRpdW0nKS5nZXRWYWx1ZSgpISk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1sxXSwgJ2dldER1ZURhdGUnKS5tb2NrUmV0dXJuVmFsdWUodW5kZWZpbmVkKTsgLy8gTm8gZHVlIGRhdGUsIHNvIG5vdCBvdmVyZHVlXG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1sxXSwgJ2dldENyZWF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZSh5ZXN0ZXJkYXkpO1xuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbMV0sICdnZXRVcGRhdGVkQXQnKS5tb2NrUmV0dXJuVmFsdWUoeWVzdGVyZGF5KTtcblxuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbMl0sICdnZXRTdGF0dXMnKS5tb2NrUmV0dXJuVmFsdWUoVGFza1N0YXR1cy5jcmVhdGUoJ2luLXByb2dyZXNzJykuZ2V0VmFsdWUoKSEpO1xuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbMl0sICdnZXRQcmlvcml0eScpLm1vY2tSZXR1cm5WYWx1ZShQcmlvcml0eS5jcmVhdGUoJ2xvdycpLmdldFZhbHVlKCkhKTtcbiAgICAgIC8vIFNldCBkdWUgZGF0ZSB0byBsYXRlciB0b2RheSBzbyBpdCdzIG5vdCBvdmVyZHVlXG4gICAgICBjb25zdCBsYXRlclRvZGF5ID0gbmV3IERhdGUobm93KTtcbiAgICAgIGxhdGVyVG9kYXkuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzJdLCAnZ2V0RHVlRGF0ZScpLm1vY2tSZXR1cm5WYWx1ZShsYXRlclRvZGF5KTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzJdLCAnZ2V0Q3JlYXRlZEF0JykubW9ja1JldHVyblZhbHVlKHllc3RlcmRheSk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1syXSwgJ2dldFVwZGF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZShub3cpO1xuXG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1szXSwgJ2dldFN0YXR1cycpLm1vY2tSZXR1cm5WYWx1ZShUYXNrU3RhdHVzLmNyZWF0ZSgndG9kbycpLmdldFZhbHVlKCkhKTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzNdLCAnZ2V0UHJpb3JpdHknKS5tb2NrUmV0dXJuVmFsdWUoUHJpb3JpdHkuY3JlYXRlKCdtZWRpdW0nKS5nZXRWYWx1ZSgpISk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1szXSwgJ2dldER1ZURhdGUnKS5tb2NrUmV0dXJuVmFsdWUobmV4dFdlZWspO1xuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbM10sICdnZXRDcmVhdGVkQXQnKS5tb2NrUmV0dXJuVmFsdWUoeWVzdGVyZGF5KTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzNdLCAnZ2V0VXBkYXRlZEF0JykubW9ja1JldHVyblZhbHVlKG5vdyk7XG5cbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2ZpbmRBbGwnKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGFza3MpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmdldFN0YXRpc3RpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbCkudG9CZSg0KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYnlTdGF0dXMuZG9uZSkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYnlTdGF0dXMudG9kbykudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYnlTdGF0dXNbJ2luLXByb2dyZXNzJ10pLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0LmJ5UHJpb3JpdHkuaGlnaCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYnlQcmlvcml0eS5tZWRpdW0pLnRvQmUoMik7XG4gICAgICBleHBlY3QocmVzdWx0LmJ5UHJpb3JpdHkubG93KS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wbGV0ZWQpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJkdWUpLnRvQmUoMCk7IC8vIE9ubHkgdGFzayB3aXRoIGR1ZSBkYXRlIDwgbm93IGFuZCBub3QgZG9uZSBjb3VudHMgYXMgb3ZlcmR1ZVxuICAgICAgZXhwZWN0KHJlc3VsdC5kdWVUb2RheSkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZHVlVGhpc1dlZWspLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXZlcmFnZUNvbXBsZXRpb25UaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSB0YXNrIGxpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICdmaW5kQWxsJykubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmdldFN0YXRpc3RpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tcGxldGVkKS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyZHVlKS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kdWVUb2RheSkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXZlcmFnZUNvbXBsZXRpb25UaW1lKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzZWFyY2gnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzZWFyY2ggdGFza3MgYnkgdGl0bGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVGFza3MgPSBbXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdJbXBvcnRhbnQgVGFzaycgfSkuZ2V0VmFsdWUoKSEsXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdSZWd1bGFyIFRhc2snIH0pLmdldFZhbHVlKCkhLFxuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnQW5vdGhlciBJbXBvcnRhbnQgSXRlbScgfSkuZ2V0VmFsdWUoKSFcbiAgICAgIF07XG5cbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2ZpbmRBbGwnKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGFza3MpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LnNlYXJjaCgnaW1wb3J0YW50Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uZ2V0VGl0bGUoKSkudG9CZSgnSW1wb3J0YW50IFRhc2snKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0uZ2V0VGl0bGUoKSkudG9CZSgnQW5vdGhlciBJbXBvcnRhbnQgSXRlbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZWFyY2ggdGFza3MgYnkgZGVzY3JpcHRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVGFzayA9IFRhc2suY3JlYXRlKHsgXG4gICAgICAgIHRpdGxlOiAnVGFzaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBoYXMgaW1wb3J0YW50IGNvbnRlbnQnXG4gICAgICB9KS5nZXRWYWx1ZSgpITtcblxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZmluZEFsbCcpLm1vY2tSZXNvbHZlZFZhbHVlKFttb2NrVGFza10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LnNlYXJjaCgnaW1wb3J0YW50Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VhcmNoIHRhc2tzIGJ5IHRhZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVGFzayA9IFRhc2suY3JlYXRlKHsgXG4gICAgICAgIHRpdGxlOiAnVGFzaycsXG4gICAgICAgIHRhZ3M6IFsnaW1wb3J0YW50JywgJ3VyZ2VudCddXG4gICAgICB9KS5nZXRWYWx1ZSgpITtcblxuICAgICAgamVzdC5zcHlPbihyZXBvc2l0b3J5LCAnZmluZEFsbCcpLm1vY2tSZXNvbHZlZFZhbHVlKFttb2NrVGFza10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LnNlYXJjaCgndXJnZW50Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgY2FzZSBpbnNlbnNpdGl2ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tUYXNrID0gVGFzay5jcmVhdGUoeyB0aXRsZTogJ0ltcG9ydGFudCBUYXNrJyB9KS5nZXRWYWx1ZSgpITtcbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2ZpbmRBbGwnKS5tb2NrUmVzb2x2ZWRWYWx1ZShbbW9ja1Rhc2tdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5zZWFyY2goJ0lNUE9SVEFOVCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kUmVjZW50bHlVcGRhdGVkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRhc2tzIHNvcnRlZCBieSB1cGRhdGUgZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBob3VyQWdvID0gbmV3IERhdGUobm93LmdldFRpbWUoKSAtIDYwICogNjAgKiAxMDAwKTtcbiAgICAgIGNvbnN0IGRheUFnbyA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcblxuICAgICAgY29uc3QgbW9ja1Rhc2tzID0gW1xuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnT2xkIFRhc2snIH0pLmdldFZhbHVlKCkhLFxuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnUmVjZW50IFRhc2snIH0pLmdldFZhbHVlKCkhLFxuICAgICAgICBUYXNrLmNyZWF0ZSh7IHRpdGxlOiAnTGF0ZXN0IFRhc2snIH0pLmdldFZhbHVlKCkhXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1swXSwgJ2dldFVwZGF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZShkYXlBZ28pO1xuICAgICAgamVzdC5zcHlPbihtb2NrVGFza3NbMV0sICdnZXRVcGRhdGVkQXQnKS5tb2NrUmV0dXJuVmFsdWUoaG91ckFnbyk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1syXSwgJ2dldFVwZGF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZShub3cpO1xuXG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICdmaW5kQWxsJykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Rhc2tzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kUmVjZW50bHlVcGRhdGVkKDIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QocmVzdWx0WzBdLmdldFRpdGxlKCkpLnRvQmUoJ0xhdGVzdCBUYXNrJyk7XG4gICAgICBleHBlY3QocmVzdWx0WzFdLmdldFRpdGxlKCkpLnRvQmUoJ1JlY2VudCBUYXNrJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgdG8gMTAgaXRlbXMgbGltaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVGFza3MgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxNSB9LCAoXywgaSkgPT4gXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6IGBUYXNrICR7aX1gIH0pLmdldFZhbHVlKCkhXG4gICAgICApO1xuXG4gICAgICBqZXN0LnNweU9uKHJlcG9zaXRvcnksICdmaW5kQWxsJykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Rhc2tzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5maW5kUmVjZW50bHlVcGRhdGVkKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kUmVjZW50bHlDcmVhdGVkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRhc2tzIHNvcnRlZCBieSBjcmVhdGlvbiBkYXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IGhvdXJBZ28gPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpIC0gNjAgKiA2MCAqIDEwMDApO1xuICAgICAgY29uc3QgZGF5QWdvID0gbmV3IERhdGUobm93LmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgICBjb25zdCBtb2NrVGFza3MgPSBbXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdPbGQgVGFzaycgfSkuZ2V0VmFsdWUoKSEsXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdSZWNlbnQgVGFzaycgfSkuZ2V0VmFsdWUoKSEsXG4gICAgICAgIFRhc2suY3JlYXRlKHsgdGl0bGU6ICdMYXRlc3QgVGFzaycgfSkuZ2V0VmFsdWUoKSFcbiAgICAgIF07XG5cbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzBdLCAnZ2V0Q3JlYXRlZEF0JykubW9ja1JldHVyblZhbHVlKGRheUFnbyk7XG4gICAgICBqZXN0LnNweU9uKG1vY2tUYXNrc1sxXSwgJ2dldENyZWF0ZWRBdCcpLm1vY2tSZXR1cm5WYWx1ZShob3VyQWdvKTtcbiAgICAgIGplc3Quc3B5T24obW9ja1Rhc2tzWzJdLCAnZ2V0Q3JlYXRlZEF0JykubW9ja1JldHVyblZhbHVlKG5vdyk7XG5cbiAgICAgIGplc3Quc3B5T24ocmVwb3NpdG9yeSwgJ2ZpbmRBbGwnKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGFza3MpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRSZWNlbnRseUNyZWF0ZWQoMik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uZ2V0VGl0bGUoKSkudG9CZSgnTGF0ZXN0IFRhc2snKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMV0uZ2V0VGl0bGUoKSkudG9CZSgnUmVjZW50IFRhc2snKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xvYWRUYXNrRnJvbUZpbGUgLSBlcnJvciBoYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGZvciBmaWxlIHdpdGhvdXQgZnJvbnRtYXR0ZXIgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvaW52YWxpZC10YXNrLm1kJyk7XG5cbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9udG1hdHRlcjogeyB0aXRsZTogJ05vIElEIFRhc2snIH1cbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJy0tLVxcbnRpdGxlOiBObyBJRCBUYXNrXFxuLS0tXFxuQ29udGVudCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAocmVwb3NpdG9yeSBhcyBhbnkpLmxvYWRUYXNrRnJvbUZpbGUobW9ja0ZpbGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgaW52YWxpZCBwcmlvcml0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9pbnZhbGlkLXByaW9yaXR5Lm1kJyk7XG5cbiAgICAgIG1vY2tNZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBmcm9udG1hdHRlcjoge1xuICAgICAgICAgIGlkOiAndGFzay0xJyxcbiAgICAgICAgICBwcmlvcml0eTogJ2ludmFsaWQtcHJpb3JpdHknXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJy0tLVxcbmlkOiB0YXNrLTFcXG4tLS1cXG5Db250ZW50Jyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChyZXBvc2l0b3J5IGFzIGFueSkubG9hZFRhc2tGcm9tRmlsZShtb2NrRmlsZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGZvciBpbnZhbGlkIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9pbnZhbGlkLXN0YXR1cy5tZCcpO1xuXG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZnJvbnRtYXR0ZXI6IHtcbiAgICAgICAgICBpZDogJ3Rhc2stMScsXG4gICAgICAgICAgc3RhdHVzOiAnaW52YWxpZC1zdGF0dXMnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJy0tLVxcbmlkOiB0YXNrLTFcXG4tLS1cXG5Db250ZW50Jyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChyZXBvc2l0b3J5IGFzIGFueSkubG9hZFRhc2tGcm9tRmlsZShtb2NrRmlsZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YXVsdCByZWFkIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9lcnJvci10YXNrLm1kJyk7XG5cbiAgICAgIG1vY2tWYXVsdC5yZWFkLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRmlsZSByZWFkIGVycm9yJykpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAocmVwb3NpdG9yeSBhcyBhbnkpLmxvYWRUYXNrRnJvbUZpbGUobW9ja0ZpbGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVUYXNrQ29udGVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIHByb3BlciBtYXJrZG93biBjb250ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGFzayA9IFRhc2suY3JlYXRlKHtcbiAgICAgICAgdGl0bGU6ICdUZXN0IFRhc2snLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgZGVzY3JpcHRpb24nLFxuICAgICAgICB0YWdzOiBbJ3RhZzEnLCAndGFnMiddXG4gICAgICB9KS5nZXRWYWx1ZSgpITtcblxuICAgICAgY29uc3QgY29udGVudCA9IChyZXBvc2l0b3J5IGFzIGFueSkuZ2VuZXJhdGVUYXNrQ29udGVudCh0YXNrKTtcblxuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbignLS0tJyk7XG4gICAgICBleHBlY3QoY29udGVudCkudG9Db250YWluKCcjIFRlc3QgVGFzaycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbignVGVzdCBkZXNjcmlwdGlvbicpO1xuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbignIyMgRGV0YWlscycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbignIyMgVGFncycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvQ29udGFpbignI3RhZzEgI3RhZzInKTtcbiAgICAgIGV4cGVjdChjb250ZW50KS50b0NvbnRhaW4oJyMjIE5vdGVzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdlbnN1cmVUYXNrc0ZvbGRlcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBUYXNrcyBmb2xkZXIgaWYgaXQgZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoLm1vY2tSZXR1cm5WYWx1ZShudWxsKTtcblxuICAgICAgYXdhaXQgKHJlcG9zaXRvcnkgYXMgYW55KS5lbnN1cmVUYXNrc0ZvbGRlcigpO1xuXG4gICAgICBleHBlY3QobW9ja1ZhdWx0LmNyZWF0ZUZvbGRlcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ1Rhc2tzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBjcmVhdGUgVGFza3MgZm9sZGVyIGlmIGl0IGFscmVhZHkgZXhpc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1ZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aC5tb2NrUmV0dXJuVmFsdWUoeyBleGlzdHM6IHRydWUgfSk7XG5cbiAgICAgIGF3YWl0IChyZXBvc2l0b3J5IGFzIGFueSkuZW5zdXJlVGFza3NGb2xkZXIoKTtcblxuICAgICAgZXhwZWN0KG1vY2tWYXVsdC5jcmVhdGVGb2xkZXIpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzYW5pdGl6ZUZpbGVOYW1lJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVwbGFjZSBpbnZhbGlkIGNoYXJhY3RlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSAocmVwb3NpdG9yeSBhcyBhbnkpLnNhbml0aXplRmlsZU5hbWUoJ0ludmFsaWQvXFxcXDoqP1wiPD58TmFtZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnSW52YWxpZC0tLS0tLS0tLU5hbWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJpbSBhbmQgbGltaXQgbGVuZ3RoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ05hbWUgPSAnYScucmVwZWF0KDE1MCk7XG4gICAgICBjb25zdCByZXN1bHQgPSAocmVwb3NpdG9yeSBhcyBhbnkpLnNhbml0aXplRmlsZU5hbWUobG9uZ05hbWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHN0cmluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXBvc2l0b3J5IGFzIGFueSkuc2FuaXRpemVGaWxlTmFtZSgnJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2VkZ2UgY2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBtZXRhZGF0YSBjYWNoZSByZXNwb25zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tGaWxlID0gbmV3IFRGaWxlKCdUYXNrcy9udWxsLW1ldGFkYXRhLm1kJyk7XG4gICAgICBtb2NrVmF1bHQuZ2V0TWFya2Rvd25GaWxlcy5tb2NrUmV0dXJuVmFsdWUoW21vY2tGaWxlXSk7XG4gICAgICBtb2NrTWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUubW9ja1JldHVyblZhbHVlKG51bGwpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRBbGwoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChbXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgZGF0ZXMgaW4gZnJvbnRtYXR0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRmlsZSA9IG5ldyBURmlsZSgnVGFza3MvYmFkLWRhdGUubWQnKTtcblxuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAyMDAnLFxuICAgICAgICAgIGR1ZURhdGU6ICdub3QtYS1kYXRlJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICdhbHNvLW5vdC1hLWRhdGUnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW9ja1ZhdWx0LnJlYWQubW9ja1Jlc29sdmVkVmFsdWUoJ2NvbnRlbnQnKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKHJlcG9zaXRvcnkgYXMgYW55KS5sb2FkVGFza0Zyb21GaWxlKG1vY2tGaWxlKTtcblxuICAgICAgLy8gVGFzayBjcmVhdGlvbiBzaG91bGQgZmFpbCB3aXRoIGludmFsaWQgdGFzayBJRFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRhc2tzIHdpdGggbm8gY29udGVudCBib2R5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ZpbGUgPSBuZXcgVEZpbGUoJ1Rhc2tzL25vLWJvZHkubWQnKTtcblxuICAgICAgbW9ja01ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGZyb250bWF0dGVyOiB7XG4gICAgICAgICAgaWQ6ICc1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAyMTAnLFxuICAgICAgICAgIHRpdGxlOiAnTm8gQm9keSBUYXNrJyxcbiAgICAgICAgICBzdGF0dXM6ICd0b2RvJyxcbiAgICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtb2NrVmF1bHQucmVhZC5tb2NrUmVzb2x2ZWRWYWx1ZSgnLS0tXFxuaWQ6IDU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDIxMFxcbi0tLScpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAocmVwb3NpdG9yeSBhcyBhbnkpLmxvYWRUYXNrRnJvbUZpbGUobW9ja0ZpbGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LmdldFRpdGxlKCkpLnRvQmUoJ05vIEJvZHkgVGFzaycpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==