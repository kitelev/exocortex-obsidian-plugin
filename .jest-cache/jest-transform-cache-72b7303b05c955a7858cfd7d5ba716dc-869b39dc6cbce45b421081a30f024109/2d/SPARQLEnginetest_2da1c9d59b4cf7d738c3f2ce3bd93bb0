e8f18247cd6d412ebce6ba59ad608b44
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SPARQLEngine_1 = require("../../../src/application/SPARQLEngine");
const Graph_1 = require("../../../src/domain/semantic/core/Graph");
const Triple_1 = require("../../../src/domain/semantic/core/Triple");
describe('SPARQLEngine', () => {
    let engine;
    let graph;
    beforeEach(() => {
        graph = new Graph_1.Graph();
        engine = new SPARQLEngine_1.SPARQLEngine(graph);
    });
    afterEach(() => {
        engine.destroy();
    });
    describe('Basic Functionality', () => {
        it('should create SPARQLEngine with graph', () => {
            expect(engine).toBeDefined();
            expect(engine.getCacheStatistics).toBeDefined();
        });
        it('should create SPARQLEngine with custom cache config', () => {
            const customConfig = {
                maxSize: 100,
                defaultTTL: 1000,
                enabled: false
            };
            const customEngine = new SPARQLEngine_1.SPARQLEngine(graph, customConfig);
            expect(customEngine).toBeDefined();
            expect(customEngine.getCacheConfig().maxSize).toBe(100);
            expect(customEngine.getCacheConfig().defaultTTL).toBe(1000);
            expect(customEngine.getCacheConfig().enabled).toBe(false);
            customEngine.destroy();
        });
        it('should provide cache management methods', () => {
            expect(engine.getCacheStatistics).toBeDefined();
            expect(engine.invalidateCache).toBeDefined();
            expect(engine.updateCacheConfig).toBeDefined();
            expect(engine.getCacheConfig).toBeDefined();
            expect(engine.cleanupCache).toBeDefined();
            expect(engine.destroy).toBeDefined();
        });
    });
    describe('CONSTRUCT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic CONSTRUCT query', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(3);
            expect(result.provenance).toContain('CONSTRUCT query at');
            expect(result.cached).toBe(false);
        });
        it('should execute CONSTRUCT with specific pattern', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasName> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getPredicate().toString()).toBe('http://example.org/hasName');
        });
        it('should execute CONSTRUCT with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.cached).toBe(false);
        });
        it('should handle CONSTRUCT with multiple patterns', () => {
            const query = `CONSTRUCT { 
                ?s <http://example.org/hasInfo> ?name .
                ?s <http://example.org/hasAge> ?age 
            } WHERE { 
                ?s <http://example.org/name> ?name .
                ?s <http://example.org/age> ?age 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle CONSTRUCT with blank nodes', () => {
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Person')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should handle CONSTRUCT with literals of different types', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/boolean'), Triple_1.Literal.boolean(true)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/decimal'), Triple_1.Literal.double(3.14)));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples.length).toBeGreaterThan(3);
        });
        it('should throw error for invalid CONSTRUCT query format', () => {
            const invalidQuery = 'INVALID CONSTRUCT QUERY';
            expect(() => engine.construct(invalidQuery)).toThrow('Invalid CONSTRUCT query format');
        });
        it('should return empty result for non-matching patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(0);
            expect(result.provenance).toContain('CONSTRUCT query at');
        });
        it('should handle CONSTRUCT with variable substitution', () => {
            const query = 'CONSTRUCT { <http://example.org/newPerson> <http://example.org/name> ?name } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getSubject().toString()).toBe('http://example.org/newPerson');
        });
        it('should handle CONSTRUCT with literal patterns', () => {
            const query = 'CONSTRUCT { ?s <http://example.org/hasStringName> "test" } WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
            expect(result.triples[0].getObject().toString()).toBe('"test"^^http://www.w3.org/2001/XMLSchema#string');
        });
    });
    describe('SELECT Query Tests', () => {
        beforeEach(() => {
            // Setup test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person2'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Jane Smith')));
        });
        it('should execute basic SELECT query', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result).toBeDefined();
            expect(result.results).toHaveLength(3);
            expect(result.cached).toBe(false);
        });
        it('should execute SELECT with specific variables', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
        });
        it('should execute SELECT with wildcard', () => {
            const query = 'SELECT * WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(3);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('p');
            expect(result.results[0]).toHaveProperty('o');
        });
        it('should execute SELECT with LIMIT', () => {
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 2';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
        });
        it('should handle SELECT with specific predicate', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results.every(r => r.name)).toBe(true);
        });
        it('should handle SELECT with literal object', () => {
            const query = 'SELECT ?s WHERE { ?s <http://example.org/name> "John Doe" }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].s).toBe('http://example.org/person1');
        });
        it('should throw error for invalid SELECT query format', () => {
            const invalidQuery = 'INVALID SELECT QUERY';
            expect(() => engine.select(invalidQuery)).toThrow('Invalid SPARQL query format');
        });
        it('should return empty result for non-matching SELECT', () => {
            const query = 'SELECT ?s ?o WHERE { ?s <http://nonexistent/prop> ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(0);
            expect(result.cached).toBe(false);
        });
        it('should handle SELECT with multiple variables bound', () => {
            const query = 'SELECT ?s ?name ?age WHERE { ?s <http://example.org/name> ?name . ?s <http://example.org/age> ?age }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0]).toHaveProperty('s');
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).toHaveProperty('age');
        });
        it('should filter variables correctly in SELECT', () => {
            const query = 'SELECT ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(2);
            expect(result.results[0]).toHaveProperty('name');
            expect(result.results[0]).not.toHaveProperty('s');
        });
    });
    describe('Cache Management Tests', () => {
        it('should cache CONSTRUCT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.construct(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.construct(query);
            expect(result2.cached).toBe(true);
            expect(result2.triples).toHaveLength(result1.triples.length);
        });
        it('should cache SELECT results', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // First execution
            const result1 = engine.select(query);
            expect(result1.cached).toBe(false);
            // Second execution should be cached
            const result2 = engine.select(query);
            expect(result2.cached).toBe(true);
            expect(result2.results).toEqual(result1.results);
        });
        it('should invalidate cache correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            // Cache the result
            engine.select(query);
            // Invalidate cache
            engine.invalidateCache();
            // Next execution should not be cached
            const result = engine.select(query);
            expect(result.cached).toBe(false);
        });
        it('should update cache configuration', () => {
            const newConfig = {
                maxSize: 50,
                defaultTTL: 2000,
                enabled: false
            };
            engine.updateCacheConfig(newConfig);
            const config = engine.getCacheConfig();
            expect(config.maxSize).toBe(50);
            expect(config.defaultTTL).toBe(2000);
            expect(config.enabled).toBe(false);
        });
        it('should provide cache statistics', () => {
            const stats = engine.getCacheStatistics();
            expect(stats).toHaveProperty('hits');
            expect(stats).toHaveProperty('misses');
            expect(stats).toHaveProperty('hitRate');
            expect(stats).toHaveProperty('size');
            expect(stats).toHaveProperty('maxSize');
        });
        it('should cleanup expired cache entries', () => {
            // Set short TTL
            engine.updateCacheConfig({ defaultTTL: 1 });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            engine.select(query);
            // Wait for expiration and cleanup
            setTimeout(() => {
                const cleanedCount = engine.cleanupCache();
                expect(cleanedCount).toBeGreaterThanOrEqual(0);
            }, 10);
        });
        it('should respect cache disabled setting', () => {
            // Disable cache
            engine.updateCacheConfig({ enabled: false });
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/s'), new Triple_1.IRI('http://example.org/p'), Triple_1.Literal.string('o')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result1 = engine.select(query);
            const result2 = engine.select(query);
            expect(result1.cached).toBe(false);
            expect(result2.cached).toBe(false);
        });
    });
    describe('Error Handling Tests', () => {
        it('should handle malformed CONSTRUCT queries', () => {
            expect(() => engine.construct('CONSTRUCT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.construct('CONSTRUCT { ?s ?p ?o } MISSING WHERE')).toThrow();
            expect(() => engine.construct('')).toThrow();
        });
        it('should handle malformed SELECT queries', () => {
            expect(() => engine.select('SELECT WHERE { ?s ?p ?o }')).toThrow();
            expect(() => engine.select('SELECT ?s MISSING WHERE')).toThrow();
            expect(() => engine.select('')).toThrow();
        });
        it('should handle queries with invalid syntax gracefully', () => {
            expect(() => engine.construct('CONSTRUCT { } WHERE { }')).not.toThrow();
            expect(() => engine.select('SELECT ?s WHERE { }')).not.toThrow();
        });
        it('should handle null/undefined values in patterns', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result).toBeDefined();
            expect(result.triples).toHaveLength(0);
        });
    });
    describe('Query Optimization Tests', () => {
        beforeEach(() => {
            // Create larger dataset for optimization testing
            for (let i = 0; i < 100; i++) {
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string(`Person ${i}`)));
                graph.add(new Triple_1.Triple(new Triple_1.IRI(`http://example.org/person${i}`), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(20 + i % 50)));
            }
        });
        it('should handle large result sets efficiently', () => {
            const startTime = Date.now();
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const result = engine.select(query);
            const endTime = Date.now();
            expect(result.results).toHaveLength(100);
            expect(endTime - startTime).toBeLessThan(1000); // Should complete in under 1 second
        });
        it('should optimize CONSTRUCT queries with LIMIT', () => {
            const query = 'CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o } LIMIT 10';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(10);
        });
        it('should cache queries with different formats but same meaning', () => {
            const query1 = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            const query2 = 'SELECT   ?s   ?name   WHERE   {   ?s   <http://example.org/name>   ?name   }';
            engine.select(query1);
            const result2 = engine.select(query2);
            expect(result2.cached).toBe(true);
        });
    });
    describe('Complex Query Pattern Tests', () => {
        beforeEach(() => {
            // Setup complex test data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John Doe')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/age'), Triple_1.Literal.integer(30)));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/john'), new Triple_1.IRI('http://example.org/worksAt'), new Triple_1.IRI('http://example.org/company1')));
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/company1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('Tech Corp')));
        });
        it('should handle multi-pattern CONSTRUCT queries', () => {
            const query = `CONSTRUCT { 
                ?person <http://example.org/employee> ?company .
                ?company <http://example.org/hasEmployee> ?person 
            } WHERE { 
                ?person <http://example.org/worksAt> ?company .
                ?person <http://example.org/name> ?name 
            }`;
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(2);
        });
        it('should handle complex variable bindings', () => {
            const query = `SELECT ?personName ?companyName WHERE { 
                ?person <http://example.org/name> ?personName .
                ?person <http://example.org/worksAt> ?company .
                ?company <http://example.org/name> ?companyName 
            }`;
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
            expect(result.results[0].personName).toBe('"John Doe"^^http://www.w3.org/2001/XMLSchema#string');
            expect(result.results[0].companyName).toBe('"Tech Corp"^^http://www.w3.org/2001/XMLSchema#string');
        });
        it('should handle patterns with different node types', () => {
            // Add blank node
            graph.add(new Triple_1.Triple(new Triple_1.BlankNode('_:b1'), new Triple_1.IRI('http://example.org/type'), new Triple_1.IRI('http://example.org/Project')));
            const query = 'SELECT ?s ?type WHERE { ?s <http://example.org/type> ?type }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
    });
    describe('Integration with Graph Tests', () => {
        it('should reflect graph changes in query results', () => {
            const query = 'SELECT ?s ?name WHERE { ?s <http://example.org/name> ?name }';
            // Initially empty
            let result = engine.select(query);
            expect(result.results).toHaveLength(0);
            // Add data
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person1'), new Triple_1.IRI('http://example.org/name'), Triple_1.Literal.string('John')));
            // Invalidate cache since graph changed
            engine.invalidateCache();
            // Should reflect new data
            result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should work with pre-populated graph', () => {
            const prePopulatedGraph = new Graph_1.Graph([
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s1'), new Triple_1.IRI('http://example.org/p1'), Triple_1.Literal.string('o1')),
                new Triple_1.Triple(new Triple_1.IRI('http://example.org/s2'), new Triple_1.IRI('http://example.org/p2'), Triple_1.Literal.string('o2'))
            ]);
            const engineWithData = new SPARQLEngine_1.SPARQLEngine(prePopulatedGraph);
            const result = engineWithData.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(result.results).toHaveLength(2);
            engineWithData.destroy();
        });
    });
    describe('Edge Cases and Boundary Tests', () => {
        it('should handle empty graph gracefully', () => {
            const emptyEngine = new SPARQLEngine_1.SPARQLEngine(new Graph_1.Graph());
            const constructResult = emptyEngine.construct('CONSTRUCT { ?s ?p ?o } WHERE { ?s ?p ?o }');
            const selectResult = emptyEngine.select('SELECT ?s ?p ?o WHERE { ?s ?p ?o }');
            expect(constructResult.triples).toHaveLength(0);
            expect(selectResult.results).toHaveLength(0);
            emptyEngine.destroy();
        });
        it('should handle very long queries', () => {
            const longQuery = 'SELECT ?s ?p ?o WHERE { ' + '?s ?p ?o . '.repeat(100) + '}';
            expect(() => engine.select(longQuery)).not.toThrow();
        });
        it('should handle special characters in URIs', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/person-with-dash'), new Triple_1.IRI('http://example.org/has_underscore'), Triple_1.Literal.string('Special chars: éñ中文')));
            const query = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o }';
            const result = engine.select(query);
            expect(result.results).toHaveLength(1);
        });
        it('should handle numeric literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/value'), Triple_1.Literal.integer(42)));
            const query = 'CONSTRUCT { ?s <http://example.org/newValue> 123 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle boolean literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/flag'), Triple_1.Literal.boolean(true)));
            const query = 'CONSTRUCT { ?s <http://example.org/newFlag> false } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
        it('should handle decimal literals correctly', () => {
            graph.add(new Triple_1.Triple(new Triple_1.IRI('http://example.org/data'), new Triple_1.IRI('http://example.org/pi'), Triple_1.Literal.double(3.14159)));
            const query = 'CONSTRUCT { ?s <http://example.org/newPi> 2.71 } WHERE { ?s ?p ?o }';
            const result = engine.construct(query);
            expect(result.triples).toHaveLength(1);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpdGVsZXYvRG9jdW1lbnRzL2V4b2NvcnRleC1vYnNpZGlhbi1wbHVnaW4vdGVzdHMvdW5pdC9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLHdFQUFvRztBQUNwRyxtRUFBZ0U7QUFDaEUscUVBQTJGO0FBRzNGLFFBQVEsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO0lBQzFCLElBQUksTUFBb0IsQ0FBQztJQUN6QixJQUFJLEtBQVksQ0FBQztJQUVqQixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ1osS0FBSyxHQUFHLElBQUksYUFBSyxFQUFFLENBQUM7UUFDcEIsTUFBTSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDWCxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNwRCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxxREFBcUQsRUFBRSxHQUFHLEVBQUU7WUFDM0QsTUFBTSxZQUFZLEdBQThCO2dCQUM1QyxPQUFPLEVBQUUsR0FBRztnQkFDWixVQUFVLEVBQUUsSUFBSTtnQkFDaEIsT0FBTyxFQUFFLEtBQUs7YUFDakIsQ0FBQztZQUNGLE1BQU0sWUFBWSxHQUFHLElBQUksMkJBQVksQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFFM0QsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxZ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QUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9raXRlbGV2L0RvY3VtZW50cy9leG9jb3J0ZXgtb2JzaWRpYW4tcGx1Z2luL3Rlc3RzL3VuaXQvYXBwbGljYXRpb24vU1BBUlFMRW5naW5lLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU1BBUlFMRW5naW5lLCBDb25zdHJ1Y3RSZXN1bHQsIFNlbGVjdFJlc3VsdCB9IGZyb20gJy4uLy4uLy4uL3NyYy9hcHBsaWNhdGlvbi9TUEFSUUxFbmdpbmUnO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tICcuLi8uLi8uLi9zcmMvZG9tYWluL3NlbWFudGljL2NvcmUvR3JhcGgnO1xuaW1wb3J0IHsgVHJpcGxlLCBJUkksIExpdGVyYWwsIEJsYW5rTm9kZSB9IGZyb20gJy4uLy4uLy4uL3NyYy9kb21haW4vc2VtYW50aWMvY29yZS9UcmlwbGUnO1xuaW1wb3J0IHsgUXVlcnlDYWNoZSwgUXVlcnlDYWNoZUNvbmZpZyB9IGZyb20gJy4uLy4uLy4uL3NyYy9hcHBsaWNhdGlvbi9zZXJ2aWNlcy9RdWVyeUNhY2hlJztcblxuZGVzY3JpYmUoJ1NQQVJRTEVuZ2luZScsICgpID0+IHtcbiAgICBsZXQgZW5naW5lOiBTUEFSUUxFbmdpbmU7XG4gICAgbGV0IGdyYXBoOiBHcmFwaDtcbiAgICBcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgZ3JhcGggPSBuZXcgR3JhcGgoKTtcbiAgICAgICAgZW5naW5lID0gbmV3IFNQQVJRTEVuZ2luZShncmFwaCk7XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgICBlbmdpbmUuZGVzdHJveSgpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Jhc2ljIEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIFNQQVJRTEVuZ2luZSB3aXRoIGdyYXBoJywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0Q2FjaGVTdGF0aXN0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBTUEFSUUxFbmdpbmUgd2l0aCBjdXN0b20gY2FjaGUgY29uZmlnJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tQ29uZmlnOiBQYXJ0aWFsPFF1ZXJ5Q2FjaGVDb25maWc+ID0ge1xuICAgICAgICAgICAgICAgIG1heFNpemU6IDEwMCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VFRMOiAxMDAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3VzdG9tRW5naW5lID0gbmV3IFNQQVJRTEVuZ2luZShncmFwaCwgY3VzdG9tQ29uZmlnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KGN1c3RvbUVuZ2luZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChjdXN0b21FbmdpbmUuZ2V0Q2FjaGVDb25maWcoKS5tYXhTaXplKS50b0JlKDEwMCk7XG4gICAgICAgICAgICBleHBlY3QoY3VzdG9tRW5naW5lLmdldENhY2hlQ29uZmlnKCkuZGVmYXVsdFRUTCkudG9CZSgxMDAwKTtcbiAgICAgICAgICAgIGV4cGVjdChjdXN0b21FbmdpbmUuZ2V0Q2FjaGVDb25maWcoKS5lbmFibGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3VzdG9tRW5naW5lLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBwcm92aWRlIGNhY2hlIG1hbmFnZW1lbnQgbWV0aG9kcycsICgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuZ2V0Q2FjaGVTdGF0aXN0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5pbnZhbGlkYXRlQ2FjaGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgICAgICBleHBlY3QoZW5naW5lLnVwZGF0ZUNhY2hlQ29uZmlnKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5nZXRDYWNoZUNvbmZpZykudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChlbmdpbmUuY2xlYW51cENhY2hlKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KGVuZ2luZS5kZXN0cm95KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDT05TVFJVQ1QgUXVlcnkgVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0dXAgdGVzdCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4gRG9lJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYWdlJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5pbnRlZ2VyKDMwKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMicpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0phbmUgU21pdGgnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBiYXNpYyBDT05TVFJVQ1QgcXVlcnknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnByb3ZlbmFuY2UpLnRvQ29udGFpbignQ09OU1RSVUNUIHF1ZXJ5IGF0Jyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBDT05TVFJVQ1Qgd2l0aCBzcGVjaWZpYyBwYXR0ZXJuJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNOYW1lPiA/bmFtZSB9IFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzWzBdLmdldFByZWRpY2F0ZSgpLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHA6Ly9leGFtcGxlLm9yZy9oYXNOYW1lJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBDT05TVFJVQ1Qgd2l0aCBMSU1JVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9IExJTUlUIDInO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIENPTlNUUlVDVCB3aXRoIG11bHRpcGxlIHBhdHRlcm5zJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBgQ09OU1RSVUNUIHsgXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNJbmZvPiA/bmFtZSAuXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9oYXNBZ2U+ID9hZ2UgXG4gICAgICAgICAgICB9IFdIRVJFIHsgXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSAuXG4gICAgICAgICAgICAgICAgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9hZ2U+ID9hZ2UgXG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBDT05TVFJVQ1Qgd2l0aCBibGFuayBub2RlcycsICgpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBCbGFua05vZGUoJ186YjEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvdHlwZScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9QZXJzb24nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogQ29uc3RydWN0UmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggbGl0ZXJhbHMgb2YgZGlmZmVyZW50IHR5cGVzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYm9vbGVhbicpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuYm9vbGVhbih0cnVlKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZGF0YScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9kZWNpbWFsJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5kb3VibGUoMy4xNClcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgQ09OU1RSVUNUIHF1ZXJ5IGZvcm1hdCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRRdWVyeSA9ICdJTlZBTElEIENPTlNUUlVDVCBRVUVSWSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KGludmFsaWRRdWVyeSkpLnRvVGhyb3coJ0ludmFsaWQgQ09OU1RSVUNUIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSByZXN1bHQgZm9yIG5vbi1tYXRjaGluZyBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zID9wID9vIH0gV0hFUkUgeyA/cyA8aHR0cDovL25vbmV4aXN0ZW50L3Byb3A+ID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnByb3ZlbmFuY2UpLnRvQ29udGFpbignQ09OU1RSVUNUIHF1ZXJ5IGF0Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIENPTlNUUlVDVCB3aXRoIHZhcmlhYmxlIHN1YnN0aXR1dGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7IDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3UGVyc29uPiA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0gV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBDb25zdHJ1Y3RSZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXNbMF0uZ2V0U3ViamVjdCgpLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uZXdQZXJzb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09OU1RSVUNUIHdpdGggbGl0ZXJhbCBwYXR0ZXJucycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvaGFzU3RyaW5nTmFtZT4gXCJ0ZXN0XCIgfSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IENvbnN0cnVjdFJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlc1swXS5nZXRPYmplY3QoKS50b1N0cmluZygpKS50b0JlKCdcInRlc3RcIl5eaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1NFTEVDVCBRdWVyeSBUZXN0cycsICgpID0+IHtcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXR1cCB0ZXN0IGRhdGFcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24xJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnSm9obiBEb2UnKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9hZ2UnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoMzApXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24yJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL25hbWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnSmFuZSBTbWl0aCcpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIGJhc2ljIFNFTEVDVCBxdWVyeScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgU0VMRUNUIHdpdGggc3BlY2lmaWMgdmFyaWFibGVzJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9uYW1lIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgncycpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdKS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgU0VMRUNUIHdpdGggd2lsZGNhcmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgKiBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdzJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdwJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdvJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBTRUxFQ1Qgd2l0aCBMSU1JVCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0gTElNSVQgMic7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IFNlbGVjdFJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgU0VMRUNUIHdpdGggc3BlY2lmaWMgcHJlZGljYXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9uYW1lIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLmV2ZXJ5KHIgPT4gci5uYW1lKSkudG9CZSh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgU0VMRUNUIHdpdGggbGl0ZXJhbCBvYmplY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+IFwiSm9obiBEb2VcIiB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogU2VsZWN0UmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdLnMpLnRvQmUoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wZXJzb24xJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgU0VMRUNUIHF1ZXJ5IGZvcm1hdCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRRdWVyeSA9ICdJTlZBTElEIFNFTEVDVCBRVUVSWSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KGludmFsaWRRdWVyeSkpLnRvVGhyb3coJ0ludmFsaWQgU1BBUlFMIHF1ZXJ5IGZvcm1hdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSByZXN1bHQgZm9yIG5vbi1tYXRjaGluZyBTRUxFQ1QnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP28gV0hFUkUgeyA/cyA8aHR0cDovL25vbmV4aXN0ZW50L3Byb3A+ID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIFNFTEVDVCB3aXRoIG11bHRpcGxlIHZhcmlhYmxlcyBib3VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSA/YWdlIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSAuID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvYWdlPiA/YWdlIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdzJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCdhZ2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBmaWx0ZXIgdmFyaWFibGVzIGNvcnJlY3RseSBpbiBTRUxFQ1QnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBTZWxlY3RSZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHNbMF0pLm5vdC50b0hhdmVQcm9wZXJ0eSgncycpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdDYWNoZSBNYW5hZ2VtZW50IFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIGNhY2hlIENPTlNUUlVDVCByZXN1bHRzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcCcpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZpcnN0IGV4ZWN1dGlvblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDEuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Vjb25kIGV4ZWN1dGlvbiBzaG91bGQgYmUgY2FjaGVkXG4gICAgICAgICAgICBjb25zdCByZXN1bHQyID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5jYWNoZWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi50cmlwbGVzKS50b0hhdmVMZW5ndGgocmVzdWx0MS50cmlwbGVzLmxlbmd0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgY2FjaGUgU0VMRUNUIHJlc3VsdHMnLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcycpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9wJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ28nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGaXJzdCBleGVjdXRpb25cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDEgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQxLmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlY29uZCBleGVjdXRpb24gc2hvdWxkIGJlIGNhY2hlZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIuY2FjaGVkKS50b0JlKHRydWUpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDIucmVzdWx0cykudG9FcXVhbChyZXN1bHQxLnJlc3VsdHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGludmFsaWRhdGUgY2FjaGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3MnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcCcpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvJylcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxuICAgICAgICAgICAgZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICAgICAgICAgIGVuZ2luZS5pbnZhbGlkYXRlQ2FjaGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTmV4dCBleGVjdXRpb24gc2hvdWxkIG5vdCBiZSBjYWNoZWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5jYWNoZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZSBjYWNoZSBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgIG1heFNpemU6IDUwLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRUVEw6IDIwMDAsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVuZ2luZS51cGRhdGVDYWNoZUNvbmZpZyhuZXdDb25maWcpO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gZW5naW5lLmdldENhY2hlQ29uZmlnKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChjb25maWcubWF4U2l6ZSkudG9CZSg1MCk7XG4gICAgICAgICAgICBleHBlY3QoY29uZmlnLmRlZmF1bHRUVEwpLnRvQmUoMjAwMCk7XG4gICAgICAgICAgICBleHBlY3QoY29uZmlnLmVuYWJsZWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIHByb3ZpZGUgY2FjaGUgc3RhdGlzdGljcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZW5naW5lLmdldENhY2hlU3RhdGlzdGljcygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdoaXRzJyk7XG4gICAgICAgICAgICBleHBlY3Qoc3RhdHMpLnRvSGF2ZVByb3BlcnR5KCdtaXNzZXMnKTtcbiAgICAgICAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ2hpdFJhdGUnKTtcbiAgICAgICAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ3NpemUnKTtcbiAgICAgICAgICAgIGV4cGVjdChzdGF0cykudG9IYXZlUHJvcGVydHkoJ21heFNpemUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBjbGVhbnVwIGV4cGlyZWQgY2FjaGUgZW50cmllcycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIFNldCBzaG9ydCBUVExcbiAgICAgICAgICAgIGVuZ2luZS51cGRhdGVDYWNoZUNvbmZpZyh7IGRlZmF1bHRUVEw6IDEgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9zJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgZXhwaXJhdGlvbiBhbmQgY2xlYW51cFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZENvdW50ID0gZW5naW5lLmNsZWFudXBDYWNoZSgpO1xuICAgICAgICAgICAgICAgIGV4cGVjdChjbGVhbmVkQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgcmVzcGVjdCBjYWNoZSBkaXNhYmxlZCBzZXR0aW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSBjYWNoZVxuICAgICAgICAgICAgZW5naW5lLnVwZGF0ZUNhY2hlQ29uZmlnKHsgZW5hYmxlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9zJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnbycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDEgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDEuY2FjaGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmNhY2hlZCkudG9CZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgQ09OU1RSVUNUIHF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLmNvbnN0cnVjdCgnQ09OU1RSVUNUIFdIRVJFIHsgP3MgP3AgP28gfScpKS50b1Rocm93KCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLmNvbnN0cnVjdCgnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBNSVNTSU5HIFdIRVJFJykpLnRvVGhyb3coKTtcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuY29uc3RydWN0KCcnKSkudG9UaHJvdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgU0VMRUNUIHF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdCgnU0VMRUNUIFdIRVJFIHsgP3MgP3AgP28gfScpKS50b1Rocm93KCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdCgnU0VMRUNUID9zIE1JU1NJTkcgV0hFUkUnKSkudG9UaHJvdygpO1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5zZWxlY3QoJycpKS50b1Rocm93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHF1ZXJpZXMgd2l0aCBpbnZhbGlkIHN5bnRheCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KCgpID0+IGVuZ2luZS5jb25zdHJ1Y3QoJ0NPTlNUUlVDVCB7IH0gV0hFUkUgeyB9JykpLm5vdC50b1Rocm93KCk7XG4gICAgICAgICAgICBleHBlY3QoKCkgPT4gZW5naW5lLnNlbGVjdCgnU0VMRUNUID9zIFdIRVJFIHsgfScpKS5ub3QudG9UaHJvdygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBudWxsL3VuZGVmaW5lZCB2YWx1ZXMgaW4gcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9ICdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdRdWVyeSBPcHRpbWl6YXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGxhcmdlciBkYXRhc2V0IGZvciBvcHRpbWl6YXRpb24gdGVzdGluZ1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKGBodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uJHtpfWApLFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZyhgUGVyc29uICR7aX1gKVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKGBodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uJHtpfWApLFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvYWdlJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuaW50ZWdlcigyMCArIGkgJSA1MClcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgcmVzdWx0IHNldHMgZWZmaWNpZW50bHknLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9uYW1lIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/bmFtZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgY29uc3QgZW5kVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlTGVuZ3RoKDEwMCk7XG4gICAgICAgICAgICBleHBlY3QoZW5kVGltZSAtIHN0YXJ0VGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyBTaG91bGQgY29tcGxldGUgaW4gdW5kZXIgMSBzZWNvbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBvcHRpbWl6ZSBDT05TVFJVQ1QgcXVlcmllcyB3aXRoIExJTUlUJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgP3AgP28gfSBXSEVSRSB7ID9zID9wID9vIH0gTElNSVQgMTAnO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBjYWNoZSBxdWVyaWVzIHdpdGggZGlmZmVyZW50IGZvcm1hdHMgYnV0IHNhbWUgbWVhbmluZycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5MSA9ICdTRUxFQ1QgP3MgP25hbWUgV0hFUkUgeyA/cyA8aHR0cDovL2V4YW1wbGUub3JnL25hbWU+ID9uYW1lIH0nO1xuICAgICAgICAgICAgY29uc3QgcXVlcnkyID0gJ1NFTEVDVCAgID9zICAgP25hbWUgICBXSEVSRSAgIHsgICA/cyAgIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gICA/bmFtZSAgIH0nO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBlbmdpbmUuc2VsZWN0KHF1ZXJ5MSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQyID0gZW5naW5lLnNlbGVjdChxdWVyeTIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5jYWNoZWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0NvbXBsZXggUXVlcnkgUGF0dGVybiBUZXN0cycsICgpID0+IHtcbiAgICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXR1cCBjb21wbGV4IHRlc3QgZGF0YVxuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2pvaG4nKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvbmFtZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdKb2huIERvZScpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9qb2huJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2FnZScpLFxuICAgICAgICAgICAgICAgIExpdGVyYWwuaW50ZWdlcigzMClcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2pvaG4nKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvd29ya3NBdCcpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9jb21wYW55MScpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGdyYXBoLmFkZChuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9jb21wYW55MScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ1RlY2ggQ29ycCcpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGktcGF0dGVybiBDT05TVFJVQ1QgcXVlcmllcycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gYENPTlNUUlVDVCB7IFxuICAgICAgICAgICAgICAgID9wZXJzb24gPGh0dHA6Ly9leGFtcGxlLm9yZy9lbXBsb3llZT4gP2NvbXBhbnkgLlxuICAgICAgICAgICAgICAgID9jb21wYW55IDxodHRwOi8vZXhhbXBsZS5vcmcvaGFzRW1wbG95ZWU+ID9wZXJzb24gXG4gICAgICAgICAgICB9IFdIRVJFIHsgXG4gICAgICAgICAgICAgICAgP3BlcnNvbiA8aHR0cDovL2V4YW1wbGUub3JnL3dvcmtzQXQ+ID9jb21wYW55IC5cbiAgICAgICAgICAgICAgICA/cGVyc29uIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgXG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxleCB2YXJpYWJsZSBiaW5kaW5ncycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFNFTEVDVCA/cGVyc29uTmFtZSA/Y29tcGFueU5hbWUgV0hFUkUgeyBcbiAgICAgICAgICAgICAgICA/cGVyc29uIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP3BlcnNvbk5hbWUgLlxuICAgICAgICAgICAgICAgID9wZXJzb24gPGh0dHA6Ly9leGFtcGxlLm9yZy93b3Jrc0F0PiA/Y29tcGFueSAuXG4gICAgICAgICAgICAgICAgP2NvbXBhbnkgPGh0dHA6Ly9leGFtcGxlLm9yZy9uYW1lPiA/Y29tcGFueU5hbWUgXG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0c1swXS5wZXJzb25OYW1lKS50b0JlKCdcIkpvaG4gRG9lXCJeXmh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZycpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzWzBdLmNvbXBhbnlOYW1lKS50b0JlKCdcIlRlY2ggQ29ycFwiXl5odHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGF0dGVybnMgd2l0aCBkaWZmZXJlbnQgbm9kZSB0eXBlcycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIEFkZCBibGFuayBub2RlXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgQmxhbmtOb2RlKCdfOmIxJyksXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3R5cGUnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvUHJvamVjdCcpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID90eXBlIFdIRVJFIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy90eXBlPiA/dHlwZSB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBHcmFwaCBUZXN0cycsICgpID0+IHtcbiAgICAgICAgaXQoJ3Nob3VsZCByZWZsZWN0IGdyYXBoIGNoYW5nZXMgaW4gcXVlcnkgcmVzdWx0cycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1NFTEVDVCA/cyA/bmFtZSBXSEVSRSB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmFtZT4gP25hbWUgfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEluaXRpYWxseSBlbXB0eVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGVuZ2luZS5zZWxlY3QocXVlcnkpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBkYXRhXG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGVyc29uMScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9uYW1lJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5zdHJpbmcoJ0pvaG4nKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgY2FjaGUgc2luY2UgZ3JhcGggY2hhbmdlZFxuICAgICAgICAgICAgZW5naW5lLmludmFsaWRhdGVDYWNoZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTaG91bGQgcmVmbGVjdCBuZXcgZGF0YVxuICAgICAgICAgICAgcmVzdWx0ID0gZW5naW5lLnNlbGVjdChxdWVyeSk7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggcHJlLXBvcHVsYXRlZCBncmFwaCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZVBvcHVsYXRlZEdyYXBoID0gbmV3IEdyYXBoKFtcbiAgICAgICAgICAgICAgICBuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvczEnKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AxJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvMScpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBuZXcgVHJpcGxlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvczInKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3AyJyksXG4gICAgICAgICAgICAgICAgICAgIExpdGVyYWwuc3RyaW5nKCdvMicpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVuZ2luZVdpdGhEYXRhID0gbmV3IFNQQVJRTEVuZ2luZShwcmVQb3B1bGF0ZWRHcmFwaCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmVXaXRoRGF0YS5zZWxlY3QoJ1NFTEVDVCA/cyA/cCA/byBXSEVSRSB7ID9zID9wID9vIH0nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgICAgICBlbmdpbmVXaXRoRGF0YS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMgYW5kIEJvdW5kYXJ5IFRlc3RzJywgKCkgPT4ge1xuICAgICAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBncmFwaCBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW1wdHlFbmdpbmUgPSBuZXcgU1BBUlFMRW5naW5lKG5ldyBHcmFwaCgpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0UmVzdWx0ID0gZW1wdHlFbmdpbmUuY29uc3RydWN0KCdDT05TVFJVQ1QgeyA/cyA/cCA/byB9IFdIRVJFIHsgP3MgP3AgP28gfScpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0UmVzdWx0ID0gZW1wdHlFbmdpbmUuc2VsZWN0KCdTRUxFQ1QgP3MgP3AgP28gV0hFUkUgeyA/cyA/cCA/byB9Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChjb25zdHJ1Y3RSZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgICAgICAgZXhwZWN0KHNlbGVjdFJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVtcHR5RW5naW5lLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHF1ZXJpZXMnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb25nUXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgJyArICc/cyA/cCA/byAuICcucmVwZWF0KDEwMCkgKyAnfSc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdCgoKSA9PiBlbmdpbmUuc2VsZWN0KGxvbmdRdWVyeSkpLm5vdC50b1Rocm93KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBVUklzJywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL3BlcnNvbi13aXRoLWRhc2gnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvaGFzX3VuZGVyc2NvcmUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLnN0cmluZygnU3BlY2lhbCBjaGFyczogw6nDseS4reaWhycpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUID9zID9wID9vIFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuc2VsZWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bWVyaWMgbGl0ZXJhbHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvdmFsdWUnKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmludGVnZXIoNDIpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uZXdWYWx1ZT4gMTIzIH0gV0hFUkUgeyA/cyA/cCA/byB9JztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVuZ2luZS5jb25zdHJ1Y3QocXVlcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0LnRyaXBsZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgYm9vbGVhbiBsaXRlcmFscyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGQobmV3IFRyaXBsZShcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvZGF0YScpLFxuICAgICAgICAgICAgICAgIG5ldyBJUkkoJ2h0dHA6Ly9leGFtcGxlLm9yZy9mbGFnJyksXG4gICAgICAgICAgICAgICAgTGl0ZXJhbC5ib29sZWFuKHRydWUpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSAnQ09OU1RSVUNUIHsgP3MgPGh0dHA6Ly9leGFtcGxlLm9yZy9uZXdGbGFnPiBmYWxzZSB9IFdIRVJFIHsgP3MgP3AgP28gfSc7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlbmdpbmUuY29uc3RydWN0KHF1ZXJ5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC50cmlwbGVzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGFuZGxlIGRlY2ltYWwgbGl0ZXJhbHMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgICAgICAgZ3JhcGguYWRkKG5ldyBUcmlwbGUoXG4gICAgICAgICAgICAgICAgbmV3IElSSSgnaHR0cDovL2V4YW1wbGUub3JnL2RhdGEnKSxcbiAgICAgICAgICAgICAgICBuZXcgSVJJKCdodHRwOi8vZXhhbXBsZS5vcmcvcGknKSxcbiAgICAgICAgICAgICAgICBMaXRlcmFsLmRvdWJsZSgzLjE0MTU5KVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJ0NPTlNUUlVDVCB7ID9zIDxodHRwOi8vZXhhbXBsZS5vcmcvbmV3UGk+IDIuNzEgfSBXSEVSRSB7ID9zID9wID9vIH0nO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5naW5lLmNvbnN0cnVjdChxdWVyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQudHJpcGxlcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==