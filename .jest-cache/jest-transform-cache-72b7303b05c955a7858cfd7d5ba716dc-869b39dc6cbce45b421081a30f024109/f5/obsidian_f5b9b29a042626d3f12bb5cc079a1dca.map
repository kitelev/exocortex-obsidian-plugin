{"file":"/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__mocks__/obsidian.ts","mappings":"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","names":[],"sources":["/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__mocks__/obsidian.ts"],"sourcesContent":["// Add Obsidian-specific methods to HTMLElement globally\ndeclare global {\n  interface HTMLElement {\n    createEl?: (tag: string, options?: any) => HTMLElement;\n    createDiv?: (options?: any) => HTMLElement;\n    empty?: () => void;\n    addClass?: (cls: string) => void;\n    removeClass?: (cls: string) => void;\n    hasClass?: (cls: string) => boolean;\n  }\n}\n\n// Setup DOM extensions\nif (typeof document !== \"undefined\") {\n  const proto = HTMLElement.prototype as any;\n  if (!proto.createEl) {\n    proto.createEl = function (tag: string, options?: any) {\n      const el = document.createElement(tag);\n      if (options?.text) el.textContent = options.text;\n      if (options?.cls) el.className = options.cls;\n      if (options?.attr) {\n        for (const [key, value] of Object.entries(options.attr)) {\n          el.setAttribute(key, String(value));\n        }\n      }\n      this.appendChild(el);\n      return el;\n    };\n  }\n  if (!proto.createDiv) {\n    proto.createDiv = function (options?: any) {\n      const el = document.createElement(\"div\");\n      if (options?.cls) el.className = options.cls;\n      if (options?.text) el.textContent = options.text;\n      this.appendChild(el);\n      return el;\n    };\n  }\n  if (!proto.empty) {\n    proto.empty = function () {\n      while (this.firstChild) {\n        this.removeChild(this.firstChild);\n      }\n    };\n  }\n  if (!proto.addClass) {\n    proto.addClass = function (cls: string) {\n      this.classList.add(cls);\n    };\n  }\n  if (!proto.removeClass) {\n    proto.removeClass = function (cls: string) {\n      this.classList.remove(cls);\n    };\n  }\n  if (!proto.hasClass) {\n    proto.hasClass = function (cls: string) {\n      return this.classList.contains(cls);\n    };\n  }\n}\n\nexport class Plugin {\n  app: App;\n  manifest: any;\n\n  constructor(app: App, manifest: any) {\n    this.app = app;\n    this.manifest = manifest;\n  }\n\n  async loadData(): Promise<any> {\n    return {};\n  }\n\n  async saveData(data: any): Promise<void> {}\n\n  addCommand(command: any): void {}\n\n  addRibbonIcon(\n    icon: string,\n    title: string,\n    callback: (evt: MouseEvent) => void,\n  ): HTMLElement {\n    const el = document.createElement(\"div\");\n    el.addClass = jest.fn();\n    return el;\n  }\n\n  addSettingTab(settingTab: any): void {}\n\n  registerEvent(event: any): void {}\n\n  registerInterval(interval: number): number {\n    return interval;\n  }\n\n  registerMarkdownCodeBlockProcessor(\n    language: string,\n    handler: Function,\n  ): void {\n    // Mock implementation for SPARQL processor registration\n    // Store the handler for potential testing\n    (this as any).codeBlockProcessor = handler;\n  }\n\n  registerMarkdownPostProcessor(processor: Function): void {\n    (this as any).markdownPostProcessor = processor;\n  }\n\n  registerView(type: string, viewCreator: Function): void {\n    (this as any).registeredViews = (this as any).registeredViews || {};\n    (this as any).registeredViews[type] = viewCreator;\n  }\n\n  addStatusBarItem(): HTMLElement {\n    return document.createElement(\"div\");\n  }\n\n  async onload(): Promise<void> {\n    // Override in actual plugin\n  }\n\n  async onunload(): Promise<void> {\n    // Override in actual plugin\n  }\n}\n\nexport class Modal {\n  app: App;\n  contentEl: HTMLElement;\n  modalEl: HTMLElement;\n  private backdrop?: HTMLElement;\n\n  constructor(app: App) {\n    this.app = app;\n    this.contentEl = document.createElement(\"div\");\n    this.modalEl = document.createElement(\"div\");\n\n    // Set up Obsidian-style DOM methods on modalEl\n    this.setupObsidianMethods(this.contentEl);\n    this.setupObsidianMethods(this.modalEl);\n  }\n\n  private setupObsidianMethods(el: HTMLElement): void {\n    if (!el.addClass) {\n      (el as any).addClass = function (cls: string) {\n        this.classList.add(cls);\n      };\n    }\n    if (!el.removeClass) {\n      (el as any).removeClass = function (cls: string) {\n        this.classList.remove(cls);\n      };\n    }\n    if (!el.hasClass) {\n      (el as any).hasClass = function (cls: string) {\n        return this.classList.contains(cls);\n      };\n    }\n    if (!el.createEl) {\n      (el as any).createEl = function (tag: string, options?: any) {\n        const element = document.createElement(tag);\n        if (options?.text) element.textContent = options.text;\n        if (options?.cls) element.className = options.cls;\n        if (options?.attr) {\n          for (const [key, value] of Object.entries(options.attr)) {\n            element.setAttribute(key, String(value));\n          }\n        }\n        this.appendChild(element);\n        return element;\n      };\n    }\n    if (!el.empty) {\n      (el as any).empty = function () {\n        while (this.firstChild) {\n          this.removeChild(this.firstChild);\n        }\n      };\n    }\n  }\n\n  open(): void {\n    // Create backdrop and add modal to DOM\n    this.backdrop = document.createElement(\"div\");\n    this.backdrop.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: 1000;\n      display: flex;\n      align-items: flex-end;\n      justify-content: center;\n      transition: opacity 0.3s ease;\n    `;\n    document.body.appendChild(this.backdrop);\n    this.backdrop.appendChild(this.modalEl);\n    this.onOpen();\n  }\n  \n  close(): void {\n    this.onClose();\n    if (this.backdrop) {\n      document.body.removeChild(this.backdrop);\n      this.backdrop = undefined;\n    }\n  }\n  \n  onOpen(): void {}\n  onClose(): void {}\n}\n\nexport class PluginSettingTab {\n  app: App;\n  containerEl: HTMLElement;\n\n  constructor(app: App, plugin: any) {\n    this.app = app;\n    this.containerEl = document.createElement(\"div\");\n  }\n\n  display(): void {}\n  hide(): void {}\n}\n\nexport class Setting {\n  containerEl: HTMLElement;\n  nameEl: HTMLElement;\n  descEl: HTMLElement;\n  controlEl: HTMLElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.nameEl = document.createElement(\"div\");\n    this.descEl = document.createElement(\"div\");\n    this.controlEl = document.createElement(\"div\");\n\n    // Add Obsidian-specific methods to container\n    this.setupContainerMethods(containerEl);\n  }\n\n  private setupContainerMethods(el: HTMLElement): void {\n    if (!el.createEl) {\n      (el as any).createEl = function (tag: string, options?: any) {\n        const element = document.createElement(tag);\n        if (options?.text) element.textContent = options.text;\n        if (options?.cls) element.className = options.cls;\n        this.appendChild(element);\n        return element;\n      };\n    }\n    if (!el.createDiv) {\n      (el as any).createDiv = function (options?: any) {\n        const element = document.createElement(\"div\");\n        if (options?.cls) element.className = options.cls;\n        this.appendChild(element);\n        return element;\n      };\n    }\n    if (!el.empty) {\n      (el as any).empty = function () {\n        while (this.firstChild) {\n          this.removeChild(this.firstChild);\n        }\n      };\n    }\n  }\n\n  setName(name: string): this {\n    return this;\n  }\n\n  setDesc(desc: string): this {\n    return this;\n  }\n\n  addText(cb: (text: TextComponent) => void): this {\n    cb(new TextComponent(this.containerEl));\n    return this;\n  }\n\n  addTextArea(cb: (text: TextAreaComponent) => void): this {\n    cb(new TextAreaComponent(this.containerEl));\n    return this;\n  }\n\n  addToggle(cb: (toggle: ToggleComponent) => void): this {\n    cb(new ToggleComponent(this.containerEl));\n    return this;\n  }\n\n  addButton(cb: (button: ButtonComponent) => void): this {\n    cb(new ButtonComponent(this.containerEl));\n    return this;\n  }\n\n  addDropdown(cb: (dropdown: DropdownComponent) => void): this {\n    cb(new DropdownComponent(this.containerEl));\n    return this;\n  }\n}\n\nexport class TextComponent {\n  containerEl: HTMLElement;\n  inputEl: HTMLInputElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.inputEl = document.createElement(\"input\");\n  }\n\n  setPlaceholder(placeholder: string): this {\n    return this;\n  }\n\n  setValue(value: string): this {\n    this.inputEl.value = value;\n    return this;\n  }\n\n  onChange(callback: (value: string) => void): this {\n    return this;\n  }\n}\n\nexport class TextAreaComponent {\n  containerEl: HTMLElement;\n  inputEl: HTMLTextAreaElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.inputEl = document.createElement(\"textarea\");\n  }\n\n  setPlaceholder(placeholder: string): this {\n    return this;\n  }\n\n  setValue(value: string): this {\n    this.inputEl.value = value;\n    return this;\n  }\n\n  onChange(callback: (value: string) => void): this {\n    return this;\n  }\n}\n\nexport class ToggleComponent {\n  containerEl: HTMLElement;\n  toggleEl: HTMLElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.toggleEl = document.createElement(\"input\");\n  }\n\n  setValue(value: boolean): this {\n    return this;\n  }\n\n  onChange(callback: (value: boolean) => void): this {\n    return this;\n  }\n}\n\nexport class ButtonComponent {\n  containerEl: HTMLElement;\n  buttonEl: HTMLButtonElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.buttonEl = document.createElement(\"button\");\n\n    // Add Obsidian DOM extensions to button element\n    if (!this.buttonEl.addClass) {\n      (this.buttonEl as any).addClass = function (cls: string) {\n        this.classList.add(cls);\n      };\n    }\n    if (!this.buttonEl.removeClass) {\n      (this.buttonEl as any).removeClass = function (cls: string) {\n        this.classList.remove(cls);\n      };\n    }\n\n    containerEl.appendChild(this.buttonEl);\n  }\n\n  setButtonText(text: string): this {\n    this.buttonEl.textContent = text;\n    return this;\n  }\n\n  setCta(): this {\n    this.buttonEl.addClass(\"mod-cta\");\n    return this;\n  }\n\n  onClick(callback: () => void): this {\n    this.buttonEl.addEventListener(\"click\", callback);\n    return this;\n  }\n\n  setTooltip(tooltip: string): this {\n    this.buttonEl.setAttribute(\"title\", tooltip);\n    return this;\n  }\n\n  setClass(cls: string): this {\n    this.buttonEl.className = cls;\n    return this;\n  }\n}\n\nexport class DropdownComponent {\n  containerEl: HTMLElement;\n  selectEl: HTMLSelectElement;\n\n  constructor(containerEl: HTMLElement) {\n    this.containerEl = containerEl;\n    this.selectEl = document.createElement(\"select\");\n    containerEl.appendChild(this.selectEl);\n  }\n\n  addOption(value: string, display: string): this {\n    const option = document.createElement(\"option\");\n    option.value = value;\n    option.textContent = display || value;\n    this.selectEl.appendChild(option);\n    return this;\n  }\n\n  setValue(value: string): this {\n    this.selectEl.value = value;\n    return this;\n  }\n\n  onChange(callback: (value: string) => void): this {\n    this.selectEl.addEventListener(\"change\", () =>\n      callback(this.selectEl.value),\n    );\n    return this;\n  }\n}\n\nexport class Notice {\n  constructor(message: string) {}\n}\n\nexport class MarkdownView {\n  previewMode: {\n    rerender: (force: boolean) => void;\n  };\n\n  constructor() {\n    this.previewMode = {\n      rerender: jest.fn(),\n    };\n  }\n}\n\nexport class TFile {\n  path: string;\n  basename: string;\n  extension: string;\n\n  constructor(path?: string) {\n    this.path = path || \"\";\n    this.basename = path\n      ? path\n          .split(\"/\")\n          .pop()\n          ?.replace(/\\.[^/.]+$/, \"\") || \"\"\n      : \"\";\n    this.extension = path ? path.split(\".\").pop() || \"\" : \"\";\n  }\n}\n\nexport class WorkspaceLeaf {\n  view: any;\n\n  constructor() {\n    this.view = null;\n  }\n\n  openFile(file: TFile): Promise<void> {\n    return Promise.resolve();\n  }\n}\n\nexport class App {\n  vault: Vault;\n  workspace: Workspace;\n  metadataCache: MetadataCache;\n\n  constructor() {\n    this.vault = new Vault();\n    this.workspace = new Workspace();\n    this.metadataCache = new MetadataCache();\n  }\n}\n\nexport class Vault {\n  private mockFiles: TFile[] = [];\n  adapter: any = {\n    read: jest.fn().mockRejectedValue(new Error(\"File not found\")),\n    write: jest.fn().mockResolvedValue(undefined),\n    exists: jest.fn().mockResolvedValue(false),\n    mkdir: jest.fn().mockResolvedValue(undefined),\n    remove: jest.fn().mockResolvedValue(undefined),\n    list: jest.fn().mockResolvedValue({ files: [], folders: [] }),\n  };\n\n  getFiles(): TFile[] {\n    return this.mockFiles;\n  }\n\n  getMarkdownFiles(): TFile[] {\n    return this.mockFiles.filter((file) => file.extension === \"md\");\n  }\n\n  getAbstractFileByPath(path: string): TFile | null {\n    return this.mockFiles.find((file) => file.path === path) || null;\n  }\n\n  create(path: string, content: string): Promise<TFile> {\n    const file = new TFile(path);\n    this.mockFiles.push(file);\n    return Promise.resolve(file);\n  }\n\n  async read(file: TFile | string): Promise<string> {\n    if (typeof file === \"string\") {\n      // Mock reading by path\n      return Promise.resolve(\"Mock file content\");\n    }\n    // Mock reading from TFile\n    return Promise.resolve(\"Mock file content\");\n  }\n\n  async modify(file: TFile, content: string): Promise<void> {\n    // Mock file modification\n    return Promise.resolve();\n  }\n\n  async delete(file: TFile): Promise<void> {\n    const index = this.mockFiles.indexOf(file);\n    if (index > -1) {\n      this.mockFiles.splice(index, 1);\n    }\n    return Promise.resolve();\n  }\n\n  async rename(file: TFile, newPath: string): Promise<void> {\n    const targetFile = this.mockFiles.find(f => f === file);\n    if (targetFile) {\n      targetFile.path = newPath;\n      targetFile.name = newPath.split('/').pop() || '';\n    }\n    return Promise.resolve();\n  }\n\n  getAllLoadedFiles(): TFile[] {\n    return this.mockFiles;\n  }\n\n  async createFolder(path: string): Promise<void> {\n    // Mock folder creation\n    return Promise.resolve();\n  }\n\n  async exists(path: string): Promise<boolean> {\n    return this.mockFiles.some((file) => file.path === path);\n  }\n\n  on(event: string, callback: any): any {\n    // Return an EventRef-like object that registerEvent expects\n    return {\n      e: {\n        target: this,\n        fn: callback,\n        event: event,\n      },\n    };\n  }\n\n  off(event: string, callback: any): void {\n    // Mock implementation for removing event listeners\n  }\n\n  // Helper method for testing\n  __addMockFile(path: string, content?: string): TFile {\n    const file = new TFile(path);\n    this.mockFiles.push(file);\n    return file;\n  }\n\n  // Helper method to clear mock files for tests\n  __clearMockFiles(): void {\n    this.mockFiles = [];\n  }\n}\n\nexport class Workspace {\n  private activeFile: TFile | null = null;\n  private leaves: WorkspaceLeaf[] = [];\n\n  getActiveFile(): TFile | null {\n    return this.activeFile;\n  }\n\n  getLeaf(newLeaf?: boolean): WorkspaceLeaf {\n    if (newLeaf || this.leaves.length === 0) {\n      const leaf = new WorkspaceLeaf();\n      this.leaves.push(leaf);\n      return leaf;\n    }\n    return this.leaves[0];\n  }\n\n  iterateAllLeaves(callback: (leaf: WorkspaceLeaf) => void): void {\n    this.leaves.forEach(callback);\n  }\n\n  getActiveViewOfType<T>(type: any): T | null {\n    return null;\n  }\n\n  openLinkText(linkText: string, sourcePath: string): void {\n    // Mock implementation for opening links\n  }\n\n  on(name: string, callback: Function): void {\n    // Mock event listener\n  }\n\n  off(name: string, callback: Function): void {\n    // Mock event listener removal\n  }\n\n  trigger(name: string, ...data: any[]): void {\n    // Mock event triggering\n  }\n\n  // Helper method for testing\n  __setActiveFile(file: TFile | null): void {\n    this.activeFile = file;\n  }\n}\n\nexport class MetadataCache {\n  private cache: Map<string, any> = new Map();\n\n  getFileCache(file: TFile): any {\n    return (\n      this.cache.get(file.path) || {\n        frontmatter: {},\n        sections: [],\n        headings: [],\n        links: [],\n        embeds: [],\n        tags: [],\n      }\n    );\n  }\n\n  getBacklinksForFile(file: TFile): any {\n    return {\n      data: new Map(),\n      count: () => 0,\n      keys: () => [],\n    };\n  }\n\n  getFrontmatterPropertyValue(file: TFile, property: string): any {\n    const cache = this.getFileCache(file);\n    return cache.frontmatter?.[property];\n  }\n\n  on(name: string, callback: Function): void {\n    // Mock event listener\n  }\n\n  off(name: string, callback: Function): void {\n    // Mock event listener removal\n  }\n\n  // Helper method for testing\n  __setFileCache(path: string, cache: any): void {\n    this.cache.set(path, cache);\n  }\n\n  // Helper method to clear cache for tests\n  __clearCache(): void {\n    this.cache.clear();\n  }\n}\n\nexport interface Editor {}\n\nexport interface MarkdownPostProcessorContext {\n  sourcePath: string;\n  frontmatter?: any;\n  addChild(component: any): void;\n  getSectionInfo(el: HTMLElement): any;\n}\n\n// Additional commonly used types and interfaces\nexport interface FileSystemAdapter {\n  path: {\n    join(...paths: string[]): string;\n    dirname(path: string): string;\n    basename(path: string): string;\n  };\n}\n\nexport class Component {\n  load(): void {}\n  onload(): void {}\n  unload(): void {}\n  onunload(): void {}\n  addChild<T extends Component>(component: T): T {\n    return component;\n  }\n  removeChild<T extends Component>(component: T): T {\n    return component;\n  }\n}\n\nexport class MarkdownRenderer {\n  static renderMarkdown(\n    markdown: string,\n    el: HTMLElement,\n    sourcePath: string,\n    component: Component,\n  ): Promise<void> {\n    el.innerHTML = markdown;\n    return Promise.resolve();\n  }\n}\n\nexport class FileManager {\n  generateMarkdownLink(file: TFile, sourcePath: string): string {\n    return `[[${file.basename}]]`;\n  }\n}\n\n// Mock normalizePath function\nexport function normalizePath(path: string): string {\n  return path.replace(/\\\\/g, \"/\");\n}\n\n// Mock requestUrl function\nexport function requestUrl(request: {\n  url: string;\n  [key: string]: any;\n}): Promise<any> {\n  return Promise.resolve({\n    status: 200,\n    json: {},\n    text: \"\",\n    arrayBuffer: new ArrayBuffer(0),\n  });\n}\n\n// Mock debounce function\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number,\n  immediate?: boolean,\n): T {\n  return func; // Simplified mock - just return the function as-is for testing\n}\n\n// Mock moment if needed\nexport const moment = {\n  now: () => Date.now(),\n  unix: (timestamp: number) => ({\n    format: (format?: string) => new Date(timestamp * 1000).toISOString(),\n  }),\n};\n\n// Mock Platform API - Enhanced for Mobile Testing\nexport const Platform = {\n  isMobile: process.env.TEST_PLATFORM === \"mobile\" || false,\n  isMobileApp: process.env.TEST_PLATFORM === \"mobile\" || false,\n  isIosApp: process.env.TEST_PLATFORM === \"ios\" || false,\n  isAndroidApp: process.env.TEST_PLATFORM === \"android\" || false,\n  isTablet: process.env.TEST_PLATFORM === \"tablet\" || false,\n  isDesktop:\n    process.env.TEST_PLATFORM !== \"mobile\" &&\n    process.env.TEST_PLATFORM !== \"tablet\",\n  isWin: false,\n  isMacOS: true,\n  isLinux: false,\n};\n\n// Mobile Environment Mocks\ndeclare global {\n  interface Window {\n    TouchEvent: typeof TouchEvent;\n    PointerEvent?: typeof PointerEvent;\n    Capacitor?: any;\n    ObsidianMobile?: any;\n  }\n\n  interface Navigator {\n    vibrate?: (pattern: number | number[]) => boolean;\n    deviceMemory?: number;\n    connection?: {\n      effectiveType?: string;\n      type?: string;\n      downlink?: number;\n    };\n    maxTouchPoints: number;\n    msMaxTouchPoints?: number;\n    getBattery?: () => Promise<{\n      level: number;\n      charging: boolean;\n      chargingTime: number;\n      dischargingTime: number;\n    }>;\n  }\n}\n\n// Setup mobile environment mocks\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  // Touch Event Support\n  if (!window.TouchEvent) {\n    class MockTouchEvent extends Event {\n      touches: TouchList;\n      changedTouches: TouchList;\n      targetTouches: TouchList;\n\n      constructor(type: string, eventInitDict?: TouchEventInit) {\n        super(type, eventInitDict);\n\n        const createTouchList = (touches?: Touch[]): TouchList => {\n          const list = (touches || []) as any;\n          list.item = (index: number) => list[index] || null;\n          return list as TouchList;\n        };\n\n        this.touches = createTouchList(eventInitDict?.touches as Touch[]);\n        this.changedTouches = createTouchList(\n          eventInitDict?.changedTouches as Touch[],\n        );\n        this.targetTouches = createTouchList(\n          eventInitDict?.targetTouches as Touch[],\n        );\n      }\n    }\n\n    window.TouchEvent = MockTouchEvent as any;\n  }\n\n  // Pointer Event Support\n  if (!window.PointerEvent) {\n    class MockPointerEvent extends Event {\n      pointerId: number;\n      pointerType: string;\n      clientX: number;\n      clientY: number;\n\n      constructor(type: string, eventInitDict?: PointerEventInit) {\n        super(type, eventInitDict);\n        this.pointerId = eventInitDict?.pointerId || 0;\n        this.pointerType = eventInitDict?.pointerType || \"touch\";\n        this.clientX = eventInitDict?.clientX || 0;\n        this.clientY = eventInitDict?.clientY || 0;\n      }\n    }\n\n    window.PointerEvent = MockPointerEvent as any;\n  }\n\n  // Touch capability detection\n  if (!(\"ontouchstart\" in window)) {\n    Object.defineProperty(window, \"ontouchstart\", {\n      value: null,\n      configurable: true,\n      writable: true,\n    });\n  }\n\n  // Navigator enhancements for mobile testing\n  Object.defineProperty(navigator, \"maxTouchPoints\", {\n    value: process.env.TEST_PLATFORM === \"mobile\" ? 10 : 0,\n    configurable: true,\n  });\n\n  Object.defineProperty(navigator, \"msMaxTouchPoints\", {\n    value: process.env.TEST_PLATFORM === \"mobile\" ? 10 : 0,\n    configurable: true,\n  });\n\n  // Vibration API mock\n  if (!navigator.vibrate) {\n    Object.defineProperty(navigator, \"vibrate\", {\n      value: jest.fn((pattern: number | number[]) => {\n        console.log(`Mock vibrate called with:`, pattern);\n        return true;\n      }),\n      configurable: true,\n      writable: true,\n    });\n  }\n\n  // Device Memory API mock\n  Object.defineProperty(navigator, \"deviceMemory\", {\n    value: process.env.TEST_PLATFORM === \"mobile\" ? 4 : 8, // 4GB for mobile, 8GB for desktop\n    configurable: true,\n  });\n\n  // Network Information API mock\n  Object.defineProperty(navigator, \"connection\", {\n    value: {\n      effectiveType: process.env.TEST_PLATFORM === \"mobile\" ? \"3g\" : \"4g\",\n      type: \"cellular\",\n      downlink: process.env.TEST_PLATFORM === \"mobile\" ? 1.5 : 10,\n    },\n    configurable: true,\n  });\n\n  // Battery API mock\n  Object.defineProperty(navigator, \"getBattery\", {\n    value: () =>\n      Promise.resolve({\n        level: 0.75,\n        charging: false,\n        chargingTime: Infinity,\n        dischargingTime: 7200,\n      }),\n    configurable: true,\n  });\n\n  // Mock Capacitor for Obsidian mobile detection\n  if (process.env.TEST_PLATFORM === \"mobile\") {\n    window.Capacitor = {\n      platform: process.env.TEST_PLATFORM === \"ios\" ? \"ios\" : \"android\",\n      isNative: true,\n    };\n\n    window.ObsidianMobile = {\n      version: \"1.0.0\",\n      platform: process.env.TEST_PLATFORM === \"ios\" ? \"ios\" : \"android\",\n    };\n  }\n\n  // Performance memory mock\n  if (!performance.memory && process.env.TEST_PLATFORM === \"mobile\") {\n    Object.defineProperty(performance, \"memory\", {\n      value: {\n        usedJSHeapSize: 50 * 1024 * 1024, // 50MB\n        totalJSHeapSize: 100 * 1024 * 1024, // 100MB\n        jsHeapSizeLimit: 512 * 1024 * 1024, // 512MB for mobile\n      },\n      configurable: true,\n    });\n  }\n\n  // Mock requestAnimationFrame and cancelAnimationFrame if not present\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = jest.fn((callback: FrameRequestCallback) => {\n      const id = setTimeout(() => callback(performance.now()), 16);\n      return id;\n    }) as any;\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = jest.fn((id: number) => {\n      clearTimeout(id);\n    });\n  }\n\n  // Mock screen orientation API\n  if (!screen.orientation) {\n    Object.defineProperty(screen, \"orientation\", {\n      value: {\n        angle: 0,\n        type: \"portrait-primary\",\n        addEventListener: jest.fn(),\n        removeEventListener: jest.fn(),\n      },\n      configurable: true,\n    });\n  }\n\n  // Mock matchMedia for responsive design tests\n  if (!window.matchMedia) {\n    window.matchMedia = jest.fn((query: string) => ({\n      matches: query.includes(\"max-width: 768px\")\n        ? process.env.TEST_PLATFORM === \"mobile\"\n        : false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    }));\n  }\n\n  // Mock CSS support detection\n  if (!window.CSS) {\n    Object.defineProperty(window, \"CSS\", {\n      value: {\n        supports: jest.fn((property: string) => {\n          // Mock support for safe-area CSS\n          return property.includes(\"safe-area\") || property.includes(\"env(\");\n        }),\n      },\n      configurable: true,\n    });\n  }\n\n  // Mock computed style for safe area detection\n  const originalGetComputedStyle = window.getComputedStyle;\n  window.getComputedStyle = jest.fn((element: Element) => {\n    const mockStyle = {\n      getPropertyValue: jest.fn((prop: string) => {\n        // Mock safe area insets for iOS\n        const safeAreaMap: { [key: string]: string } = {\n          \"env(safe-area-inset-top)\":\n            process.env.TEST_PLATFORM === \"ios\" ? \"44px\" : \"0px\",\n          \"env(safe-area-inset-bottom)\":\n            process.env.TEST_PLATFORM === \"ios\" ? \"34px\" : \"0px\",\n          \"env(safe-area-inset-left)\": \"0px\",\n          \"env(safe-area-inset-right)\": \"0px\",\n        };\n        return safeAreaMap[prop] || \"0px\";\n      }),\n      ...(originalGetComputedStyle ? originalGetComputedStyle(element) : {}),\n    };\n    return mockStyle as any;\n  });\n\n  // Mock user agent for mobile detection\n  const mobileUserAgents = {\n    ios: \"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\",\n    android:\n      \"Mozilla/5.0 (Linux; Android 12; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Mobile Safari/537.36\",\n    tablet:\n      \"Mozilla/5.0 (iPad; CPU OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1\",\n    desktop:\n      \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\n  };\n\n  if (\n    process.env.TEST_PLATFORM &&\n    process.env.TEST_PLATFORM in mobileUserAgents\n  ) {\n    Object.defineProperty(navigator, \"userAgent\", {\n      value:\n        mobileUserAgents[\n          process.env.TEST_PLATFORM as keyof typeof mobileUserAgents\n        ],\n      configurable: true,\n    });\n  }\n\n  // Mock platform for mobile detection\n  const platformMap: { [key: string]: string } = {\n    ios: \"iPhone\",\n    android: \"Linux armv8l\",\n    tablet: \"iPad\",\n    desktop: \"MacIntel\",\n  };\n\n  if (process.env.TEST_PLATFORM && process.env.TEST_PLATFORM in platformMap) {\n    Object.defineProperty(navigator, \"platform\", {\n      value: platformMap[process.env.TEST_PLATFORM],\n      configurable: true,\n    });\n  }\n\n  // Mock inner dimensions for different screen sizes\n  const screenDimensions = {\n    mobile: { width: 375, height: 667 },\n    ios: { width: 375, height: 667 },\n    android: { width: 412, height: 892 },\n    tablet: { width: 768, height: 1024 },\n    desktop: { width: 1920, height: 1080 },\n  };\n\n  if (\n    process.env.TEST_PLATFORM &&\n    process.env.TEST_PLATFORM in screenDimensions\n  ) {\n    const dimensions =\n      screenDimensions[\n        process.env.TEST_PLATFORM as keyof typeof screenDimensions\n      ];\n    Object.defineProperty(window, \"innerWidth\", {\n      value: dimensions.width,\n      configurable: true,\n    });\n    Object.defineProperty(window, \"innerHeight\", {\n      value: dimensions.height,\n      configurable: true,\n    });\n    Object.defineProperty(screen, \"width\", {\n      value: dimensions.width,\n      configurable: true,\n    });\n    Object.defineProperty(screen, \"height\", {\n      value: dimensions.height,\n      configurable: true,\n    });\n  }\n}\n\n// Export mobile testing utilities\nexport const MobileTestUtils = {\n  /**\n   * Set the test platform for mobile tests\n   */\n  setPlatform(platform: \"mobile\" | \"ios\" | \"android\" | \"tablet\" | \"desktop\") {\n    process.env.TEST_PLATFORM = platform;\n    // Force refresh of cached values\n    if (typeof window !== \"undefined\") {\n      // Trigger platform detection refresh if available\n      (window as any).__PLATFORM_REFRESH__?.();\n    }\n  },\n\n  /**\n   * Create a mock touch event for testing\n   */\n  createTouchEvent(\n    type: string,\n    touches: Array<{ x: number; y: number; id?: number }>,\n    target?: Element,\n  ): TouchEvent {\n    const touchList = touches.map((touch, index) => ({\n      identifier: touch.id || index,\n      clientX: touch.x,\n      clientY: touch.y,\n      pageX: touch.x,\n      pageY: touch.y,\n      screenX: touch.x,\n      screenY: touch.y,\n      target: target || document.body,\n    }));\n\n    const event = new TouchEvent(type, {\n      touches:\n        type === \"touchend\" || type === \"touchcancel\" ? [] : (touchList as any),\n      changedTouches: touchList as any,\n      targetTouches:\n        type === \"touchend\" || type === \"touchcancel\" ? [] : (touchList as any),\n      bubbles: true,\n      cancelable: true,\n    });\n\n    (event as any).preventDefault = jest.fn();\n    (event as any).stopPropagation = jest.fn();\n\n    return event;\n  },\n\n  /**\n   * Mock device capabilities for testing\n   */\n  mockDeviceCapabilities(capabilities: {\n    vibration?: boolean;\n    geolocation?: boolean;\n    battery?: boolean;\n    memory?: number;\n    connection?: string;\n  }) {\n    if (capabilities.vibration !== undefined) {\n      Object.defineProperty(navigator, \"vibrate\", {\n        value: capabilities.vibration ? jest.fn() : undefined,\n        configurable: true,\n      });\n    }\n\n    if (capabilities.geolocation !== undefined) {\n      Object.defineProperty(navigator, \"geolocation\", {\n        value: capabilities.geolocation\n          ? {\n              getCurrentPosition: jest.fn(),\n              watchPosition: jest.fn(),\n              clearWatch: jest.fn(),\n            }\n          : undefined,\n        configurable: true,\n      });\n    }\n\n    if (capabilities.memory !== undefined) {\n      Object.defineProperty(navigator, \"deviceMemory\", {\n        value: capabilities.memory,\n        configurable: true,\n      });\n    }\n\n    if (capabilities.connection !== undefined) {\n      Object.defineProperty(navigator, \"connection\", {\n        value: {\n          effectiveType: capabilities.connection,\n          type: \"cellular\",\n          downlink: capabilities.connection === \"4g\" ? 10 : 1.5,\n        },\n        configurable: true,\n      });\n    }\n  },\n\n  /**\n   * Reset all mobile mocks to default state\n   */\n  reset() {\n    delete process.env.TEST_PLATFORM;\n    // Reset other mock states as needed\n  },\n};\n"],"version":3}