{"file":"/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__fakes__/FakeLayoutCoordinator.ts","mappings":"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","names":[],"sources":["/Users/kitelev/Documents/exocortex-obsidian-plugin/tests/__fakes__/FakeLayoutCoordinator.ts"],"sourcesContent":["import { Result } from \"../../src/domain/core/Result\";\nimport { ClassLayout } from \"../../src/domain/entities/ClassLayout\";\nimport {\n  ILayoutCoordinator,\n  LayoutRenderResult,\n} from \"../../src/domain/ports/ILayoutCoordinator\";\nimport {\n  RenderContext,\n  BlockRenderResult,\n} from \"../../src/domain/ports/IBlockRenderer\";\n\nexport class FakeLayoutCoordinator implements ILayoutCoordinator {\n  private rendered: Array<{\n    layout: ClassLayout | null;\n    context: RenderContext;\n  }> = [];\n  private shouldFailLayout: boolean = false;\n  private shouldFailDefault: boolean = false;\n  private customResult: LayoutRenderResult | null = null;\n\n  // Configuration methods for test setup\n  public setLayoutRenderingFailure(shouldFail: boolean): void {\n    this.shouldFailLayout = shouldFail;\n  }\n\n  public setDefaultRenderingFailure(shouldFail: boolean): void {\n    this.shouldFailDefault = shouldFail;\n  }\n\n  public setCustomResult(result: LayoutRenderResult): void {\n    this.customResult = result;\n  }\n\n  // Test inspection methods\n  public getRenderedLayouts(): Array<{\n    layout: ClassLayout | null;\n    context: RenderContext;\n  }> {\n    return [...this.rendered];\n  }\n\n  public getLastRenderContext(): RenderContext | null {\n    return this.rendered.length > 0\n      ? this.rendered[this.rendered.length - 1].context\n      : null;\n  }\n\n  public wasLayoutRendered(layoutId: string): boolean {\n    return this.rendered.some((r) => r.layout?.id.toString() === layoutId);\n  }\n\n  public wasDefaultLayoutRendered(): boolean {\n    return this.rendered.some((r) => r.layout === null);\n  }\n\n  public clear(): void {\n    this.rendered = [];\n    this.shouldFailLayout = false;\n    this.shouldFailDefault = false;\n    this.customResult = null;\n  }\n\n  // ILayoutCoordinator implementation\n  async coordinateLayout(\n    layout: ClassLayout,\n    context: RenderContext,\n  ): Promise<Result<LayoutRenderResult>> {\n    this.rendered.push({ layout, context });\n\n    if (this.shouldFailLayout) {\n      return Result.fail(\"Fake layout rendering failure\");\n    }\n\n    if (this.customResult) {\n      return Result.ok(this.customResult);\n    }\n\n    // Create a successful result\n    const blockResults: BlockRenderResult[] = layout\n      .getVisibleBlocks()\n      .map((block) => ({\n        blockId: block.id,\n        renderTime: 10,\n        success: true,\n      }));\n\n    const result: LayoutRenderResult = {\n      layoutId: layout.id.toString(),\n      blocksRendered: blockResults,\n      totalRenderTime: blockResults.length * 10,\n      fallbackUsed: false,\n    };\n\n    return Result.ok(result);\n  }\n\n  async coordinateDefaultLayout(\n    context: RenderContext,\n  ): Promise<Result<LayoutRenderResult>> {\n    this.rendered.push({ layout: null, context });\n\n    if (this.shouldFailDefault) {\n      return Result.fail(\"Fake default layout rendering failure\");\n    }\n\n    if (this.customResult) {\n      return Result.ok(this.customResult);\n    }\n\n    // Create a successful default result\n    const blockResults: BlockRenderResult[] = [\n      { blockId: \"default-properties\", renderTime: 5, success: true },\n      { blockId: \"default-children-efforts\", renderTime: 8, success: true },\n      { blockId: \"default-backlinks\", renderTime: 12, success: true },\n    ];\n\n    const result: LayoutRenderResult = {\n      layoutId: \"default\",\n      blocksRendered: blockResults,\n      totalRenderTime: 25,\n      fallbackUsed: true,\n    };\n\n    return Result.ok(result);\n  }\n}\n"],"version":3}