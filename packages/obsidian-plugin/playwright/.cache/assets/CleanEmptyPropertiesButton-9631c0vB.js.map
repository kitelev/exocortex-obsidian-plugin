{"version":3,"file":"CleanEmptyPropertiesButton-9631c0vB.js","sources":["../../../src/presentation/components/CleanEmptyPropertiesButton.tsx"],"sourcesContent":["import React from \"react\";\nimport { TFile } from \"obsidian\";\nimport { canCleanProperties, CommandVisibilityContext } from '@exocortex/core';\n\nexport interface CleanEmptyPropertiesButtonProps {\n  sourceFile: TFile;\n  metadata: Record<string, any>;\n  onCleanup: () => Promise<void>;\n}\n\nexport const CleanEmptyPropertiesButton: React.FC<\n  CleanEmptyPropertiesButtonProps\n> = ({ sourceFile, metadata, onCleanup }) => {\n  // Use centralized visibility logic from CommandVisibility\n  const hasEmptyProperties = React.useMemo(() => {\n    const context: CommandVisibilityContext = {\n      instanceClass: null,\n      currentStatus: null,\n      metadata,\n      isArchived: false,\n      currentFolder: sourceFile.parent?.path || \"\",\n      expectedFolder: null,\n    };\n    return canCleanProperties(context);\n  }, [metadata, sourceFile]);\n\n  const handleClick = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    await onCleanup();\n  };\n\n  if (!hasEmptyProperties) {\n    return null;\n  }\n\n  return (\n    <button\n      className=\"exocortex-clean-properties-btn\"\n      onClick={handleClick}\n      type=\"button\"\n    >\n      Clean Empty Properties\n    </button>\n  );\n};\n"],"names":["jsx"],"mappings":";;;;;AAUO,MAAM,6BAET,CAAC,EAAE,UAAA,EAAY,QAAA,EAAU,WAAU,KAAM;AAE3C,EAAA,MAAM,kBAAA,GAAqB,KAAA,CAAM,OAAA,CAAQ,MAAM;AAC7C,IAAA,MAAM,OAAA,GAAoC;AAAA,MACxC,aAAA,EAAe,IAAA;AAAA,MACf,aAAA,EAAe,IAAA;AAAA,MACf,QAAA;AAAA,MACA,UAAA,EAAY,KAAA;AAAA,MACZ,aAAA,EAAe,UAAA,CAAW,MAAA,EAAQ,IAAA,IAAQ,EAAA;AAAA,MAC1C,cAAA,EAAgB;AAAA,KAClB;AACA,IAAA,OAAO,mBAAmB,OAAO,CAAA;AAAA,EACnC,CAAA,EAAG,CAAC,QAAA,EAAU,UAAU,CAAC,CAAA;AAEzB,EAAA,MAAM,WAAA,GAAc,OAAO,CAAA,KAAwB;AACjD,IAAA,CAAA,CAAE,cAAA,EAAe;AACjB,IAAA,MAAM,SAAA,EAAU;AAAA,EAClB,CAAA;AAEA,EAAA,IAAI,CAAC,kBAAA,EAAoB;AACvB,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,uBACEA,qBAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,gCAAA;AAAA,MACV,OAAA,EAAS,WAAA;AAAA,MACT,IAAA,EAAK,QAAA;AAAA,MACN,QAAA,EAAA;AAAA;AAAA,GAED;AAEJ;;;;"}