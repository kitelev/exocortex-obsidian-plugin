{"version":3,"file":"RepairFolderButton-D5zUa_PX.js","sources":["../../../src/presentation/components/RepairFolderButton.tsx"],"sourcesContent":["import React from \"react\";\nimport { TFile } from \"obsidian\";\nimport { canRepairFolder, CommandVisibilityContext } from '@exocortex/core';\n\nexport interface RepairFolderButtonProps {\n  sourceFile: TFile;\n  currentFolder: string;\n  expectedFolder: string | null;\n  onRepair: () => Promise<void>;\n}\n\nexport const RepairFolderButton: React.FC<RepairFolderButtonProps> = ({\n  currentFolder,\n  expectedFolder,\n  onRepair,\n}) => {\n  // Use centralized visibility logic from CommandVisibility\n  const needsRepair = React.useMemo(() => {\n    const context: CommandVisibilityContext = {\n      instanceClass: null,\n      currentStatus: null,\n      metadata: {},\n      isArchived: false,\n      currentFolder,\n      expectedFolder,\n    };\n    return canRepairFolder(context);\n  }, [currentFolder, expectedFolder]);\n\n  const handleClick = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    await onRepair();\n  };\n\n  if (!needsRepair) {\n    return null;\n  }\n\n  return (\n    <button\n      className=\"exocortex-repair-folder-btn\"\n      onClick={handleClick}\n      type=\"button\"\n      title={`Move to ${expectedFolder}`}\n    >\n      Repair Folder\n    </button>\n  );\n};\n"],"names":["jsx"],"mappings":";;;;;AAWO,MAAM,qBAAwD,CAAC;AAAA,EACpE,aAAA;AAAA,EACA,cAAA;AAAA,EACA;AACF,CAAA,KAAM;AAEJ,EAAA,MAAM,WAAA,GAAc,KAAA,CAAM,OAAA,CAAQ,MAAM;AACtC,IAAA,MAAM,OAAA,GAAoC;AAAA,MACxC,aAAA,EAAe,IAAA;AAAA,MACf,aAAA,EAAe,IAAA;AAAA,MACf,UAAU,EAAC;AAAA,MACX,UAAA,EAAY,KAAA;AAAA,MACZ,aAAA;AAAA,MACA;AAAA,KACF;AACA,IAAA,OAAO,gBAAgB,OAAO,CAAA;AAAA,EAChC,CAAA,EAAG,CAAC,aAAA,EAAe,cAAc,CAAC,CAAA;AAElC,EAAA,MAAM,WAAA,GAAc,OAAO,CAAA,KAAwB;AACjD,IAAA,CAAA,CAAE,cAAA,EAAe;AACjB,IAAA,MAAM,QAAA,EAAS;AAAA,EACjB,CAAA;AAEA,EAAA,IAAI,CAAC,WAAA,EAAa;AAChB,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,uBACEA,qBAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,6BAAA;AAAA,MACV,OAAA,EAAS,WAAA;AAAA,MACT,IAAA,EAAK,QAAA;AAAA,MACL,KAAA,EAAO,WAAW,cAAc,CAAA,CAAA;AAAA,MACjC,QAAA,EAAA;AAAA;AAAA,GAED;AAEJ;;;;"}