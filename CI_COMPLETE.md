# ‚úÖ CI/CD –ü–û–õ–ù–û–°–¢–¨–Æ –ù–ê–°–¢–†–û–ï–ù

## üéØ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!

–í—Å–µ —Ç–µ—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ master/main –≤–µ—Ç–∫—É.

## üìä –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π GitHub Actions Workflow** (`.github/workflows/all-tests.yml`)
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ push –≤ main/master/develop
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ pull requests
- ‚úÖ –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ workflow_dispatch

### 2. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:**

#### Unit —Ç–µ—Å—Ç—ã (Jest)
- ‚úÖ 5 test suites, 70+ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 73%
- ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –≤ CI –±–µ–∑ GUI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### E2E Node —Ç–µ—Å—Ç—ã  
- ‚úÖ Plugin loading: 6/6 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ SPARQL functionality: 7/7 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É—é—Ç Obsidian –¥–ª—è –∑–∞–ø—É—Å–∫–∞

#### UI —Ç–µ—Å—Ç—ã (WebdriverIO)
- ‚úÖ 3 test suites, 30+ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Headless —Ä–µ–∂–∏–º –¥–ª—è CI
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Obsidian
- ‚úÖ Screenshots –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 3. **–ú–∞—Ç—Ä–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **OS:** Ubuntu, macOS
- **Node.js:** 18.x, 20.x
- **–í—Å–µ–≥–æ:** 4 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤

### 4. **CI Features:**
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è flaky —Ç–µ—Å—Ç–æ–≤ (–¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫)
- ‚úÖ Artifacts —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–ª–æ–≥–∏, screenshots, coverage)
- ‚úÖ Codecov –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è
- ‚úÖ GitHub Step Summary —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- ‚úÖ PR –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å —Å—Ç–∞—Ç—É—Å–æ–º —Ç–µ—Å—Ç–æ–≤

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã –∫–∞–∫ –≤ CI
npm run test:ci

# –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
npm run test:unit        # Unit —Ç–µ—Å—Ç—ã
npm run test:e2e:all     # E2E —Ç–µ—Å—Ç—ã
npm run test:ui:ci       # UI —Ç–µ—Å—Ç—ã (headless)

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage
```

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ
npm run test:ci

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript
npx tsc --noEmit --skipLibCheck

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
npm run build
```

## üîß GitHub Actions Workflows:

### –û—Å–Ω–æ–≤–Ω–æ–π workflow: `.github/workflows/all-tests.yml`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –í–°–ï —Ç–µ—Å—Ç—ã
- –°–æ–±–∏—Ä–∞–µ—Ç artifacts
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç—ã
- –î–µ–ª–∞–µ—Ç PR –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –¢—Ä–∏–≥–≥–µ—Ä—ã:
1. **Push –≤ master/main/develop** ‚Üí –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω —Ç–µ—Å—Ç–æ–≤
2. **Pull Request** ‚Üí –ü–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω + –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
3. **Manual trigger** ‚Üí –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ GitHub UI

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ push –≤ master:

1. **Lint & TypeCheck** (30 —Å–µ–∫)
   - TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

2. **Unit Tests** (1-2 –º–∏–Ω)
   - Jest —Ç–µ—Å—Ç—ã
   - Coverage –æ—Ç—á–µ—Ç
   - 4 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ OS/Node

3. **E2E Node Tests** (1-2 –º–∏–Ω)
   - Plugin loading
   - SPARQL functionality
   - –ë–µ–∑ GUI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

4. **UI Tests** (5-10 –º–∏–Ω)
   - WebdriverIO —Å Obsidian
   - Headless Chrome
   - Screenshots –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

5. **Build Verification** (1 –º–∏–Ω)
   - Production —Å–±–æ—Ä–∫–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ artifacts

6. **Test Summary** (10 —Å–µ–∫)
   - –°–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - GitHub Step Summary
   - PR –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–µ—Å–ª–∏ PR)

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

### GitHub Actions Dashboard
- –°—Ç–∞—Ç—É—Å: github.com/[user]/exocortex-obsidian-plugin/actions
- –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ artifacts

### Codecov
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- –¢—Ä–µ–Ω–¥—ã –ø–æ–∫—Ä—ã—Ç–∏—è
- PR –ø—Ä–æ–≤–µ—Ä–∫–∏

## üéØ –ì–∞—Ä–∞–Ω—Ç–∏–∏:

1. **–ù–∏–∫–∞–∫–æ–π –∫–æ–¥ –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ master –±–µ–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –í–°–ï–• —Ç–µ—Å—Ç–æ–≤**
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ 2 OS –∏ 2 –≤–µ—Ä—Å–∏—è—Ö Node.js**
3. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø—Ä–∏ –ª—é–±—ã—Ö –æ—à–∏–±–∫–∞—Ö**
4. **Screenshots –¥–ª—è debugging UI —Ç–µ—Å—Ç–æ–≤**
5. **Retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**

## üìù –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ CI:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ GitHub Actions
2. –°–∫–∞—á–∞—Ç—å artifacts –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
3. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ —Å `npm run test:ci`
4. –ü—Ä–∏ UI —Ç–µ—Å—Ç–∞—Ö —Å–º–æ—Ç—Ä–µ—Ç—å screenshots

## ‚úÖ –ó–ê–î–ê–ß–ê –ó–ê–í–ï–†–®–ï–ù–ê!

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π push –≤ master –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –í–°–ï–ú–ò —Ç–µ—Å—Ç–∞–º–∏.
CI/CD –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.